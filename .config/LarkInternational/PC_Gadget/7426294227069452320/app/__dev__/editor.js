(()=>{var e={472:()=>{var e=Node.prototype.removeChild;function t(t){return t.parentNode!==this&&this instanceof HTMLElement&&this.closest(".editor-kit-container")?t:e.call(this,t)}Element.prototype.removeChild=t,Node.prototype.removeChild=t},690:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),l=0,s=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(l=a-Math.min(i,o)),a-=1;a>=l;){if(s[0][a]>s[1][a])return 1;if(s[0][a]===s[1][a]){if(a===l)return 0;a-=1}else if(s[0][a]<s[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var l=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)l();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=l,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(92)),i=s(n(93)),o=s(n(94)),a=s(n(95)),l=s(n(17));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=l.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=l.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=l.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=l.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return l.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),s=l.default.find(a,(function(e){return t.isOS(e)}));if(s){var u=this.satisfies(n[s]);if(void 0!==u)return u}var c=l.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var d=this.satisfies(n[c]);if(void 0!==d)return d}}if(o>0){var f=Object.keys(i),h=l.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=l.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(l.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},779:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var l in n)r.call(n,l)&&n[l]&&e.push(l);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".editor-kit-container {\n  -webkit-font-smoothing: antialiased;\n  font-size: 16px;\n  line-height: 1.625;\n  outline: none;\n  position: relative;\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n}\n.editor-kit-container[data-placeholder]::before {\n  content: attr(data-placeholder);\n}\n.editor-kit-container::before {\n  content: attr(data-placeholder);\n  pointer-events: none;\n  position: absolute;\n  color: #bbbfc4;\n  height: 0;\n}\n.editor-kit-container .ace-line {\n  margin-bottom: 8px;\n  margin-top: 8px;\n}\n.editor-kit-container .ace-line .not-display-enter {\n  position: absolute;\n  display: inline-block;\n  width: 0;\n  height: 0;\n}\n.editor-kit-container .ace-line:first-child {\n  margin-top: 0;\n}\n.editor-kit-container .ace-table td .ace-line:first-child {\n  margin-top: 0;\n}\n.editor-kit-container .ace-table td .ace-line:last-child {\n  margin-bottom: 0;\n}\n.outterdocbody {\n  position: 'relative';\n  overflow-y: 'auto';\n}\n.doc-resize-placeholder {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: -120%;\n  left: 0;\n  user-select: none;\n  visibility: hidden;\n}\n",""]);const o=i},926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".editor-kit-container .image-container-wrap {\n  text-align: center;\n}\n.editor-kit-container .align-center {\n  text-align: center;\n}\n.editor-kit-container .align-center .image-container-wrap {\n  text-align: center;\n}\n.editor-kit-container .align-center li {\n  list-style-position: inside;\n}\n.editor-kit-container .align-right {\n  text-align: right;\n}\n.editor-kit-container .align-right .image-container-wrap {\n  text-align: right;\n}\n.editor-kit-container .align-right li {\n  list-style-position: inside;\n}\n.editor-kit-container .align-left .image-container-wrap {\n  text-align: left;\n}\n.editor-kit-container .align-justify {\n  text-align: justify;\n}\n.editor-kit-container .align-justify .image-container-wrap {\n  text-align: justify;\n}\n.editor-kit-container .align-justify li {\n  list-style-position: inside;\n}\n",""]);const o=i},792:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".editor-kit-container {\n  /*\n   * important!\n   * for every heading including non-heading\n   *   ul:padding-left = @margin * 2 + width\n   *   before:margin-left = -(ul:padding-left - @margin)\n   *   before:margin-right = @margin\n   *\n   * non-heading as eg:\n   *   @margin = 9.6px (get this margin through debugging)\n   *   width = 12px\n   *   margin-left = -23.6px\n   *   margin-right = 9.6px\n   */\n}\n.editor-kit-container ul {\n  margin: 0;\n}\n.editor-kit-container ul.list-done li {\n  text-decoration: line-through;\n}\n.editor-kit-container ul.list-done li:before {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='14' height='14' viewBox='0 0 14 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5886 3.90283L11.3971 4.71133C11.4296 4.74383 11.4554 4.78242 11.473 4.82488C11.4906 4.86735 11.4996 4.91287 11.4996 4.95883C11.4996 5.0048 11.4906 5.05031 11.473 5.09278C11.4554 5.13524 11.4296 5.17383 11.3971 5.20633L6.17862 10.4248C6.14612 10.4573 6.10754 10.4831 6.06507 10.5007C6.0226 10.5183 5.97709 10.5274 5.93112 10.5274C5.88516 10.5274 5.83964 10.5183 5.79718 10.5007C5.75471 10.4831 5.71612 10.4573 5.68362 10.4248L2.70262 7.44383C2.67012 7.41133 2.64433 7.37275 2.62674 7.33028C2.60915 7.28781 2.6001 7.2423 2.6001 7.19633C2.6001 7.15037 2.60915 7.10485 2.62674 7.06239C2.64433 7.01992 2.67012 6.98133 2.70262 6.94883L3.51112 6.14083C3.54362 6.10833 3.58221 6.08254 3.62468 6.06495C3.66714 6.04736 3.71266 6.03831 3.75862 6.03831C3.80459 6.03831 3.8501 6.04736 3.89257 6.06495C3.93504 6.08254 3.97362 6.10833 4.00612 6.14083L5.93112 8.06533L10.0941 3.90233C10.1266 3.86983 10.1652 3.84404 10.2077 3.82645C10.2501 3.80886 10.2957 3.7998 10.3416 3.7998C10.3876 3.7998 10.4331 3.80886 10.4756 3.82645C10.518 3.84404 10.5561 3.87033 10.5886 3.90283Z' fill='%233370FF'/%3E%3C/svg%3E\");\n  border-color: #373c43;\n}\n.editor-kit-container ul.list-check,\n.editor-kit-container ul.list-done {\n  padding-left: 28px;\n  margin-left: -6px;\n  position: relative;\n  list-style-type: none;\n}\n.editor-kit-container ul.list-check li:before,\n.editor-kit-container ul.list-done li:before {\n  width: 14px;\n  height: 14px;\n  margin-left: -22px;\n  margin-right: 6px;\n  border: 1px solid #2b2f36;\n}\n.editor-kit-container ul.list-check .collapsable-section-handle,\n.editor-kit-container ul.list-done .collapsable-section-handle {\n  transform: translateY(1px);\n}\n.editor-kit-container ul.list-check li:before,\n.editor-kit-container ul.list-done li:before {\n  content: \" \";\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  line-height: normal;\n  font-size: 16px;\n  top: 2px;\n  border-radius: 2px;\n  border: 1px solid #2b2f36;\n  background-position: center;\n  white-space: normal;\n}\n.editor-kit-container .disable-click ul.list-check li:before,\n.editor-kit-container .disable-click ul.list-done li:before {\n  cursor: default;\n}\n.editor-kit-container .heading-h1 ul.list-check,\n.editor-kit-container .heading-h1 ul.list-done {\n  padding-left: 40px;\n  margin-left: -6px;\n}\n.editor-kit-container .heading-h1 ul.list-check li:before,\n.editor-kit-container .heading-h1 ul.list-done li:before {\n  width: 18px;\n  height: 18px;\n  margin-left: -34px;\n  margin-right: 10px;\n  border: 3px solid #2b2f36;\n}\n.editor-kit-container .heading-h1 ul.list-check li:before,\n.editor-kit-container .heading-h1 ul.list-done li:before {\n  font-size: 30px;\n}\n.editor-kit-container .heading-h2 ul.list-check,\n.editor-kit-container .heading-h2 ul.list-done {\n  padding-left: 33px;\n  margin-left: -6px;\n}\n.editor-kit-container .heading-h2 ul.list-check li:before,\n.editor-kit-container .heading-h2 ul.list-done li:before {\n  width: 15px;\n  height: 15px;\n  margin-left: -27px;\n  margin-right: 8px;\n  border: 2px solid #2b2f36;\n}\n.editor-kit-container .heading-h2 ul.list-check li:before,\n.editor-kit-container .heading-h2 ul.list-done li:before {\n  font-size: 24px;\n}\n.editor-kit-container .heading-h3 ul.list-check,\n.editor-kit-container .heading-h3 ul.list-done {\n  padding-left: 32px;\n  margin-left: -6px;\n}\n.editor-kit-container .heading-h3 ul.list-check li:before,\n.editor-kit-container .heading-h3 ul.list-done li:before {\n  width: 14px;\n  height: 14px;\n  margin-left: -26px;\n  margin-right: 8px;\n  border: 2px solid #2b2f36;\n}\n.editor-kit-container .heading-h3 ul.list-check li:before,\n.editor-kit-container .heading-h3 ul.list-done li:before {\n  font-size: 20px;\n}\n.editor-kit-container .ace-table .heading-h1 ul.list-check,\n.editor-kit-container .ace-table .heading-h1 ul.list-done {\n  padding-left: 32px;\n  margin-left: -6px;\n}\n.editor-kit-container .ace-table .heading-h1 ul.list-check li:before,\n.editor-kit-container .ace-table .heading-h1 ul.list-done li:before {\n  width: 16px;\n  height: 16px;\n  margin-left: -26px;\n  margin-right: 6px;\n  border: 2px solid #2b2f36;\n}\n.editor-kit-container .ace-table .heading-h1 ul.list-check li:before,\n.editor-kit-container .ace-table .heading-h1 ul.list-done li:before {\n  font-size: 24px;\n}\n.editor-kit-container .ace-table .heading-h2 ul.list-check,\n.editor-kit-container .ace-table .heading-h2 ul.list-done {\n  padding-left: 30px;\n  margin-left: -6px;\n}\n.editor-kit-container .ace-table .heading-h2 ul.list-check li:before,\n.editor-kit-container .ace-table .heading-h2 ul.list-done li:before {\n  width: 14px;\n  height: 14px;\n  margin-left: -24px;\n  margin-right: 6px;\n  border: 2px solid #2b2f36;\n}\n.editor-kit-container .ace-table .heading-h2 ul.list-check li:before,\n.editor-kit-container .ace-table .heading-h2 ul.list-done li:before {\n  font-size: 20px;\n}\n.editor-kit-container .ace-table .heading-h3 ul.list-check,\n.editor-kit-container .ace-table .heading-h3 ul.list-done {\n  padding-left: 28px;\n  margin-left: -6px;\n}\n.editor-kit-container .ace-table .heading-h3 ul.list-check li:before,\n.editor-kit-container .ace-table .heading-h3 ul.list-done li:before {\n  width: 12px;\n  height: 12px;\n  margin-left: -22px;\n  margin-right: 6px;\n  border: 2px solid #2b2f36;\n}\n.editor-kit-container .ace-table .heading-h3 ul.list-check li:before,\n.editor-kit-container .ace-table .heading-h3 ul.list-done li:before {\n  font-size: 18px;\n}\n.editor-kit-container .ace-table .heading-h4 ul.list-check,\n.editor-kit-container .ace-table .heading-h4 ul.list-done {\n  padding-left: 28px;\n  margin-left: -6px;\n}\n.editor-kit-container .ace-table .heading-h4 ul.list-check li:before,\n.editor-kit-container .ace-table .heading-h4 ul.list-done li:before {\n  width: 12px;\n  height: 12px;\n  margin-left: -22px;\n  margin-right: 6px;\n  border: 2px solid #2b2f36;\n}\n.editor-kit-container .ace-table .heading-h4 ul.list-check li:before,\n.editor-kit-container .ace-table .heading-h4 ul.list-done li:before {\n  font-size: 19px;\n}\n",""]);const o=i},825:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".editor-kit-container .heading-h1 {\n  line-height: 1.5;\n  font-size: 26px;\n  margin-top: 26px;\n  margin-bottom: 10px;\n  font-weight: 500;\n}\n.editor-kit-container .heading-h2 {\n  line-height: 1.5;\n  font-size: 22px;\n  margin-top: 22px;\n  margin-bottom: 8px;\n  font-weight: 500;\n}\n.editor-kit-container .heading-h3 {\n  line-height: 1.5;\n  font-size: 20px;\n  margin-top: 20px;\n  margin-bottom: 8px;\n  font-weight: 500;\n}\n",""]);const o=i},823:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".adit-popup-container {\n  position: relative;\n}\n/* Web 标准色盘 */\n.adit-popup-container .link-popup,\n.adit-popup-container .link-modify-popup,\n.adit-popup-container .link-noty-popup {\n  z-index: 10000;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  -webkit-font-smoothing: antialiased;\n  border-radius: 8px;\n  padding: 20px;\n  line-height: 1.5;\n  font-size: 14px;\n  background-color: #fff;\n  box-shadow: 0 3px 12px 0 rgba(31, 35, 41, 0.1);\n  border: 1px solid #dee0e3;\n  color: #8f959e;\n}\n.adit-popup-container .link-popup *,\n.adit-popup-container .link-modify-popup *,\n.adit-popup-container .link-noty-popup * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  -webkit-font-smoothing: antialiased;\n}\n.adit-popup-container .link-popup a,\n.adit-popup-container .link-modify-popup a,\n.adit-popup-container .link-noty-popup a,\n.adit-popup-container .link-popup button,\n.adit-popup-container .link-modify-popup button,\n.adit-popup-container .link-noty-popup button,\n.adit-popup-container .link-popup input,\n.adit-popup-container .link-modify-popup input,\n.adit-popup-container .link-noty-popup input,\n.adit-popup-container .link-popup textarea,\n.adit-popup-container .link-modify-popup textarea,\n.adit-popup-container .link-noty-popup textarea {\n  outline: 0;\n}\n.adit-popup-container .link-popup button,\n.adit-popup-container .link-modify-popup button,\n.adit-popup-container .link-noty-popup button {\n  cursor: pointer;\n  border: none;\n  background: none;\n}\n.adit-popup-container .link-popup.link-popup_hidden,\n.adit-popup-container .link-modify-popup.link-popup_hidden,\n.adit-popup-container .link-noty-popup.link-popup_hidden,\n.adit-popup-container .link-popup.link-modify-popup_hidden,\n.adit-popup-container .link-modify-popup.link-modify-popup_hidden,\n.adit-popup-container .link-noty-popup.link-modify-popup_hidden,\n.adit-popup-container .link-popup.link-noty-popup_hidden,\n.adit-popup-container .link-modify-popup.link-noty-popup_hidden,\n.adit-popup-container .link-noty-popup.link-noty-popup_hidden {\n  display: none;\n}\n.adit-popup-container .link-popup__triangle,\n.adit-popup-container .link-modify-popup__triangle,\n.adit-popup-container .link-noty-popup__triangle {\n  position: absolute;\n  top: -15px;\n  left: 50%;\n  margin-left: -10px;\n  -webkit-filter: drop-shadow(1px -1px 1px rgba(67, 74, 84, 0.12));\n  filter: drop-shadow(1px -1px 1px rgba(67, 74, 84, 0.12));\n}\n.adit-popup-container .link-popup .link-row,\n.adit-popup-container .link-modify-popup .link-row,\n.adit-popup-container .link-noty-popup .link-row {\n  white-space: nowrap;\n}\n.adit-popup-container .link-popup .link-row-text,\n.adit-popup-container .link-modify-popup .link-row-text,\n.adit-popup-container .link-noty-popup .link-row-text {\n  display: inline-block;\n  margin-right: 8px;\n  text-align: right;\n  color: #1f2329;\n}\n.adit-popup-container .link-popup .link-row-input,\n.adit-popup-container .link-modify-popup .link-row-input,\n.adit-popup-container .link-noty-popup .link-row-input {\n  height: 32px;\n  width: 261px;\n  line-height: 32px;\n  font-size: 14px;\n  padding-left: 9px;\n  border-radius: 6px;\n  border: solid 1px #dee0e3;\n  color: #1f2329;\n}\n.adit-popup-container .link-popup .link-row-input::-webkit-input-placeholder,\n.adit-popup-container .link-modify-popup .link-row-input::-webkit-input-placeholder,\n.adit-popup-container .link-noty-popup .link-row-input::-webkit-input-placeholder {\n  color: #8f959e;\n}\n.adit-popup-container .link-popup .link-row-input::-moz-placeholder,\n.adit-popup-container .link-modify-popup .link-row-input::-moz-placeholder,\n.adit-popup-container .link-noty-popup .link-row-input::-moz-placeholder {\n  color: #8f959e;\n}\n.adit-popup-container .link-popup .link-row-input:-ms-input-placeholder,\n.adit-popup-container .link-modify-popup .link-row-input:-ms-input-placeholder,\n.adit-popup-container .link-noty-popup .link-row-input:-ms-input-placeholder {\n  color: #8f959e;\n}\n.adit-popup-container .link-popup .link-row-input:focus,\n.adit-popup-container .link-modify-popup .link-row-input:focus,\n.adit-popup-container .link-noty-popup .link-row-input:focus {\n  border-color: #3370ff;\n}\n.adit-popup-container .link-popup .link-row:last-child,\n.adit-popup-container .link-modify-popup .link-row:last-child,\n.adit-popup-container .link-noty-popup .link-row:last-child {\n  margin-top: 16px;\n}\n.adit-popup-container .link-popup .link-row:first-child,\n.adit-popup-container .link-modify-popup .link-row:first-child,\n.adit-popup-container .link-noty-popup .link-row:first-child {\n  margin-top: 0;\n}\n.adit-popup-container .link-popup .link-submit,\n.adit-popup-container .link-modify-popup .link-submit,\n.adit-popup-container .link-noty-popup .link-submit,\n.adit-popup-container .link-popup .link-modify-submit,\n.adit-popup-container .link-modify-popup .link-modify-submit,\n.adit-popup-container .link-noty-popup .link-modify-submit {\n  display: inline-block;\n  vertical-align: top;\n  width: 80px;\n  border: none;\n  height: 32px;\n  color: #fff;\n  cursor: pointer;\n  background-color: #3370ff;\n  margin-left: 20px;\n  border-radius: 6px;\n  font-size: 14px;\n}\n.adit-popup-container .link-popup .link-submit:active,\n.adit-popup-container .link-modify-popup .link-submit:active,\n.adit-popup-container .link-noty-popup .link-submit:active,\n.adit-popup-container .link-popup .link-modify-submit:active,\n.adit-popup-container .link-modify-popup .link-modify-submit:active,\n.adit-popup-container .link-noty-popup .link-modify-submit:active {\n  background-color: #3370ff;\n}\n.adit-popup-container .link-popup .link-submit > svg,\n.adit-popup-container .link-modify-popup .link-submit > svg,\n.adit-popup-container .link-noty-popup .link-submit > svg,\n.adit-popup-container .link-popup .link-modify-submit > svg,\n.adit-popup-container .link-modify-popup .link-modify-submit > svg,\n.adit-popup-container .link-noty-popup .link-modify-submit > svg {\n  display: inline-block;\n}\n.adit-popup-container .link-popup .link-submit:disabled,\n.adit-popup-container .link-modify-popup .link-submit:disabled,\n.adit-popup-container .link-noty-popup .link-submit:disabled {\n  background-color: #bbbfc4;\n}\n.adit-popup-container .link-popup.link-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-modify-popup.link-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-noty-popup.link-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-popup.link-modify-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-modify-popup.link-modify-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-noty-popup.link-modify-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-popup.link-noty-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-modify-popup.link-noty-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-noty-popup.link-noty-popup__uncollapsed .link-row:first-child {\n  display: none;\n}\n.adit-popup-container .link-popup.link-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-modify-popup.link-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-noty-popup.link-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-popup.link-modify-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-modify-popup.link-modify-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-noty-popup.link-modify-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-popup.link-noty-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-modify-popup.link-noty-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-noty-popup.link-noty-popup__uncollapsed .link-row:last-child {\n  margin-top: 0;\n}\n.adit-popup-container .link-input::-webkit-input-placeholder,\n.adit-popup-container .link-modify-input::-webkit-input-placeholder,\n.adit-popup-container .link-input::-moz-placeholder,\n.adit-popup-container .link-modify-input::-moz-placeholder,\n.adit-popup-container .link-input:-ms-input-placeholder,\n.adit-popup-container .link-modify-input:-ms-input-placeholder,\n.adit-popup-container .link-input:-moz-placeholder,\n.adit-popup-container .link-modify-input:-moz-placeholder {\n  color: #bbbfc4;\n}\n.adit-popup-container .link-iframe {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n}\n.adit-popup-container .link-iframe__icon {\n  width: 24px;\n  height: 24px;\n  background-size: contain;\n  border-radius: 50%;\n  border: 1px solid #e3e5ea;\n}\n.adit-popup-container .link-iframe__input {\n  margin: 0 19px 0 9px;\n  border: none;\n  text-overflow: ellipsis;\n  width: 210px;\n}\n.adit-popup-container .link-iframe__example {\n  font-size: 14px;\n  color: #0077ff;\n}\n.adit-popup-container .link-iframe__submit {\n  background-color: #0077ff;\n  border-radius: 16px;\n  font-size: 14px;\n  color: #ffffff;\n  line-height: 20px;\n  padding: 6px 18px;\n  margin-left: 16px;\n}\n.adit-popup-container .link-iframe.hidden {\n  display: none;\n}\n.adit-popup-container .link-popup__input-group.hidden {\n  display: none;\n}\n.adit-popup-container .link-popup--iframe .link-popup__triangle {\n  display: none;\n}\n.adit-popup-container .link-modify-popup {\n  z-index: 10000;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  -webkit-font-smoothing: antialiased;\n  height: 40px;\n  padding: 8px;\n}\n.adit-popup-container .link-modify-popup * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  -webkit-font-smoothing: antialiased;\n}\n.adit-popup-container .link-modify-popup a,\n.adit-popup-container .link-modify-popup button,\n.adit-popup-container .link-modify-popup input,\n.adit-popup-container .link-modify-popup textarea {\n  outline: 0;\n}\n.adit-popup-container .link-modify-popup button {\n  cursor: pointer;\n  border: none;\n  background: none;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group {\n  font-size: 0;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row {\n  padding-left: 5px;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row button {\n  width: 24px;\n  height: 24px;\n  margin-left: 12px;\n  vertical-align: middle;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row button:hover {\n  background-color: rgba(31, 35, 41, 0.08);\n  border-radius: 6px;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row .link-modify-input {\n  width: 253px;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row .link-modify-text {\n  display: inline-block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 249px;\n  font-size: 14px;\n  text-align: left;\n  vertical-align: middle;\n  color: #3370ff;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row .link-modify-submit {\n  background: none;\n  margin-left: 15px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row .link-modify-submit svg {\n  padding: 3px;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row .link-modify-close {\n  margin-top: 2px;\n  display: inline-block;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row .link-modify-delete svg {\n  padding: 3px;\n}\n.editor-kit-container .lb {\n  background: #eff0f1;\n}\n.editor-kit-container .url a {\n  color: #3370ff;\n  text-decoration: none;\n}\n.editor-kit-container .url a:hover {\n  text-decoration: none;\n}\n.editor-kit-container .removeLink {\n  hyphens: none;\n  word-break: break-all;\n}\n.editor-kit-container span.outer-u-container:hover {\n  text-decoration: underline;\n}\n",""]);const o=i},772:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"/* Web 标准色盘 */\n.editor-kit-container .align-center .image-container {\n  text-align: center;\n}\n.editor-kit-container .align-left .image-container {\n  text-align: left;\n}\n.editor-kit-container .align-right .image-container {\n  text-align: right;\n}\n.editor-kit-container .image-container {\n  color: transparent;\n}\n.editor-kit-container .image-container .image-wrapper {\n  position: relative;\n  border: 2px solid transparent;\n  line-height: 0;\n  display: inline-block;\n}\n.editor-kit-container .image-container .image-wrapper:not(.selected):hover {\n  box-shadow: 0 0 0 2px #bacefd;\n}\n.editor-kit-container .image-container .image-wrapper img {\n  max-width: 100%;\n  -webkit-user-drag: none;\n  display: block;\n}\n.editor-kit-container .image-container .image-wrapper .point {\n  display: none;\n  position: absolute;\n  width: 18px;\n  height: 18px;\n  border: 2px solid #fff;\n  background-color: #3370ff;\n  font-size: 14px;\n  user-select: none;\n}\n.editor-kit-container .image-container .image-wrapper .point.n-icon-dragable {\n  height: 16px;\n  width: 16px;\n  background: #3370ff;\n  border-radius: 50%;\n}\n.editor-kit-container .image-container .image-wrapper .tl {\n  top: -10px;\n  left: -10px;\n  cursor: nwse-resize;\n}\n.editor-kit-container .image-container .image-wrapper .tc {\n  top: -10px;\n  left: 50%;\n  margin-left: -10px;\n  cursor: n-resize;\n}\n.editor-kit-container .image-container .image-wrapper .tr {\n  top: -10px;\n  right: -10px;\n  cursor: nesw-resize;\n}\n.editor-kit-container .image-container .image-wrapper .cr {\n  top: 50%;\n  right: -10px;\n  margin-top: -10px;\n  cursor: e-resize;\n}\n.editor-kit-container .image-container .image-wrapper .br {\n  bottom: -10px;\n  right: -10px;\n  cursor: nwse-resize;\n}\n.editor-kit-container .image-container .image-wrapper .bc {\n  bottom: -10px;\n  left: 50%;\n  margin-left: -10px;\n  cursor: s-resize;\n}\n.editor-kit-container .image-container .image-wrapper .bl {\n  bottom: -10px;\n  left: -10px;\n  cursor: nesw-resize;\n}\n.editor-kit-container .image-container .image-wrapper .lc {\n  left: -10px;\n  top: 50%;\n  margin-top: -10px;\n  cursor: w-resize;\n}\n.editor-kit-container .image-container .image-wrapper.selected {\n  border-color: #3370ff;\n}\n.editor-kit-container .image-container .image-wrapper.selected .point.n-icon-dragable {\n  display: block;\n}\n.editor-kit-container .image-container.unresize .image-wrapper {\n  border: 0;\n}\n.editor-kit-container .image-container.unresize .image-wrapper:hover {\n  box-shadow: none;\n}\n.editor-kit-container .image-container.unresize .image-wrapper .point.n-icon-dragable {\n  display: none;\n}\n",""]);const o=i},27:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".editor-kit-container .text-indent {\n  text-indent: 2em;\n}\n",""]);const o=i},300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"/*\n * These are the common definitions for the styling of bulleted lists, numbered\n * lists, and plain indented blocks, shared by the editor and timeslider pages.\n */\n.editor-kit-container ul,\n.editor-kit-container ol {\n  margin: 0;\n  padding-left: 0;\n}\n.editor-kit-container ul.list-done li {\n  color: #646a73;\n}\n.editor-kit-container ul.r-list-bullet {\n  list-style: none;\n}\n.editor-kit-container ul.r-list-indent {\n  list-style-type: none;\n}\n.editor-kit-container ul.r-list-bullet li {\n  padding-left: 22px;\n}\n.editor-kit-container ul.r-list-bullet li::before {\n  margin-left: -20px;\n  margin-right: 20px;\n}\n.editor-kit-container ul.r-list-bullet li::before {\n  position: absolute;\n  display: inline-block;\n  box-sizing: border-box;\n  /*font-family: @list-bullet-font;*/\n  width: 0;\n  text-align: right;\n  color: #3370ff;\n  transform: scale(1.25);\n}\n.editor-kit-container .heading-h1 ul.r-list-bullet li,\n.editor-kit-container .heading-h1 ol.r-list-bullet li {\n  padding-left: 32px;\n}\n.editor-kit-container .heading-h1 ul.r-list-bullet li::before,\n.editor-kit-container .heading-h1 ol.r-list-bullet li::before {\n  margin-left: -29px;\n  margin-right: 29px;\n}\n.editor-kit-container .heading-h2 ul.r-list-bullet li,\n.editor-kit-container .heading-h2 ol.r-list-bullet li {\n  padding-left: 23px;\n}\n.editor-kit-container .heading-h2 ul.r-list-bullet li::before,\n.editor-kit-container .heading-h2 ol.r-list-bullet li::before {\n  margin-left: -21px;\n  margin-right: 21px;\n}\n.editor-kit-container .heading-h3 ul.r-list-bullet li,\n.editor-kit-container .heading-h3 ol.r-list-bullet li {\n  padding-left: 22px;\n}\n.editor-kit-container .heading-h3 ul.r-list-bullet li::before,\n.editor-kit-container .heading-h3 ol.r-list-bullet li::before {\n  margin-left: -20px;\n  margin-right: 20px;\n}\n.editor-kit-container .text-indent ul.r-list-bullet li::before,\n.editor-kit-container .text-indent ol.r-list-bullet li::before {\n  text-indent: -1em;\n}\n.editor-kit-container ul.list-bullet1 li::before,\n.editor-kit-container ul.list-bullet4 li::before,\n.editor-kit-container ul.list-bullet7 li::before,\n.editor-kit-container ul.list-bullet10 li::before,\n.editor-kit-container ul.list-bullet13 li::before,\n.editor-kit-container ul.list-bullet16 li::before {\n  content: '\\2022';\n}\n.editor-kit-container .chrome:not(.window) ul.list-bullet2 li::before,\n.editor-kit-container .safari ul.list-bullet2 li::before,\n.editor-kit-container .chrome:not(.window) ul.list-bullet5 li::before,\n.editor-kit-container .safari ul.list-bullet5 li::before,\n.editor-kit-container .chrome:not(.window) ul.list-bullet8 li::before,\n.editor-kit-container .safari ul.list-bullet8 li::before,\n.editor-kit-container .chrome:not(.window) ul.list-bullet11 li::before,\n.editor-kit-container .safari ul.list-bullet11 li::before,\n.editor-kit-container .chrome:not(.window) ul.list-bullet14 li::before,\n.editor-kit-container .safari ul.list-bullet14 li::before {\n  transform: scale(0.8);\n  font-weight: bold;\n}\n.editor-kit-container ul.list-bullet2 li::before,\n.editor-kit-container ul.list-bullet5 li::before,\n.editor-kit-container ul.list-bullet8 li::before,\n.editor-kit-container ul.list-bullet11 li::before,\n.editor-kit-container ul.list-bullet14 li::before {\n  content: '\\25E6';\n}\n.editor-kit-container ul.list-bullet3 li::before,\n.editor-kit-container ul.list-bullet6 li::before,\n.editor-kit-container ul.list-bullet9 li::before,\n.editor-kit-container ul.list-bullet12 li::before,\n.editor-kit-container ul.list-bullet15 li::before {\n  content: '\\25AA';\n}\n.editor-kit-container ul.r-list-number,\n.editor-kit-container ol.r-list-number {\n  list-style-type: none;\n}\n.editor-kit-container ul.r-list-number li,\n.editor-kit-container ol.r-list-number li {\n  padding-left: 22px;\n}\n.editor-kit-container ul.r-list-number li::before,\n.editor-kit-container ol.r-list-number li::before {\n  margin-left: -22px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 4px;\n  transform: translateX(-2px);\n}\n.editor-kit-container ul.r-list-number li::before,\n.editor-kit-container ol.r-list-number li::before {\n  content: attr(data-start) \".\";\n  height: 100%;\n  text-align: left;\n  white-space: nowrap;\n  overflow: visible;\n  box-sizing: border-box;\n  color: #3370ff;\n  /*font-family: @list-num-font;*/\n  line-height: 1.2;\n  display: inline-block;\n  min-width: 18px;\n  border-radius: 2px;\n  background-clip: padding-box;\n}\n.editor-kit-container .heading-h1 ul.r-list-number li,\n.editor-kit-container .heading-h1 ol.r-list-number li {\n  padding-left: 32px;\n}\n.editor-kit-container .heading-h1 ul.r-list-number li::before,\n.editor-kit-container .heading-h1 ol.r-list-number li::before {\n  margin-left: -32px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 3px;\n  transform: translateX(-2px);\n}\n.editor-kit-container .heading-h1 ul.r-list-number li::before,\n.editor-kit-container .heading-h1 ol.r-list-number li::before {\n  min-width: 1.1em;\n}\n.editor-kit-container .heading-h2 ul.r-list-number li,\n.editor-kit-container .heading-h2 ol.r-list-number li {\n  padding-left: 23px;\n}\n.editor-kit-container .heading-h2 ul.r-list-number li::before,\n.editor-kit-container .heading-h2 ol.r-list-number li::before {\n  margin-left: -23px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.editor-kit-container .heading-h3 ul.r-list-number li,\n.editor-kit-container .heading-h3 ol.r-list-number li {\n  padding-left: 22px;\n}\n.editor-kit-container .heading-h3 ul.r-list-number li::before,\n.editor-kit-container .heading-h3 ol.r-list-number li::before {\n  margin-left: -22px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.editor-kit-container .heading-h4 ul.r-list-number li,\n.editor-kit-container .heading-h4 ol.r-list-number li {\n  padding-left: 21px;\n}\n.editor-kit-container .heading-h4 ul.r-list-number li::before,\n.editor-kit-container .heading-h4 ol.r-list-number li::before {\n  margin-left: -21px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.editor-kit-container .heading-h5 ul.r-list-number li,\n.editor-kit-container .heading-h6 ul.r-list-number li,\n.editor-kit-container .heading-h7 ul.r-list-number li,\n.editor-kit-container .heading-h8 ul.r-list-number li,\n.editor-kit-container .heading-h9 ul.r-list-number li,\n.editor-kit-container .heading-h5 ol.r-list-number li,\n.editor-kit-container .heading-h6 ol.r-list-number li,\n.editor-kit-container .heading-h7 ol.r-list-number li,\n.editor-kit-container .heading-h8 ol.r-list-number li,\n.editor-kit-container .heading-h9 ol.r-list-number li {\n  padding-left: 20px;\n}\n.editor-kit-container .heading-h5 ul.r-list-number li::before,\n.editor-kit-container .heading-h6 ul.r-list-number li::before,\n.editor-kit-container .heading-h7 ul.r-list-number li::before,\n.editor-kit-container .heading-h8 ul.r-list-number li::before,\n.editor-kit-container .heading-h9 ul.r-list-number li::before,\n.editor-kit-container .heading-h5 ol.r-list-number li::before,\n.editor-kit-container .heading-h6 ol.r-list-number li::before,\n.editor-kit-container .heading-h7 ol.r-list-number li::before,\n.editor-kit-container .heading-h8 ol.r-list-number li::before,\n.editor-kit-container .heading-h9 ol.r-list-number li::before {\n  margin-left: -20px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.editor-kit-container .text-indent ul.r-list-number li::before,\n.editor-kit-container .text-indent ol.r-list-number li::before {\n  margin-left: -20px;\n  padding-right: 4px;\n}\n.editor-kit-container .text-indent ul.r-list-number li::before,\n.editor-kit-container .text-indent ol.r-list-number li::before {\n  text-indent: 0;\n}\n.editor-kit-container .text-indent.heading-h1 ul.r-list-number li::before,\n.editor-kit-container .text-indent.heading-h2 ul.r-list-number li::before,\n.editor-kit-container .text-indent.heading-h1 ol.r-list-number li::before,\n.editor-kit-container .text-indent.heading-h2 ol.r-list-number li::before {\n  margin-left: -26px;\n  padding-right: 10px;\n}\n.editor-kit-container.window ul.r-list-number li::before,\n.editor-kit-container.window ol.r-list-number li::before {\n  padding-right: 0px !important;\n}\n.editor-kit-container.window .heading-h1 ul.r-list-number li::before,\n.editor-kit-container.window .heading-h2 ul.r-list-number li::before,\n.editor-kit-container.window .heading-h1 ol.r-list-number li::before,\n.editor-kit-container.window .heading-h2 ol.r-list-number li::before {\n  padding-right: 0px !important;\n}\n.editor-kit-container.window .heading-h2 ul.r-list-number li::before,\n.editor-kit-container.window .heading-h2 ol.r-list-number li::before {\n  padding-right: 0px !important;\n}\n.editor-kit-container.window .heading-h3 ul.r-list-number li::before,\n.editor-kit-container.window .heading-h4 ul.r-list-number li::before,\n.editor-kit-container.window .heading-h5 ul.r-list-number li::before,\n.editor-kit-container.window .heading-h6 ul.r-list-number li::before,\n.editor-kit-container.window .heading-h7 ul.r-list-number li::before,\n.editor-kit-container.window .heading-h8 ul.r-list-number li::before,\n.editor-kit-container.window .heading-h9 ul.r-list-number li::before,\n.editor-kit-container.window .heading-h3 ol.r-list-number li::before,\n.editor-kit-container.window .heading-h4 ol.r-list-number li::before,\n.editor-kit-container.window .heading-h5 ol.r-list-number li::before,\n.editor-kit-container.window .heading-h6 ol.r-list-number li::before,\n.editor-kit-container.window .heading-h7 ol.r-list-number li::before,\n.editor-kit-container.window .heading-h8 ol.r-list-number li::before,\n.editor-kit-container.window .heading-h9 ol.r-list-number li::before {\n  padding-right: 2px !important;\n}\n.editor-kit-container.chrome ul.r-list-number li,\n.editor-kit-container.chrome ol.r-list-number li {\n  vertical-align: -4px;\n}\n.editor-kit-container.chrome ul.r-list-number li::before,\n.editor-kit-container.chrome ol.r-list-number li::before {\n  background-position: bottom 6px right 1px !important;\n}\n.editor-kit-container.chrome .heading-h1 ul.r-list-number li,\n.editor-kit-container.chrome .heading-h1 ol.r-list-number li {\n  line-height: 42px;\n}\n.editor-kit-container.chrome .heading-h1 ul.r-list-number li::before,\n.editor-kit-container.chrome .heading-h1 ol.r-list-number li::before {\n  background-position: bottom 9px right 3px !important;\n}\n.editor-kit-container.chrome .heading-h1 ul.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h1 ol.r-list-number li .collapsable-section-handle {\n  height: 42px;\n}\n.editor-kit-container.chrome .heading-h2 ul.r-list-number li,\n.editor-kit-container.chrome .heading-h2 ol.r-list-number li {\n  line-height: 32px;\n}\n.editor-kit-container.chrome .heading-h2 ul.r-list-number li::before,\n.editor-kit-container.chrome .heading-h2 ol.r-list-number li::before {\n  background-position: bottom 6px right 0 !important;\n}\n.editor-kit-container.chrome .heading-h2 ul.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h2 ol.r-list-number li .collapsable-section-handle {\n  height: 32px;\n}\n.editor-kit-container.chrome .heading-h3 ul.r-list-number li,\n.editor-kit-container.chrome .heading-h3 ol.r-list-number li {\n  line-height: 25px;\n}\n.editor-kit-container.chrome .heading-h3 ul.r-list-number li::before,\n.editor-kit-container.chrome .heading-h3 ol.r-list-number li::before {\n  background-position: bottom 4px right 0 !important;\n}\n.editor-kit-container.chrome .heading-h3 ul.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h3 ol.r-list-number li .collapsable-section-handle {\n  height: 25px;\n}\n.editor-kit-container.chrome .heading-h4 ul.r-list-number li,\n.editor-kit-container.chrome .heading-h4 ol.r-list-number li {\n  line-height: 24px;\n}\n.editor-kit-container.chrome .heading-h4 ul.r-list-number li::before,\n.editor-kit-container.chrome .heading-h4 ol.r-list-number li::before {\n  background-position: bottom 3px right 0 !important;\n}\n.editor-kit-container.chrome .heading-h4 ul.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h4 ol.r-list-number li .collapsable-section-handle {\n  height: 24px;\n}\n.editor-kit-container.chrome .heading-h5 ul.r-list-number li,\n.editor-kit-container.chrome .heading-h6 ul.r-list-number li,\n.editor-kit-container.chrome .heading-h7 ul.r-list-number li,\n.editor-kit-container.chrome .heading-h8 ul.r-list-number li,\n.editor-kit-container.chrome .heading-h9 ul.r-list-number li,\n.editor-kit-container.chrome .heading-h5 ol.r-list-number li,\n.editor-kit-container.chrome .heading-h6 ol.r-list-number li,\n.editor-kit-container.chrome .heading-h7 ol.r-list-number li,\n.editor-kit-container.chrome .heading-h8 ol.r-list-number li,\n.editor-kit-container.chrome .heading-h9 ol.r-list-number li {\n  line-height: 22px;\n}\n.editor-kit-container.chrome .heading-h5 ul.r-list-number li::before,\n.editor-kit-container.chrome .heading-h6 ul.r-list-number li::before,\n.editor-kit-container.chrome .heading-h7 ul.r-list-number li::before,\n.editor-kit-container.chrome .heading-h8 ul.r-list-number li::before,\n.editor-kit-container.chrome .heading-h9 ul.r-list-number li::before,\n.editor-kit-container.chrome .heading-h5 ol.r-list-number li::before,\n.editor-kit-container.chrome .heading-h6 ol.r-list-number li::before,\n.editor-kit-container.chrome .heading-h7 ol.r-list-number li::before,\n.editor-kit-container.chrome .heading-h8 ol.r-list-number li::before,\n.editor-kit-container.chrome .heading-h9 ol.r-list-number li::before {\n  background-position: bottom 2px right 0 !important;\n}\n.editor-kit-container.chrome .heading-h5 ul.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h6 ul.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h7 ul.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h8 ul.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h9 ul.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h5 ol.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h6 ol.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h7 ol.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h8 ol.r-list-number li .collapsable-section-handle,\n.editor-kit-container.chrome .heading-h9 ol.r-list-number li .collapsable-section-handle {\n  height: 22px;\n}\n.editor-kit-container ul.r-list.list-check16,\n.editor-kit-container ul.r-list.list-done16 {\n  margin-left: 354px;\n}\n.editor-kit-container ul.list-bullet16,\n.editor-kit-container ol.list-number16 {\n  margin-left: 360px;\n}\n.editor-kit-container ul.r-list.list-check15,\n.editor-kit-container ul.r-list.list-done15 {\n  margin-left: 330px;\n}\n.editor-kit-container ul.list-bullet15,\n.editor-kit-container ol.list-number15 {\n  margin-left: 336px;\n}\n.editor-kit-container ul.r-list.list-check14,\n.editor-kit-container ul.r-list.list-done14 {\n  margin-left: 306px;\n}\n.editor-kit-container ul.list-bullet14,\n.editor-kit-container ol.list-number14 {\n  margin-left: 312px;\n}\n.editor-kit-container ul.r-list.list-check13,\n.editor-kit-container ul.r-list.list-done13 {\n  margin-left: 282px;\n}\n.editor-kit-container ul.list-bullet13,\n.editor-kit-container ol.list-number13 {\n  margin-left: 288px;\n}\n.editor-kit-container ul.r-list.list-check12,\n.editor-kit-container ul.r-list.list-done12 {\n  margin-left: 258px;\n}\n.editor-kit-container ul.list-bullet12,\n.editor-kit-container ol.list-number12 {\n  margin-left: 264px;\n}\n.editor-kit-container ul.r-list.list-check11,\n.editor-kit-container ul.r-list.list-done11 {\n  margin-left: 234px;\n}\n.editor-kit-container ul.list-bullet11,\n.editor-kit-container ol.list-number11 {\n  margin-left: 240px;\n}\n.editor-kit-container ul.r-list.list-check10,\n.editor-kit-container ul.r-list.list-done10 {\n  margin-left: 210px;\n}\n.editor-kit-container ul.list-bullet10,\n.editor-kit-container ol.list-number10 {\n  margin-left: 216px;\n}\n.editor-kit-container ul.r-list.list-check9,\n.editor-kit-container ul.r-list.list-done9 {\n  margin-left: 186px;\n}\n.editor-kit-container ul.list-bullet9,\n.editor-kit-container ol.list-number9 {\n  margin-left: 192px;\n}\n.editor-kit-container ul.r-list.list-check8,\n.editor-kit-container ul.r-list.list-done8 {\n  margin-left: 162px;\n}\n.editor-kit-container ul.list-bullet8,\n.editor-kit-container ol.list-number8 {\n  margin-left: 168px;\n}\n.editor-kit-container ul.r-list.list-check7,\n.editor-kit-container ul.r-list.list-done7 {\n  margin-left: 138px;\n}\n.editor-kit-container ul.list-bullet7,\n.editor-kit-container ol.list-number7 {\n  margin-left: 144px;\n}\n.editor-kit-container ul.r-list.list-check6,\n.editor-kit-container ul.r-list.list-done6 {\n  margin-left: 114px;\n}\n.editor-kit-container ul.list-bullet6,\n.editor-kit-container ol.list-number6 {\n  margin-left: 120px;\n}\n.editor-kit-container ul.r-list.list-check5,\n.editor-kit-container ul.r-list.list-done5 {\n  margin-left: 90px;\n}\n.editor-kit-container ul.list-bullet5,\n.editor-kit-container ol.list-number5 {\n  margin-left: 96px;\n}\n.editor-kit-container ul.r-list.list-check4,\n.editor-kit-container ul.r-list.list-done4 {\n  margin-left: 66px;\n}\n.editor-kit-container ul.list-bullet4,\n.editor-kit-container ol.list-number4 {\n  margin-left: 72px;\n}\n.editor-kit-container ul.r-list.list-check3,\n.editor-kit-container ul.r-list.list-done3 {\n  margin-left: 42px;\n}\n.editor-kit-container ul.list-bullet3,\n.editor-kit-container ol.list-number3 {\n  margin-left: 48px;\n}\n.editor-kit-container ul.r-list.list-check2,\n.editor-kit-container ul.r-list.list-done2 {\n  margin-left: 18px;\n}\n.editor-kit-container ul.list-bullet2,\n.editor-kit-container ol.list-number2 {\n  margin-left: 24px;\n}\n.editor-kit-container ul.r-list.list-check1,\n.editor-kit-container ul.r-list.list-done1 {\n  margin-left: -6px;\n}\n.editor-kit-container ul.list-bullet1,\n.editor-kit-container ol.list-number1 {\n  margin-left: 0px;\n}\n.editor-kit-container ul.list-indent16 {\n  margin-left: 382px;\n}\n.editor-kit-container ul.list-indent15 {\n  margin-left: 358px;\n}\n.editor-kit-container ul.list-indent14 {\n  margin-left: 334px;\n}\n.editor-kit-container ul.list-indent13 {\n  margin-left: 310px;\n}\n.editor-kit-container ul.list-indent12 {\n  margin-left: 286px;\n}\n.editor-kit-container ul.list-indent11 {\n  margin-left: 262px;\n}\n.editor-kit-container ul.list-indent10 {\n  margin-left: 238px;\n}\n.editor-kit-container ul.list-indent9 {\n  margin-left: 214px;\n}\n.editor-kit-container ul.list-indent8 {\n  margin-left: 190px;\n}\n.editor-kit-container ul.list-indent7 {\n  margin-left: 166px;\n}\n.editor-kit-container ul.list-indent6 {\n  margin-left: 142px;\n}\n.editor-kit-container ul.list-indent5 {\n  margin-left: 118px;\n}\n.editor-kit-container ul.list-indent4 {\n  margin-left: 94px;\n}\n.editor-kit-container ul.list-indent3 {\n  margin-left: 70px;\n}\n.editor-kit-container ul.list-indent2 {\n  margin-left: 46px;\n}\n.editor-kit-container ul.list-indent1 {\n  margin-left: 22px;\n}\n.editor-kit-container .heading-h1 ul.list-indent16 {\n  margin-left: 390px;\n}\n.editor-kit-container .heading-h1 ul.list-indent15 {\n  margin-left: 366px;\n}\n.editor-kit-container .heading-h1 ul.list-indent14 {\n  margin-left: 342px;\n}\n.editor-kit-container .heading-h1 ul.list-indent13 {\n  margin-left: 318px;\n}\n.editor-kit-container .heading-h1 ul.list-indent12 {\n  margin-left: 294px;\n}\n.editor-kit-container .heading-h1 ul.list-indent11 {\n  margin-left: 270px;\n}\n.editor-kit-container .heading-h1 ul.list-indent10 {\n  margin-left: 246px;\n}\n.editor-kit-container .heading-h1 ul.list-indent9 {\n  margin-left: 222px;\n}\n.editor-kit-container .heading-h1 ul.list-indent8 {\n  margin-left: 198px;\n}\n.editor-kit-container .heading-h1 ul.list-indent7 {\n  margin-left: 174px;\n}\n.editor-kit-container .heading-h1 ul.list-indent6 {\n  margin-left: 150px;\n}\n.editor-kit-container .heading-h1 ul.list-indent5 {\n  margin-left: 126px;\n}\n.editor-kit-container .heading-h1 ul.list-indent4 {\n  margin-left: 102px;\n}\n.editor-kit-container .heading-h1 ul.list-indent3 {\n  margin-left: 78px;\n}\n.editor-kit-container .heading-h1 ul.list-indent2 {\n  margin-left: 54px;\n}\n.editor-kit-container .heading-h1 ul.list-indent1 {\n  margin-left: 30px;\n}\n.editor-kit-container .heading-h2 ul.list-indent16 {\n  margin-left: 384px;\n}\n.editor-kit-container .heading-h2 ul.list-indent15 {\n  margin-left: 360px;\n}\n.editor-kit-container .heading-h2 ul.list-indent14 {\n  margin-left: 336px;\n}\n.editor-kit-container .heading-h2 ul.list-indent13 {\n  margin-left: 312px;\n}\n.editor-kit-container .heading-h2 ul.list-indent12 {\n  margin-left: 288px;\n}\n.editor-kit-container .heading-h2 ul.list-indent11 {\n  margin-left: 264px;\n}\n.editor-kit-container .heading-h2 ul.list-indent10 {\n  margin-left: 240px;\n}\n.editor-kit-container .heading-h2 ul.list-indent9 {\n  margin-left: 216px;\n}\n.editor-kit-container .heading-h2 ul.list-indent8 {\n  margin-left: 192px;\n}\n.editor-kit-container .heading-h2 ul.list-indent7 {\n  margin-left: 168px;\n}\n.editor-kit-container .heading-h2 ul.list-indent6 {\n  margin-left: 144px;\n}\n.editor-kit-container .heading-h2 ul.list-indent5 {\n  margin-left: 120px;\n}\n.editor-kit-container .heading-h2 ul.list-indent4 {\n  margin-left: 96px;\n}\n.editor-kit-container .heading-h2 ul.list-indent3 {\n  margin-left: 72px;\n}\n.editor-kit-container .heading-h2 ul.list-indent2 {\n  margin-left: 48px;\n}\n.editor-kit-container .heading-h2 ul.list-indent1 {\n  margin-left: 24px;\n}\n.editor-kit-container .heading-h3 ul.list-indent16 {\n  margin-left: 383px;\n}\n.editor-kit-container .heading-h3 ul.list-indent15 {\n  margin-left: 359px;\n}\n.editor-kit-container .heading-h3 ul.list-indent14 {\n  margin-left: 335px;\n}\n.editor-kit-container .heading-h3 ul.list-indent13 {\n  margin-left: 311px;\n}\n.editor-kit-container .heading-h3 ul.list-indent12 {\n  margin-left: 287px;\n}\n.editor-kit-container .heading-h3 ul.list-indent11 {\n  margin-left: 263px;\n}\n.editor-kit-container .heading-h3 ul.list-indent10 {\n  margin-left: 239px;\n}\n.editor-kit-container .heading-h3 ul.list-indent9 {\n  margin-left: 215px;\n}\n.editor-kit-container .heading-h3 ul.list-indent8 {\n  margin-left: 191px;\n}\n.editor-kit-container .heading-h3 ul.list-indent7 {\n  margin-left: 167px;\n}\n.editor-kit-container .heading-h3 ul.list-indent6 {\n  margin-left: 143px;\n}\n.editor-kit-container .heading-h3 ul.list-indent5 {\n  margin-left: 119px;\n}\n.editor-kit-container .heading-h3 ul.list-indent4 {\n  margin-left: 95px;\n}\n.editor-kit-container .heading-h3 ul.list-indent3 {\n  margin-left: 71px;\n}\n.editor-kit-container .heading-h3 ul.list-indent2 {\n  margin-left: 47px;\n}\n.editor-kit-container .heading-h3 ul.list-indent1 {\n  margin-left: 23px;\n}\n.editor-kit-container .heading-h4 ul.list-indent16 {\n  margin-left: 383px;\n}\n.editor-kit-container .heading-h4 ul.list-indent15 {\n  margin-left: 359px;\n}\n.editor-kit-container .heading-h4 ul.list-indent14 {\n  margin-left: 335px;\n}\n.editor-kit-container .heading-h4 ul.list-indent13 {\n  margin-left: 311px;\n}\n.editor-kit-container .heading-h4 ul.list-indent12 {\n  margin-left: 287px;\n}\n.editor-kit-container .heading-h4 ul.list-indent11 {\n  margin-left: 263px;\n}\n.editor-kit-container .heading-h4 ul.list-indent10 {\n  margin-left: 239px;\n}\n.editor-kit-container .heading-h4 ul.list-indent9 {\n  margin-left: 215px;\n}\n.editor-kit-container .heading-h4 ul.list-indent8 {\n  margin-left: 191px;\n}\n.editor-kit-container .heading-h4 ul.list-indent7 {\n  margin-left: 167px;\n}\n.editor-kit-container .heading-h4 ul.list-indent6 {\n  margin-left: 143px;\n}\n.editor-kit-container .heading-h4 ul.list-indent5 {\n  margin-left: 119px;\n}\n.editor-kit-container .heading-h4 ul.list-indent4 {\n  margin-left: 95px;\n}\n.editor-kit-container .heading-h4 ul.list-indent3 {\n  margin-left: 71px;\n}\n.editor-kit-container .heading-h4 ul.list-indent2 {\n  margin-left: 47px;\n}\n.editor-kit-container .heading-h4 ul.list-indent1 {\n  margin-left: 23px;\n}\n.editor-kit-container .heading-h5 ul.list-indent16,\n.editor-kit-container .heading-h6 ul.list-indent16,\n.editor-kit-container .heading-h7 ul.list-indent16,\n.editor-kit-container .heading-h8 ul.list-indent16,\n.editor-kit-container .heading-h9 ul.list-indent16 {\n  margin-left: 383px;\n}\n.editor-kit-container .heading-h5 ul.list-indent15,\n.editor-kit-container .heading-h6 ul.list-indent15,\n.editor-kit-container .heading-h7 ul.list-indent15,\n.editor-kit-container .heading-h8 ul.list-indent15,\n.editor-kit-container .heading-h9 ul.list-indent15 {\n  margin-left: 359px;\n}\n.editor-kit-container .heading-h5 ul.list-indent14,\n.editor-kit-container .heading-h6 ul.list-indent14,\n.editor-kit-container .heading-h7 ul.list-indent14,\n.editor-kit-container .heading-h8 ul.list-indent14,\n.editor-kit-container .heading-h9 ul.list-indent14 {\n  margin-left: 335px;\n}\n.editor-kit-container .heading-h5 ul.list-indent13,\n.editor-kit-container .heading-h6 ul.list-indent13,\n.editor-kit-container .heading-h7 ul.list-indent13,\n.editor-kit-container .heading-h8 ul.list-indent13,\n.editor-kit-container .heading-h9 ul.list-indent13 {\n  margin-left: 311px;\n}\n.editor-kit-container .heading-h5 ul.list-indent12,\n.editor-kit-container .heading-h6 ul.list-indent12,\n.editor-kit-container .heading-h7 ul.list-indent12,\n.editor-kit-container .heading-h8 ul.list-indent12,\n.editor-kit-container .heading-h9 ul.list-indent12 {\n  margin-left: 287px;\n}\n.editor-kit-container .heading-h5 ul.list-indent11,\n.editor-kit-container .heading-h6 ul.list-indent11,\n.editor-kit-container .heading-h7 ul.list-indent11,\n.editor-kit-container .heading-h8 ul.list-indent11,\n.editor-kit-container .heading-h9 ul.list-indent11 {\n  margin-left: 263px;\n}\n.editor-kit-container .heading-h5 ul.list-indent10,\n.editor-kit-container .heading-h6 ul.list-indent10,\n.editor-kit-container .heading-h7 ul.list-indent10,\n.editor-kit-container .heading-h8 ul.list-indent10,\n.editor-kit-container .heading-h9 ul.list-indent10 {\n  margin-left: 239px;\n}\n.editor-kit-container .heading-h5 ul.list-indent9,\n.editor-kit-container .heading-h6 ul.list-indent9,\n.editor-kit-container .heading-h7 ul.list-indent9,\n.editor-kit-container .heading-h8 ul.list-indent9,\n.editor-kit-container .heading-h9 ul.list-indent9 {\n  margin-left: 215px;\n}\n.editor-kit-container .heading-h5 ul.list-indent8,\n.editor-kit-container .heading-h6 ul.list-indent8,\n.editor-kit-container .heading-h7 ul.list-indent8,\n.editor-kit-container .heading-h8 ul.list-indent8,\n.editor-kit-container .heading-h9 ul.list-indent8 {\n  margin-left: 191px;\n}\n.editor-kit-container .heading-h5 ul.list-indent7,\n.editor-kit-container .heading-h6 ul.list-indent7,\n.editor-kit-container .heading-h7 ul.list-indent7,\n.editor-kit-container .heading-h8 ul.list-indent7,\n.editor-kit-container .heading-h9 ul.list-indent7 {\n  margin-left: 167px;\n}\n.editor-kit-container .heading-h5 ul.list-indent6,\n.editor-kit-container .heading-h6 ul.list-indent6,\n.editor-kit-container .heading-h7 ul.list-indent6,\n.editor-kit-container .heading-h8 ul.list-indent6,\n.editor-kit-container .heading-h9 ul.list-indent6 {\n  margin-left: 143px;\n}\n.editor-kit-container .heading-h5 ul.list-indent5,\n.editor-kit-container .heading-h6 ul.list-indent5,\n.editor-kit-container .heading-h7 ul.list-indent5,\n.editor-kit-container .heading-h8 ul.list-indent5,\n.editor-kit-container .heading-h9 ul.list-indent5 {\n  margin-left: 119px;\n}\n.editor-kit-container .heading-h5 ul.list-indent4,\n.editor-kit-container .heading-h6 ul.list-indent4,\n.editor-kit-container .heading-h7 ul.list-indent4,\n.editor-kit-container .heading-h8 ul.list-indent4,\n.editor-kit-container .heading-h9 ul.list-indent4 {\n  margin-left: 95px;\n}\n.editor-kit-container .heading-h5 ul.list-indent3,\n.editor-kit-container .heading-h6 ul.list-indent3,\n.editor-kit-container .heading-h7 ul.list-indent3,\n.editor-kit-container .heading-h8 ul.list-indent3,\n.editor-kit-container .heading-h9 ul.list-indent3 {\n  margin-left: 71px;\n}\n.editor-kit-container .heading-h5 ul.list-indent2,\n.editor-kit-container .heading-h6 ul.list-indent2,\n.editor-kit-container .heading-h7 ul.list-indent2,\n.editor-kit-container .heading-h8 ul.list-indent2,\n.editor-kit-container .heading-h9 ul.list-indent2 {\n  margin-left: 47px;\n}\n.editor-kit-container .heading-h5 ul.list-indent1,\n.editor-kit-container .heading-h6 ul.list-indent1,\n.editor-kit-container .heading-h7 ul.list-indent1,\n.editor-kit-container .heading-h8 ul.list-indent1,\n.editor-kit-container .heading-h9 ul.list-indent1 {\n  margin-left: 23px;\n}\n.editor-kit-container .ace-table ul.r-list-bullet li {\n  padding-left: 20px;\n}\n.editor-kit-container .ace-table ul.r-list-bullet li::before {\n  margin-left: -19px;\n  margin-right: 19px;\n}\n.editor-kit-container .ace-table .heading-h1 ul.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h1 ol.r-list-bullet li {\n  padding-left: 29px;\n}\n.editor-kit-container .ace-table .heading-h1 ul.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h1 ol.r-list-bullet li::before {\n  margin-left: -29px;\n  margin-right: 29px;\n}\n.editor-kit-container .ace-table .heading-h2 ul.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h2 ol.r-list-bullet li {\n  padding-left: 23px;\n}\n.editor-kit-container .ace-table .heading-h2 ul.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h2 ol.r-list-bullet li::before {\n  margin-left: -23px;\n  margin-right: 23px;\n}\n.editor-kit-container .ace-table .heading-h3 ul.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h3 ol.r-list-bullet li {\n  padding-left: 20px;\n}\n.editor-kit-container .ace-table .heading-h3 ul.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h3 ol.r-list-bullet li::before {\n  margin-left: -20px;\n  margin-right: 20px;\n}\n.editor-kit-container .ace-table .heading-h4 ul.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h4 ol.r-list-bullet li {\n  padding-left: 20px;\n}\n.editor-kit-container .ace-table .heading-h4 ul.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h4 ol.r-list-bullet li::before {\n  margin-left: -20px;\n  margin-right: 20px;\n}\n.editor-kit-container .ace-table .heading-h5 ul.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h6 ul.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h7 ul.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h8 ul.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h9 ul.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h5 ol.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h6 ol.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h7 ol.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h8 ol.r-list-bullet li,\n.editor-kit-container .ace-table .heading-h9 ol.r-list-bullet li {\n  padding-left: 20px;\n}\n.editor-kit-container .ace-table .heading-h5 ul.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h6 ul.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h7 ul.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h8 ul.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h9 ul.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h5 ol.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h6 ol.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h7 ol.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h8 ol.r-list-bullet li::before,\n.editor-kit-container .ace-table .heading-h9 ol.r-list-bullet li::before {\n  margin-left: -20px;\n  margin-right: 20px;\n}\n.editor-kit-container .ace-table ul.r-list-number li,\n.editor-kit-container .ace-table ol.r-list-number li {\n  padding-left: 20px;\n}\n.editor-kit-container .ace-table ul.r-list-number li::before,\n.editor-kit-container .ace-table ol.r-list-number li::before {\n  margin-left: -20px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.editor-kit-container .ace-table .heading-h1 ul.r-list-number li,\n.editor-kit-container .ace-table .heading-h1 ol.r-list-number li {\n  line-height: 27px;\n  padding-left: 29px;\n}\n.editor-kit-container .ace-table .heading-h1 ul.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h1 ol.r-list-number li::before {\n  margin-left: -29px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 4px;\n  transform: translateX(-2px);\n}\n.editor-kit-container .ace-table .heading-h2 ul.r-list-number li,\n.editor-kit-container .ace-table .heading-h2 ol.r-list-number li {\n  line-height: 23px;\n  padding-left: 23px;\n}\n.editor-kit-container .ace-table .heading-h2 ul.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h2 ol.r-list-number li::before {\n  margin-left: -23px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 3px;\n  transform: translateX(-2px);\n}\n.editor-kit-container .ace-table .heading-h3 ul.r-list-number li,\n.editor-kit-container .ace-table .heading-h3 ol.r-list-number li {\n  line-height: 21px;\n  padding-left: 20px;\n}\n.editor-kit-container .ace-table .heading-h3 ul.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h3 ol.r-list-number li::before {\n  margin-left: -20px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.editor-kit-container .ace-table .heading-h4 ul.r-list-number li,\n.editor-kit-container .ace-table .heading-h4 ol.r-list-number li {\n  line-height: 18px;\n  padding-left: 20px;\n}\n.editor-kit-container .ace-table .heading-h4 ul.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h4 ol.r-list-number li::before {\n  margin-left: -20px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.editor-kit-container .ace-table .heading-h5 ul.r-list-number li,\n.editor-kit-container .ace-table .heading-h6 ul.r-list-number li,\n.editor-kit-container .ace-table .heading-h7 ul.r-list-number li,\n.editor-kit-container .ace-table .heading-h8 ul.r-list-number li,\n.editor-kit-container .ace-table .heading-h9 ul.r-list-number li,\n.editor-kit-container .ace-table .heading-h5 ol.r-list-number li,\n.editor-kit-container .ace-table .heading-h6 ol.r-list-number li,\n.editor-kit-container .ace-table .heading-h7 ol.r-list-number li,\n.editor-kit-container .ace-table .heading-h8 ol.r-list-number li,\n.editor-kit-container .ace-table .heading-h9 ol.r-list-number li {\n  line-height: 18px;\n  padding-left: 20px;\n}\n.editor-kit-container .ace-table .heading-h5 ul.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h6 ul.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h7 ul.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h8 ul.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h9 ul.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h5 ol.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h6 ol.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h7 ol.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h8 ol.r-list-number li::before,\n.editor-kit-container .ace-table .heading-h9 ol.r-list-number li::before {\n  margin-left: -20px;\n  padding-right: 2px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.editor-kit-container.chrome .ace-table .heading-h1 ul.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h1 ol.r-list-number li::before {\n  background-position: bottom 11px right 3px !important;\n}\n.editor-kit-container.chrome .ace-table .heading-h2 ul.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h2 ol.r-list-number li::before {\n  background-position: bottom 7px right 1px !important;\n}\n.editor-kit-container.chrome .ace-table .heading-h3 ul.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h3 ol.r-list-number li::before {\n  background-position: bottom 6px right 0 !important;\n}\n.editor-kit-container.chrome .ace-table .heading-h4 ul.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h4 ol.r-list-number li::before {\n  background-position: bottom 5px right 0 !important;\n}\n.editor-kit-container.chrome .ace-table .heading-h5 ul.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h6 ul.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h7 ul.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h8 ul.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h9 ul.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h5 ol.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h6 ol.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h7 ol.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h8 ol.r-list-number li::before,\n.editor-kit-container.chrome .ace-table .heading-h9 ol.r-list-number li::before {\n  background-position: bottom 4px right 0 !important;\n}\n@media screen and (max-width: 450px) {\n  .editor-kit-container ul.r-list.list-check16,\n  .editor-kit-container ul.r-list.list-done16 {\n    margin-left: 354px;\n  }\n  .editor-kit-container ul.list-indent16,\n  .editor-kit-container ul.list-bullet16,\n  .editor-kit-container ol.list-number16 {\n    margin-left: 360px;\n  }\n  .editor-kit-container ul.r-list.list-check15,\n  .editor-kit-container ul.r-list.list-done15 {\n    margin-left: 330px;\n  }\n  .editor-kit-container ul.list-indent15,\n  .editor-kit-container ul.list-bullet15,\n  .editor-kit-container ol.list-number15 {\n    margin-left: 336px;\n  }\n  .editor-kit-container ul.r-list.list-check14,\n  .editor-kit-container ul.r-list.list-done14 {\n    margin-left: 306px;\n  }\n  .editor-kit-container ul.list-indent14,\n  .editor-kit-container ul.list-bullet14,\n  .editor-kit-container ol.list-number14 {\n    margin-left: 312px;\n  }\n  .editor-kit-container ul.r-list.list-check13,\n  .editor-kit-container ul.r-list.list-done13 {\n    margin-left: 282px;\n  }\n  .editor-kit-container ul.list-indent13,\n  .editor-kit-container ul.list-bullet13,\n  .editor-kit-container ol.list-number13 {\n    margin-left: 288px;\n  }\n  .editor-kit-container ul.r-list.list-check12,\n  .editor-kit-container ul.r-list.list-done12 {\n    margin-left: 258px;\n  }\n  .editor-kit-container ul.list-indent12,\n  .editor-kit-container ul.list-bullet12,\n  .editor-kit-container ol.list-number12 {\n    margin-left: 264px;\n  }\n  .editor-kit-container ul.r-list.list-check11,\n  .editor-kit-container ul.r-list.list-done11 {\n    margin-left: 234px;\n  }\n  .editor-kit-container ul.list-indent11,\n  .editor-kit-container ul.list-bullet11,\n  .editor-kit-container ol.list-number11 {\n    margin-left: 240px;\n  }\n  .editor-kit-container ul.r-list.list-check10,\n  .editor-kit-container ul.r-list.list-done10 {\n    margin-left: 210px;\n  }\n  .editor-kit-container ul.list-indent10,\n  .editor-kit-container ul.list-bullet10,\n  .editor-kit-container ol.list-number10 {\n    margin-left: 216px;\n  }\n  .editor-kit-container ul.r-list.list-check9,\n  .editor-kit-container ul.r-list.list-done9 {\n    margin-left: 186px;\n  }\n  .editor-kit-container ul.list-indent9,\n  .editor-kit-container ul.list-bullet9,\n  .editor-kit-container ol.list-number9 {\n    margin-left: 192px;\n  }\n  .editor-kit-container ul.r-list.list-check8,\n  .editor-kit-container ul.r-list.list-done8 {\n    margin-left: 162px;\n  }\n  .editor-kit-container ul.list-indent8,\n  .editor-kit-container ul.list-bullet8,\n  .editor-kit-container ol.list-number8 {\n    margin-left: 168px;\n  }\n  .editor-kit-container ul.r-list.list-check7,\n  .editor-kit-container ul.r-list.list-done7 {\n    margin-left: 138px;\n  }\n  .editor-kit-container ul.list-indent7,\n  .editor-kit-container ul.list-bullet7,\n  .editor-kit-container ol.list-number7 {\n    margin-left: 144px;\n  }\n  .editor-kit-container ul.r-list.list-check6,\n  .editor-kit-container ul.r-list.list-done6 {\n    margin-left: 114px;\n  }\n  .editor-kit-container ul.list-indent6,\n  .editor-kit-container ul.list-bullet6,\n  .editor-kit-container ol.list-number6 {\n    margin-left: 120px;\n  }\n  .editor-kit-container ul.r-list.list-check5,\n  .editor-kit-container ul.r-list.list-done5 {\n    margin-left: 90px;\n  }\n  .editor-kit-container ul.list-indent5,\n  .editor-kit-container ul.list-bullet5,\n  .editor-kit-container ol.list-number5 {\n    margin-left: 96px;\n  }\n  .editor-kit-container ul.r-list.list-check4,\n  .editor-kit-container ul.r-list.list-done4 {\n    margin-left: 66px;\n  }\n  .editor-kit-container ul.list-indent4,\n  .editor-kit-container ul.list-bullet4,\n  .editor-kit-container ol.list-number4 {\n    margin-left: 72px;\n  }\n  .editor-kit-container ul.r-list.list-check3,\n  .editor-kit-container ul.r-list.list-done3 {\n    margin-left: 42px;\n  }\n  .editor-kit-container ul.list-indent3,\n  .editor-kit-container ul.list-bullet3,\n  .editor-kit-container ol.list-number3 {\n    margin-left: 48px;\n  }\n  .editor-kit-container ul.r-list.list-check2,\n  .editor-kit-container ul.r-list.list-done2 {\n    margin-left: 18px;\n  }\n  .editor-kit-container ul.list-indent2,\n  .editor-kit-container ul.list-bullet2,\n  .editor-kit-container ol.list-number2 {\n    margin-left: 24px;\n  }\n  .editor-kit-container ul.r-list.list-check1,\n  .editor-kit-container ul.r-list.list-done1 {\n    margin-left: -6px;\n  }\n  .editor-kit-container ul.list-indent1,\n  .editor-kit-container ul.list-bullet1,\n  .editor-kit-container ol.list-number1 {\n    margin-left: 0px;\n  }\n}\n@media screen and (max-width: 400px) {\n  .editor-kit-container ul.r-list.list-check16,\n  .editor-kit-container ul.r-list.list-done16 {\n    margin-left: 309px;\n  }\n  .editor-kit-container ul.list-indent16,\n  .editor-kit-container ul.list-bullet16,\n  .editor-kit-container ol.list-number16 {\n    margin-left: 315px;\n  }\n  .editor-kit-container ul.r-list.list-check15,\n  .editor-kit-container ul.r-list.list-done15 {\n    margin-left: 288px;\n  }\n  .editor-kit-container ul.list-indent15,\n  .editor-kit-container ul.list-bullet15,\n  .editor-kit-container ol.list-number15 {\n    margin-left: 294px;\n  }\n  .editor-kit-container ul.r-list.list-check14,\n  .editor-kit-container ul.r-list.list-done14 {\n    margin-left: 267px;\n  }\n  .editor-kit-container ul.list-indent14,\n  .editor-kit-container ul.list-bullet14,\n  .editor-kit-container ol.list-number14 {\n    margin-left: 273px;\n  }\n  .editor-kit-container ul.r-list.list-check13,\n  .editor-kit-container ul.r-list.list-done13 {\n    margin-left: 246px;\n  }\n  .editor-kit-container ul.list-indent13,\n  .editor-kit-container ul.list-bullet13,\n  .editor-kit-container ol.list-number13 {\n    margin-left: 252px;\n  }\n  .editor-kit-container ul.r-list.list-check12,\n  .editor-kit-container ul.r-list.list-done12 {\n    margin-left: 225px;\n  }\n  .editor-kit-container ul.list-indent12,\n  .editor-kit-container ul.list-bullet12,\n  .editor-kit-container ol.list-number12 {\n    margin-left: 231px;\n  }\n  .editor-kit-container ul.r-list.list-check11,\n  .editor-kit-container ul.r-list.list-done11 {\n    margin-left: 204px;\n  }\n  .editor-kit-container ul.list-indent11,\n  .editor-kit-container ul.list-bullet11,\n  .editor-kit-container ol.list-number11 {\n    margin-left: 210px;\n  }\n  .editor-kit-container ul.r-list.list-check10,\n  .editor-kit-container ul.r-list.list-done10 {\n    margin-left: 183px;\n  }\n  .editor-kit-container ul.list-indent10,\n  .editor-kit-container ul.list-bullet10,\n  .editor-kit-container ol.list-number10 {\n    margin-left: 189px;\n  }\n  .editor-kit-container ul.r-list.list-check9,\n  .editor-kit-container ul.r-list.list-done9 {\n    margin-left: 162px;\n  }\n  .editor-kit-container ul.list-indent9,\n  .editor-kit-container ul.list-bullet9,\n  .editor-kit-container ol.list-number9 {\n    margin-left: 168px;\n  }\n  .editor-kit-container ul.r-list.list-check8,\n  .editor-kit-container ul.r-list.list-done8 {\n    margin-left: 141px;\n  }\n  .editor-kit-container ul.list-indent8,\n  .editor-kit-container ul.list-bullet8,\n  .editor-kit-container ol.list-number8 {\n    margin-left: 147px;\n  }\n  .editor-kit-container ul.r-list.list-check7,\n  .editor-kit-container ul.r-list.list-done7 {\n    margin-left: 120px;\n  }\n  .editor-kit-container ul.list-indent7,\n  .editor-kit-container ul.list-bullet7,\n  .editor-kit-container ol.list-number7 {\n    margin-left: 126px;\n  }\n  .editor-kit-container ul.r-list.list-check6,\n  .editor-kit-container ul.r-list.list-done6 {\n    margin-left: 99px;\n  }\n  .editor-kit-container ul.list-indent6,\n  .editor-kit-container ul.list-bullet6,\n  .editor-kit-container ol.list-number6 {\n    margin-left: 105px;\n  }\n  .editor-kit-container ul.r-list.list-check5,\n  .editor-kit-container ul.r-list.list-done5 {\n    margin-left: 78px;\n  }\n  .editor-kit-container ul.list-indent5,\n  .editor-kit-container ul.list-bullet5,\n  .editor-kit-container ol.list-number5 {\n    margin-left: 84px;\n  }\n  .editor-kit-container ul.r-list.list-check4,\n  .editor-kit-container ul.r-list.list-done4 {\n    margin-left: 57px;\n  }\n  .editor-kit-container ul.list-indent4,\n  .editor-kit-container ul.list-bullet4,\n  .editor-kit-container ol.list-number4 {\n    margin-left: 63px;\n  }\n  .editor-kit-container ul.r-list.list-check3,\n  .editor-kit-container ul.r-list.list-done3 {\n    margin-left: 36px;\n  }\n  .editor-kit-container ul.list-indent3,\n  .editor-kit-container ul.list-bullet3,\n  .editor-kit-container ol.list-number3 {\n    margin-left: 42px;\n  }\n  .editor-kit-container ul.r-list.list-check2,\n  .editor-kit-container ul.r-list.list-done2 {\n    margin-left: 15px;\n  }\n  .editor-kit-container ul.list-indent2,\n  .editor-kit-container ul.list-bullet2,\n  .editor-kit-container ol.list-number2 {\n    margin-left: 21px;\n  }\n  .editor-kit-container ul.r-list.list-check1,\n  .editor-kit-container ul.r-list.list-done1 {\n    margin-left: -6px;\n  }\n  .editor-kit-container ul.list-indent1,\n  .editor-kit-container ul.list-bullet1,\n  .editor-kit-container ol.list-number1 {\n    margin-left: 0px;\n  }\n}\n@media screen and (max-width: 350px) {\n  .editor-kit-container ul.r-list.list-check16,\n  .editor-kit-container ul.r-list.list-done16 {\n    margin-left: 279px;\n  }\n  .editor-kit-container ul.list-indent16,\n  .editor-kit-container ul.list-bullet16,\n  .editor-kit-container ol.list-number16 {\n    margin-left: 285px;\n  }\n  .editor-kit-container ul.r-list.list-check15,\n  .editor-kit-container ul.r-list.list-done15 {\n    margin-left: 260px;\n  }\n  .editor-kit-container ul.list-indent15,\n  .editor-kit-container ul.list-bullet15,\n  .editor-kit-container ol.list-number15 {\n    margin-left: 266px;\n  }\n  .editor-kit-container ul.r-list.list-check14,\n  .editor-kit-container ul.r-list.list-done14 {\n    margin-left: 241px;\n  }\n  .editor-kit-container ul.list-indent14,\n  .editor-kit-container ul.list-bullet14,\n  .editor-kit-container ol.list-number14 {\n    margin-left: 247px;\n  }\n  .editor-kit-container ul.r-list.list-check13,\n  .editor-kit-container ul.r-list.list-done13 {\n    margin-left: 222px;\n  }\n  .editor-kit-container ul.list-indent13,\n  .editor-kit-container ul.list-bullet13,\n  .editor-kit-container ol.list-number13 {\n    margin-left: 228px;\n  }\n  .editor-kit-container ul.r-list.list-check12,\n  .editor-kit-container ul.r-list.list-done12 {\n    margin-left: 203px;\n  }\n  .editor-kit-container ul.list-indent12,\n  .editor-kit-container ul.list-bullet12,\n  .editor-kit-container ol.list-number12 {\n    margin-left: 209px;\n  }\n  .editor-kit-container ul.r-list.list-check11,\n  .editor-kit-container ul.r-list.list-done11 {\n    margin-left: 184px;\n  }\n  .editor-kit-container ul.list-indent11,\n  .editor-kit-container ul.list-bullet11,\n  .editor-kit-container ol.list-number11 {\n    margin-left: 190px;\n  }\n  .editor-kit-container ul.r-list.list-check10,\n  .editor-kit-container ul.r-list.list-done10 {\n    margin-left: 165px;\n  }\n  .editor-kit-container ul.list-indent10,\n  .editor-kit-container ul.list-bullet10,\n  .editor-kit-container ol.list-number10 {\n    margin-left: 171px;\n  }\n  .editor-kit-container ul.r-list.list-check9,\n  .editor-kit-container ul.r-list.list-done9 {\n    margin-left: 146px;\n  }\n  .editor-kit-container ul.list-indent9,\n  .editor-kit-container ul.list-bullet9,\n  .editor-kit-container ol.list-number9 {\n    margin-left: 152px;\n  }\n  .editor-kit-container ul.r-list.list-check8,\n  .editor-kit-container ul.r-list.list-done8 {\n    margin-left: 127px;\n  }\n  .editor-kit-container ul.list-indent8,\n  .editor-kit-container ul.list-bullet8,\n  .editor-kit-container ol.list-number8 {\n    margin-left: 133px;\n  }\n  .editor-kit-container ul.r-list.list-check7,\n  .editor-kit-container ul.r-list.list-done7 {\n    margin-left: 108px;\n  }\n  .editor-kit-container ul.list-indent7,\n  .editor-kit-container ul.list-bullet7,\n  .editor-kit-container ol.list-number7 {\n    margin-left: 114px;\n  }\n  .editor-kit-container ul.r-list.list-check6,\n  .editor-kit-container ul.r-list.list-done6 {\n    margin-left: 89px;\n  }\n  .editor-kit-container ul.list-indent6,\n  .editor-kit-container ul.list-bullet6,\n  .editor-kit-container ol.list-number6 {\n    margin-left: 95px;\n  }\n  .editor-kit-container ul.r-list.list-check5,\n  .editor-kit-container ul.r-list.list-done5 {\n    margin-left: 70px;\n  }\n  .editor-kit-container ul.list-indent5,\n  .editor-kit-container ul.list-bullet5,\n  .editor-kit-container ol.list-number5 {\n    margin-left: 76px;\n  }\n  .editor-kit-container ul.r-list.list-check4,\n  .editor-kit-container ul.r-list.list-done4 {\n    margin-left: 51px;\n  }\n  .editor-kit-container ul.list-indent4,\n  .editor-kit-container ul.list-bullet4,\n  .editor-kit-container ol.list-number4 {\n    margin-left: 57px;\n  }\n  .editor-kit-container ul.r-list.list-check3,\n  .editor-kit-container ul.r-list.list-done3 {\n    margin-left: 32px;\n  }\n  .editor-kit-container ul.list-indent3,\n  .editor-kit-container ul.list-bullet3,\n  .editor-kit-container ol.list-number3 {\n    margin-left: 38px;\n  }\n  .editor-kit-container ul.r-list.list-check2,\n  .editor-kit-container ul.r-list.list-done2 {\n    margin-left: 13px;\n  }\n  .editor-kit-container ul.list-indent2,\n  .editor-kit-container ul.list-bullet2,\n  .editor-kit-container ol.list-number2 {\n    margin-left: 19px;\n  }\n  .editor-kit-container ul.r-list.list-check1,\n  .editor-kit-container ul.r-list.list-done1 {\n    margin-left: -6px;\n  }\n  .editor-kit-container ul.list-indent1,\n  .editor-kit-container ul.list-bullet1,\n  .editor-kit-container ol.list-number1 {\n    margin-left: 0px;\n  }\n}\n.fs-mode ul.r-list-bullet li::before {\n  margin-left: -1em !important;\n}\n.fs-mode .heading-h1 ul.r-list-bullet li::before,\n.fs-mode .heading-h1 ol.r-list-bullet li::before {\n  margin-left: -0.6em !important;\n}\n.fs-mode .heading-h2 ul.r-list-bullet li::before,\n.fs-mode .heading-h2 ol.r-list-bullet li::before {\n  margin-left: -0.7em !important;\n}\n.fs-mode .heading-h3 ul.r-list-bullet li::before,\n.fs-mode .heading-h3 ol.r-list-bullet li::before {\n  margin-left: -0.8em !important;\n}\n.fs-mode .heading-h4 ul.r-list-bullet li::before,\n.fs-mode .heading-h4 ol.r-list-bullet li::before {\n  margin-left: -0.9em !important;\n}\n.editor-kit-container.ipad ul.r-list-bullet li::before {\n  font-family: -webkit-standard;\n}\n",""]);const o=i},869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".spiner {\n  display: inline-block;\n  position: relative;\n  height: 20px;\n  width: 40px;\n  vertical-align: middle;\n}\n.spiner > * {\n  position: absolute;\n  top: 5px;\n  height: 10px;\n  width: 10px;\n  border-radius: 50%;\n  background: #3370ff;\n  opacity: 0.6;\n  -webkit-transform: translateX(0px);\n  transform: translateX(0px);\n}\n.spiner > *:nth-child(1) {\n  left: 0;\n  -webkit-animation: mymove 1.3s infinite ease-in;\n  animation: mymove 1.3s infinite ease-in;\n}\n.spiner > *:nth-child(2) {\n  left: 12px;\n  -webkit-animation: mymove 1.3s 0.3s infinite ease-in;\n  animation: mymove 1.3s 0.3s infinite ease-in;\n}\n.spiner > *:nth-child(3) {\n  left: 24px;\n  -webkit-animation: mymove 1.3s 0.6s infinite ease-in;\n  animation: mymove 1.3s 0.6s infinite ease-in;\n}\n@-webkit-keyframes mymove {\n  0%,\n  100%,\n  80% {\n    opacity: 0.6;\n    -webkit-transform: scale(0.4);\n  }\n  40% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes mymove {\n  0%,\n  100%,\n  80% {\n    opacity: 0.6;\n    transform: scale(0.4);\n  }\n  40% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n.editor-kit-mention-item:hover {\n  background-color: #eff0f1;\n}\n",""]);const o=i},5:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".editor-kit-container .ace-table-col-toolbar,\n.editor-kit-container .ace-table-row-toolbar {\n  display: none;\n  position: absolute;\n  z-index: 39;\n  background: transparent;\n  overflow: hidden;\n  background: #fff;\n  border: 1px solid #dee0e3;\n  box-shadow: 0 6px 24px rgba(31, 35, 41, 0.1);\n  border-radius: 26px;\n  line-height: 0;\n}\n.editor-kit-container .ace-table-col-toolbar::after,\n.editor-kit-container .ace-table-row-toolbar::after {\n  content: '';\n  position: absolute;\n  display: inline-block;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  background-color: #dee0e3;\n}\n.editor-kit-container .ace-table-col-toolbar .hpx-button,\n.editor-kit-container .ace-table-row-toolbar .hpx-button {\n  width: 22px;\n  height: 22px;\n  vertical-align: top;\n  background: none;\n  overflow: visible;\n}\n.editor-kit-container .ace-table-col-toolbar .dmc-button-content,\n.editor-kit-container .ace-table-row-toolbar .dmc-button-content {\n  margin-top: -3px;\n  margin-left: 0;\n  vertical-align: top;\n}\n.editor-kit-container .ace-table-col-toolbar .ace-table-add-action,\n.editor-kit-container .ace-table-row-toolbar .ace-table-add-action,\n.editor-kit-container .ace-table-col-toolbar .ace-table-remove-action,\n.editor-kit-container .ace-table-row-toolbar .ace-table-remove-action {\n  background-color: #fff;\n  padding: 0;\n}\n.editor-kit-container .ace-table-col-toolbar .ace-table-add-action svg,\n.editor-kit-container .ace-table-row-toolbar .ace-table-add-action svg,\n.editor-kit-container .ace-table-col-toolbar .ace-table-remove-action svg,\n.editor-kit-container .ace-table-row-toolbar .ace-table-remove-action svg {\n  margin: auto;\n  width: 20px;\n}\n.editor-kit-container .ace-table-col-toolbar .ace-table-add-action svg path,\n.editor-kit-container .ace-table-row-toolbar .ace-table-add-action svg path,\n.editor-kit-container .ace-table-col-toolbar .ace-table-remove-action svg path,\n.editor-kit-container .ace-table-row-toolbar .ace-table-remove-action svg path {\n  fill: #2b2f36;\n}\n.editor-kit-container .ace-table-col-toolbar .ace-table-add-action:hover svg path,\n.editor-kit-container .ace-table-row-toolbar .ace-table-add-action:hover svg path,\n.editor-kit-container .ace-table-col-toolbar .ace-table-remove-action:hover svg path,\n.editor-kit-container .ace-table-row-toolbar .ace-table-remove-action:hover svg path {\n  fill: #3370ff;\n}\n.editor-kit-container .ace-table-col-toolbar .ace-table-remove-action:hover svg path,\n.editor-kit-container .ace-table-row-toolbar .ace-table-remove-action:hover svg path {\n  fill: #f54a45;\n}\n.editor-kit-container .ace-table-row-toolbar {\n  width: 24px;\n  height: 60px;\n  top: 0;\n  left: -50px;\n  padding: 3px 0;\n  transform: translateY(-50%);\n}\n.editor-kit-container .ace-table-row-toolbar .ace-table-add-action,\n.editor-kit-container .ace-table-row-toolbar .ace-table-remove-action {\n  width: 100%;\n  height: 50%;\n}\n.editor-kit-container .ace-table-row-toolbar::after {\n  width: 60%;\n  height: 1px;\n}\n.editor-kit-container .ace-table-col-toolbar {\n  width: 60px;\n  height: 24px;\n  top: -50px;\n  left: 0;\n  padding: 0 3px;\n  transform: translateX(-50%);\n}\n.editor-kit-container .ace-table-col-toolbar .ace-table-add-action,\n.editor-kit-container .ace-table-col-toolbar .ace-table-remove-action {\n  width: 50%;\n  vertical-align: middle;\n  text-align: center;\n}\n.editor-kit-container .ace-table-col-toolbar::after {\n  height: 60%;\n  width: 1px;\n}\n@media screen and (max-width: 900px) {\n  .editor-kit-container .ace-table-wrapper-outer .ace-table-row-toolbar {\n    left: 0;\n  }\n}\n.editor-kit-container .ace-table-col-headers {\n  position: absolute;\n  top: -20px;\n  left: 0;\n  right: 0;\n  height: 12px;\n  border-radius: 12px;\n  overflow: hidden;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-headers-inner {\n  position: absolute;\n  overflow: hidden;\n  display: -ms-flexbox;\n  display: flex;\n  top: 0;\n  bottom: 0;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-headers-left-shadow {\n  position: absolute;\n  bottom: 0;\n  height: 12px;\n  width: 8px;\n  left: 0;\n  background: linear-gradient(to left, rgba(31, 35, 41, 0) 0, rgba(31, 35, 41, 0.16) 100%);\n  border-left: 1px solid #dee0e3;\n  z-index: 24;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-headers-right-shadow {\n  bottom: 0;\n  height: 12px;\n  position: absolute;\n  width: 8px;\n  background: linear-gradient(to right, rgba(31, 35, 41, 0) 0, rgba(31, 35, 41, 0.16) 100%);\n  border-right: 1px solid #dee0e3;\n  box-shadow: 2px 0 0 #fff;\n  right: 2px;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-headers-left-shadow.tb-scrollable-shadow-enabled {\n  border-left-color: #dee0e3;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-headers-right-shadow.tb-scrollable-shadow-enabled {\n  border-right-color: #dee0e3;\n}\n.editor-kit-container .ace-table-col-headers .dmc-button-content {\n  display: none;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-header {\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  position: relative;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-header .ace-table-col-select {\n  box-sizing: border-box;\n  position: absolute;\n  right: 0;\n  background-color: #eff0f1;\n  border-radius: 0;\n  top: 0;\n  bottom: auto;\n  left: 0;\n  width: 100%;\n  height: 12px;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-header .ace-table-col-select:active {\n  background-color: #dee0e3;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-header .ace-table-col-select:hover {\n  background-color: #dee0e3;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-header:first-child .ace-table-col-select {\n  border-top-left-radius: 12px;\n  border-bottom-left-radius: 12px;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-header:last-child .ace-table-col-select {\n  border-top-right-radius: 12px;\n  border-bottom-right-radius: 12px;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-header.ace-table-col-header-partial-selected .ace-table-col-select {\n  background-color: #bacefd;\n  border-bottom-color: #bacefd;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-header.ace-table-col-header-partial-selected .ace-table-row-select {\n  background-color: #bacefd;\n  border-bottom-color: #bacefd;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-header.ace-table-col-header-partial-selected:hover:before {\n  margin-top: 2px;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-header.ace-table-col-header-selected .ace-table-col-select {\n  border-color: #dee0e3;\n  background: #4e83fd;\n  z-index: 23;\n}\n.editor-kit-container .ace-table-col-headers .ace-table-col-header.ace-table-col-header-selected .ace-table-col-select:hover .dmc-button-content {\n  display: block;\n}\n.editor-kit-container .ace-table-is-resizing .ace-table-col-insert {\n  opacity: 0;\n}\n.editor-kit-container .ace-table-is-dragging .ace-table-col-header-partial-selected:before {\n  content: none !important;\n}\n.editor-kit-container .tb-resizable {\n  position: relative;\n  height: 100%;\n}\n.editor-kit-container .tb-resizable-horz.tb-resizable-left {\n  left: -4px;\n  right: auto;\n}\n.editor-kit-container .tb-resizable-horz.is-hovered .svg-icon-horz-resizable-arrow {\n  top: -1px;\n}\n.editor-kit-container .tb-resizable-horz.is-hovered .tb-resizable-grippy-inner {\n  background-color: #3370ff;\n  transition: background-color 0ms linear 250ms;\n}\n.editor-kit-container td.tb-resizable:last-child > .tb-resizable-horz {\n  right: -1px;\n}\n.editor-kit-container td.tb-resizable:last-child > .tb-resizable-horz > .tb-resizable-grippy-inner {\n  transform: translateX(6px);\n}\n.editor-kit-container td.tb-resizable:first-child > .tb-resizable-horz.tb-resizable-left {\n  left: -3px;\n  width: 4px;\n}\n.editor-kit-container .tb-resizable-horz.tb-resizable-left {\n  left: -4px;\n  right: auto;\n}\n.editor-kit-container .tb-resizable-horz.is-hovered .svg-icon-horz-resizable-arrow {\n  top: -1px;\n}\n.editor-kit-container .tb-resizable-horz.is-hovered .tb-resizable-grippy-inner {\n  background-color: #3370ff;\n  transition: background-color 0ms linear 250ms;\n}\n.editor-kit-container .tb-resizable-horz {\n  display: block;\n  position: absolute;\n  top: -1px;\n  bottom: -1px;\n  right: -4px;\n  width: 7px;\n  cursor: col-resize;\n  z-index: 38;\n}\n.editor-kit-container .tb-resizable-horz .icon-overlay {\n  cursor: col-resize;\n}\n.editor-kit-container .tb-resizable-horz .tb-resizable-grippy-inner {\n  transform: translateX(3px);\n  width: 1px;\n  height: 100%;\n  transition: none;\n  user-select: none;\n}\n.editor-kit-container .tb-resizable-horz:hover .svg-icon-horz-resizable-arrow {\n  top: -1px;\n}\n.editor-kit-container .tb-resizable-horz:hover .tb-resizable-grippy-inner {\n  background-color: #3370ff;\n  transition: background-color 0ms linear 250ms;\n}\n.editor-kit-container .tb-resizable-vert.tb-resizable-top {\n  top: -4px;\n  bottom: auto;\n}\n.editor-kit-container .tb-resizable-vert.is-hovered .tb-resizable-grippy-inner {\n  background-color: #3370ff;\n}\n.editor-kit-container tr:first-child > .tb-resizable > .tb-resizable-vert.tb-resizable-top {\n  top: -3px;\n  height: 4px;\n}\n.editor-kit-container tr:last-child > .tb-resizable > .tb-resizable-vert {\n  bottom: 0;\n  height: 4px;\n}\n.editor-kit-container .tb-resizable-vert.tb-resizable-top {\n  top: -4px;\n  bottom: auto;\n}\n.editor-kit-container .tb-resizable-vert.is-hovered .tb-resizable-grippy-inner {\n  background-color: #3370ff;\n}\n.editor-kit-container tr:first-child > .tb-resizable > .tb-resizable-vert.tb-resizable-top {\n  top: -3px;\n  height: 4px;\n}\n.editor-kit-container tr:last-child > .tb-resizable > .tb-resizable-vert {\n  bottom: 0;\n  height: 4px;\n}\n.editor-kit-container .ace-table-is-dragging .tb-resizable-horz:hover .tb-resizable-grippy-inner {\n  transition: none;\n}\n.editor-kit-container .ace-table-is-dragging .tb-resizable-horz.is-hovered .tb-resizable-grippy-inner {\n  transition: none;\n}\n.editor-kit-container .ace-table-add-remove-shown .tb-resizable-horz:hover .tb-resizable-grippy-inner {\n  transition: none;\n}\n.editor-kit-container .ace-table-add-remove-shown .tb-resizable-horz.is-hovered .tb-resizable-grippy-inner {\n  transition: none;\n}\n.editor-kit-container .tb-resizable-vert {\n  display: block;\n  position: absolute;\n  left: 0;\n  bottom: -4px;\n  right: 0;\n  height: 7px;\n  width: 100%;\n  cursor: row-resize;\n  z-index: 38;\n}\n.editor-kit-container .tb-resizable-vert .icon-overlay {\n  cursor: col-resize;\n}\n.editor-kit-container .tb-resizable-vert .tb-resizable-grippy-inner {\n  transform: translateY(3px);\n  height: 1px;\n  width: 100%;\n}\n.editor-kit-container .tb-resizable-vert:hover .tb-resizable-grippy-inner {\n  background-color: #3370ff;\n}\n.editor-kit-container .tb-resizing * {\n  cursor: col-resize !important;\n}\n.editor-kit-container .editor-kit-mobile .tb-resizable {\n  position: static;\n}\n.editor-kit-container .ace-table-row-headers {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  top: 0;\n  left: -20px;\n  width: 12px;\n}\n.editor-kit-container .ace-table-row-headers .dmc-button-content {\n  display: none;\n}\n.editor-kit-container .ace-table-row-headers .ace-table-row-header {\n  position: relative;\n}\n.editor-kit-container .ace-table-row-headers .ace-table-row-header .ace-table-row-select {\n  box-sizing: border-box;\n  position: absolute;\n  bottom: 0;\n  background-color: #eff0f1;\n  border-radius: 0;\n  top: 0;\n  right: auto;\n  width: 12px;\n  height: 100%;\n}\n.editor-kit-container .ace-table-row-headers .ace-table-row-header .ace-table-row-select:active {\n  background-color: #dee0e3;\n}\n.editor-kit-container .ace-table-row-headers .ace-table-row-header .ace-table-row-select-hover {\n  background-color: #dee0e3;\n}\n.editor-kit-container .ace-table-row-headers .ace-table-row-header:first-child .ace-table-row-select {\n  border-top-left-radius: 12px;\n  border-top-right-radius: 12px;\n}\n.editor-kit-container .ace-table-row-headers .ace-table-row-header:last-child .ace-table-row-select {\n  border-bottom-left-radius: 12px;\n  border-bottom-right-radius: 12px;\n}\n.editor-kit-container .ace-table-row-headers .ace-table-row-header.ace-table-row-header-partial-selected .ace-table-col-select {\n  background-color: #bacefd;\n  border-right-color: #bacefd;\n}\n.editor-kit-container .ace-table-row-headers .ace-table-row-header.ace-table-row-header-partial-selected .ace-table-row-select {\n  background-color: #bacefd;\n  border-right-color: #bacefd;\n}\n.editor-kit-container .ace-table-row-headers .ace-table-row-header.ace-table-row-header-partial-selected:hover:before {\n  left: 1px;\n}\n.editor-kit-container .ace-table-row-headers .ace-table-row-header.ace-table-row-header-selected .ace-table-row-select {\n  border-color: #dee0e3;\n  background: #4e83fd;\n  z-index: 23;\n}\n.editor-kit-container .ace-table-row-headers .ace-table-row-header.ace-table-row-header-selected .ace-table-row-select:hover .dmc-button-content {\n  display: block;\n}\n.editor-kit-container .ace-table-is-resizing .ace-table-row-insert {\n  opacity: 0;\n}\n.editor-kit-container .ace-table-is-dragging .ace-table-row-header-partial-selected:before {\n  content: none !important;\n}\n.editor-kit-container .tb-scrollable-scrollbar {\n  background: #fff;\n  border: 1px solid #fff;\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 15px;\n  bottom: 0;\n  border-top: none;\n  z-index: 2;\n}\n.editor-kit-container .tb-scrollable-scrollbar:hover .tb-scrollable-scrollbar-thumb {\n  height: 8px;\n}\n.editor-kit-container .tb-scrollable-scrollbar .tb-scrollable-page-left {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 50%;\n  left: 0;\n}\n.editor-kit-container .tb-scrollable-scrollbar .tb-scrollable-page-right {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 50%;\n  right: 0;\n}\n.editor-kit-container .tb-scrollable-scrollbar-thumb {\n  position: absolute;\n  height: 4px;\n  margin: 4px 2px;\n  width: 0;\n  border-radius: 4px;\n  background-color: #dee0e3;\n  transition: height 150ms ease-out;\n  transition-delay: 150ms;\n  cursor: pointer;\n}\n.editor-kit-container .tb-scrollable-scrollbar-thumb:hover {\n  background-color: #bbbfc4;\n}\n.editor-kit-container .tb-scrollable-scrolling .tb-scrollable-scrollbar-thumb {\n  height: 8px;\n  background-color: #bbbfc4;\n}\n.editor-kit-container .tb-scrollable-stunt {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: -100%;\n  left: -100%;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  visibility: hidden;\n}\n.editor-kit-container .tb-scrollable-content {\n  overflow-y: hidden;\n  overflow-x: auto;\n}\n.editor-kit-container .tb-scrollable-content .tb-scrollable-shadow {\n  position: absolute;\n  top: 0;\n  bottom: 1px;\n  width: 0;\n  pointer-events: none;\n  z-index: 1;\n}\n.editor-kit-container .tb-scrollable-content .tb-scrollable-shadow-left {\n  left: 0;\n  border-left: 1px solid transparent;\n}\n.editor-kit-container .tb-scrollable-content .tb-scrollable-shadow-left.tb-scrollable-shadow-enabled {\n  background: linear-gradient(to left, rgba(31, 35, 41, 0) 0, rgba(31, 35, 41, 0.1) 100%);\n  border-left-color: #dee0e3;\n}\n.editor-kit-container .tb-scrollable-content .tb-scrollable-shadow-right {\n  right: 0;\n  border-right: 1px solid transparent;\n}\n.editor-kit-container .tb-scrollable-content .tb-scrollable-shadow-right.tb-scrollable-shadow-enabled {\n  background: linear-gradient(to right, rgba(31, 35, 41, 0) 0, rgba(31, 35, 41, 0.1) 100%);\n  border-right-color: #dee0e3;\n}\n.editor-kit-container .tb-scrollable-hide-auto-scrollbar .tb-scrollable-shadow {\n  bottom: 16px;\n}\n.editor-kit-container .ace-table-wrapper-outer.ace-table-is-focused .tb-scrollable-shadow-left {\n  border-left-color: transparent;\n}\n.editor-kit-container .ace-table-wrapper-outer.ace-table-is-focused .tb-scrollable-shadow-right {\n  border-right-color: transparent;\n}\n.editor-kit-container .ace-table-wrapper-outer.ace-table-is-focused .tb-scrollable-shadow-left.tb-scrollable-shadow-enabled {\n  background: linear-gradient(to left, rgba(31, 35, 41, 0) 0, rgba(31, 35, 41, 0.08) 100%);\n  border-left-color: #dee0e3;\n}\n.editor-kit-container .ace-table-wrapper-outer.ace-table-is-focused .tb-scrollable-shadow-right.tb-scrollable-shadow-enabled {\n  background: linear-gradient(to right, rgba(31, 35, 41, 0) 0, rgba(31, 35, 41, 0.08) 100%);\n  border-right-color: #dee0e3;\n}\n.editor-kit-container td.ace-table-cell-selected:not(.ace-table-cell-is-deletion-hint) {\n  background-color: #f0f4ff;\n  background-clip: padding-box;\n  caret-color: transparent;\n}\n.editor-kit-container td.ace-table-cell-selected:not(.ace-table-cell-is-deletion-hint) ::selection {\n  background-color: transparent;\n}\n.editor-kit-container .ace-table-cell {\n  outline: none;\n  border: 1px solid #dee0e3;\n}\n.editor-kit-container .ace-table-table-header-wrapper {\n  position: absolute;\n  width: 0;\n  height: 0;\n  top: -12px;\n  left: -12px;\n  margin-right: -1px;\n  margin-bottom: -1px;\n}\n.editor-kit-container .ace-table-table-header-wrapper .ace-table-table-select {\n  position: absolute;\n  top: -12px;\n  left: -12px;\n  padding: 0;\n  text-align: center;\n  background-color: #eff0f1;\n  z-index: 100;\n}\n.editor-kit-container .ace-table-table-header-wrapper .ace-table-table-select svg {\n  margin-left: -2px;\n  margin-top: -2px;\n}\n.editor-kit-container .ace-table-table-header-wrapper .ace-table-table-select path {\n  fill: #8f959e;\n}\n.editor-kit-container .ace-table-table-header-wrapper:hover .ace-table-table-select {\n  background-color: #dee0e3;\n}\n.editor-kit-container .ace-table-table-header-wrapper:hover .ace-table-table-select path {\n  fill: #8f959e;\n}\n.editor-kit-container .ace-table-table-header-wrapper.selected .ace-table-table-select {\n  background-color: #3370ff;\n}\n.editor-kit-container .ace-table-table-header-wrapper.selected .ace-table-table-select path {\n  fill: #fff;\n}\n.editor-kit-container .ace-table-table-header-wrapper .ace-table-table-header {\n  position: absolute;\n  height: 0;\n  width: 0;\n  top: 0;\n  left: 0;\n  border: none;\n}\n.editor-kit-container .ace-table-table-header-wrapper .ace-table-table-header .dmc-button-content {\n  display: none;\n}\n.editor-kit-container .ace-table-table-header-wrapper .ace-table-table-header .ace-table-col-insert {\n  right: -3px;\n}\n.editor-kit-container .ace-table-table-header-wrapper .ace-table-table-header .ace-table-row-insert {\n  bottom: -3px;\n}\n.editor-kit-container .ace-table-table-header-wrapper .ace-table-row-insert {\n  opacity: 0;\n  position: absolute;\n  height: 5px;\n  width: 5px;\n  background-color: #dee0e3;\n  border-radius: 50%;\n  z-index: 23;\n  transition: opacity 100ms linear;\n  left: 0;\n  bottom: -2px;\n}\n.editor-kit-container .ace-table-table-header-wrapper .ace-table-col-insert {\n  opacity: 0;\n  position: absolute;\n  height: 5px;\n  width: 5px;\n  background-color: #dee0e3;\n  border-radius: 50%;\n  z-index: 23;\n  transition: opacity 100ms linear;\n  top: 0;\n  right: -2px;\n}\n.editor-kit-container .ace-table-header {\n  position: absolute;\n  z-index: 35;\n  user-select: none;\n}\n.editor-kit-container .ace-table-header .cp-popover {\n  font-size: 14px;\n}\n.editor-kit-container .ace-table-header__popover {\n  list-style: none;\n  padding: 8px;\n}\n.editor-kit-container .ace-table-header .ace-table-header__btn {\n  height: 36px;\n  line-height: 36px;\n  cursor: pointer;\n  color: #000;\n}\n.editor-kit-container .ace-table-header .ace-table-header__btn span {\n  cursor: pointer;\n  word-break: keep-all;\n}\n.editor-kit-container .ace-table-header .ace-table-header__btn.disabled {\n  color: rgba(31, 35, 41, 0.25);\n  cursor: default;\n}\n.editor-kit-container .ace-table-header .ace-table-header__btn.disabled span {\n  cursor: default;\n}\n.editor-kit-container .ace-table-header .ace-table-header__btn:not(.disabled):hover:hover {\n  fill: #3370ff;\n  color: #3370ff;\n}\n.editor-kit-container .ace-table-header .ace-table-header__btn:not(.disabled):hover:active {\n  fill: #245bdb;\n  color: #245bdb;\n}\n.editor-kit-container .ace-table-header .ace-table-header__btn > div {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n.editor-kit-container .ace-table-header svg {\n  margin-right: 8px;\n}\n.editor-kit-container .ace-table-header__trigger {\n  position: relative;\n  display: block;\n  width: 28px;\n  height: 28px;\n  border: 1px solid #bbbfc4;\n  border-radius: 50%;\n  fill: #bbbfc4;\n  background-color: #fff;\n  cursor: pointer;\n}\n.editor-kit-container .ace-table-header__trigger:hover {\n  fill: #3370ff;\n  border-color: #3370ff;\n}\n.editor-kit-container .ace-table-header__trigger svg {\n  margin: auto;\n}\n.editor-kit-container .ace-table-header .cp-popover-arrow {\n  display: none;\n}\n.editor-kit-container .ace-table-mount-point {\n  display: block;\n}\n.editor-kit-container .ace-table-wrapper-outer {\n  position: relative;\n  margin: 0 -1px 0 0;\n  padding: 30px 0 16px;\n  transition: margin-left 100ms ease-in, margin-right 100ms ease-in;\n}\n.editor-kit-container .ace-table-wrapper-outer .hpx-button span {\n  cursor: pointer;\n}\n.editor-kit-container .ace-table-wrapper-outer button {\n  cursor: pointer;\n  border: none;\n  background: none;\n}\n.editor-kit-container .ace-table-wrapper-outer .tb-scrollable-children {\n  padding: 1px;\n}\n.editor-kit-container .ace-table-wrapper-outer.ace-table-is-highlight {\n  /*.tb-scrollable-shadow-left {*/\n  /*border-left-color: @table_color_highlight;*/\n  /*&.tb-scrollable-shadow-enabled {*/\n  /*border-left-color: @table_color_highlight;*/\n  /*}*/\n  /*}*/\n  /*.tb-scrollable-shadow-right {*/\n  /*&.tb-scrollable-shadow-enabled {*/\n  /*border-right-color: @table_color_highlight;*/\n  /*}*/\n  /*}*/\n}\n.editor-kit-container .ace-table-wrapper-outer.ace-table-is-highlight .ace-table {\n  border: 1px solid #3370ff;\n  /*border-top: 0;*/\n  /*border-left: 0;*/\n}\n.editor-kit-container .ace-table-wrapper {\n  position: relative;\n  padding: 0;\n}\n.editor-kit-container .ace-table-wrapper::-moz-selection:window-inactive {\n  background: #bbbfc4;\n}\n.editor-kit-container .ace-table-wrapper::selection:window-inactive {\n  background: #bbbfc4;\n}\n.editor-kit-container .ace-table-wrapper-inner {\n  border-left: none;\n  border-right: none;\n  margin: 0;\n  overflow: hidden;\n}\n.editor-kit-container .ace-table {\n  width: 50px;\n  border-spacing: 0;\n  border: 1px solid #dee0e3;\n  word-break: break-all;\n  word-break: break-word;\n  position: relative;\n  cursor: text;\n}\n.editor-kit-container .ace-table .heading-h1 {\n  font-size: 22.75px;\n  margin-bottom: 8.75px;\n}\n.editor-kit-container .ace-table .heading-h2 {\n  font-size: 19.25px;\n  margin-bottom: 7px;\n}\n.editor-kit-container .ace-table .heading-h3 {\n  font-size: 17.5px;\n  margin-bottom: 7px;\n}\n.editor-kit-container .ace-table .heading-h4 {\n  font-size: 15.75px;\n  margin-bottom: 7px;\n}\n.editor-kit-container .ace-table .heading-h5,\n.editor-kit-container .ace-table .heading-h6,\n.editor-kit-container .ace-table .heading-h7,\n.editor-kit-container .ace-table .heading-h8,\n.editor-kit-container .ace-table .heading-h9 {\n  font-size: 14px;\n  margin-bottom: 5.25px;\n}\n.editor-kit-container .ace-table tbody > tr > td {\n  border: 1px solid #dee0e3;\n  border-right-width: 0;\n  border-bottom-width: 0;\n  vertical-align: top;\n  min-width: 50px;\n  font-size: 14px;\n}\n.editor-kit-container .ace-table tbody > tr:nth-child(1) > td {\n  border-top-width: 0;\n}\n.editor-kit-container .ace-table tbody > tr > td:nth-child(1) {\n  border-left: 0;\n}\n.editor-kit-container .ace-table .image-uploaded {\n  padding: 0;\n}\n.editor-kit-container .ace-table .ace-editor {\n  min-height: 0;\n  border-radius: 5px;\n  padding: 9px 8px 8px;\n}\n.editor-kit-container .ace-table .ace-editor:focus {\n  outline: none;\n}\n.editor-kit-container .ace-table .ep-cursor__name {\n  transform: scale(0.8);\n}\n.editor-kit-container .ace-table-temp-row {\n  background-color: #f0f4ff;\n}\n.editor-kit-container .ace-table-temp-row div {\n  min-height: 38px;\n}\n.editor-kit-container .ace-table-temp-col {\n  background-color: #f0f4ff;\n}\n.editor-kit-container .ace-table-temp-col div {\n  min-height: 38px;\n}\n.editor-kit-container .ace-table-full-width-button {\n  display: block;\n  position: absolute;\n  top: -13px;\n  right: -34px;\n  width: 23px;\n  height: 23px;\n}\n.editor-kit-container .ace-table-is-dragging * {\n  cursor: move !important;\n}\n.editor-kit-container .ace-table-toolbars {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.editor-kit-container .ace-button {\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  cursor: pointer;\n  overflow: hidden;\n}\n.editor-kit-container .ace-button svg {\n  cursor: pointer;\n}\n.editor-kit-container .ace-button-white {\n  width: 34px;\n  height: 34px;\n  background: #fff;\n}\n.editor-kit-container .ace-button-white:hover path {\n  fill: #3370ff;\n}\n.editor-kit-container .table-hide {\n  display: none !important;\n}\n.editor-kit-container .ace-table-is-drag-mutating-rows {\n  cursor: ns-resize !important;\n}\n.editor-kit-container .ace-table-is-drag-mutating-rows td {\n  cursor: ns-resize !important;\n}\n.editor-kit-container .ace-table-is-drag-mutating-rows div {\n  cursor: ns-resize !important;\n}\n.editor-kit-container .ace-table-is-drag-mutating-rows span {\n  cursor: ns-resize !important;\n}\n.editor-kit-container .ace-table-is-drag-mutating-rows .hpx-button {\n  cursor: ns-resize !important;\n}\n.editor-kit-container .ace-table-is-drag-mutating-cols {\n  cursor: ew-resize !important;\n}\n.editor-kit-container .ace-table-is-drag-mutating-cols td {\n  cursor: ew-resize !important;\n}\n.editor-kit-container .ace-table-is-drag-mutating-cols div {\n  cursor: ew-resize !important;\n}\n.editor-kit-container .ace-table-is-drag-mutating-cols span {\n  cursor: ew-resize !important;\n}\n.editor-kit-container .ace-table-is-drag-mutating-cols .hpx-button {\n  cursor: ew-resize !important;\n}\n.editor-kit-container .table-non-selectable {\n  user-select: none;\n}\n.editor-kit-container .none-pointer-events {\n  pointer-events: none;\n}\n.editor-kit-container.editor-kit-mobile .ace-table-wrapper-inner {\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.editor-kit-container.editor-kit-mobile .ace-table {\n  border: 1px solid #dee0e3 !important;\n  border-top: 0!important;\n  border-left: 0!important;\n}\n.editor-kit-container.editor-kit-mobile .ace-table tbody > tr > td {\n  border: 1px solid #dee0e3 !important;\n  border-right-width: 0 !important;\n  border-bottom-width: 0 !important;\n}\n",""]);const o=i},771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,'.ace-table-loading-container {\n  padding: 8px 0;\n}\n.ace-table-loading-container .ace-table-loading {\n  position: relative;\n  background-color: #f5f6f7;\n  padding: 61px;\n  min-width: 36px;\n  height: 160px;\n  box-sizing: border-box;\n  border-radius: 4px;\n  border: 1px solid #dee0e3;\n}\n.ace-table-loading-container .ace-table-loading .ace-table-loader {\n  position: relative;\n  margin: 0 auto;\n  width: 36px;\n}\n.ace-table-loading-container .ace-table-loading .ace-table-loader:before {\n  content: "";\n  display: block;\n  padding-top: 100%;\n}\n.ace-table-loading-container .ace-table-loading .circular {\n  animation: ace-zone-loading-rotate 2s linear infinite;\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n}\n.ace-table-loading-container .ace-table-loading .path {\n  stroke-dasharray: 1, 200;\n  stroke-dashoffset: 0;\n  animation: ace-zone-loading-dash 1.5s ease-in-out infinite;\n  stroke: #bbbfc4;\n  stroke-linecap: round;\n}\n@-webkit-keyframes ace-zone-loading-rotate {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n@keyframes ace-zone-loading-rotate {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes ace-zone-loading-dash {\n  0% {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -35px;\n  }\n  100% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -124px;\n  }\n}\n@keyframes ace-zone-loading-dash {\n  0% {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -35px;\n  }\n  100% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -124px;\n  }\n}\n',""]);const o=i},314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,'.adit-color-picker {\n  display: flex;\n  border: 1px solid #dee0e3;\n  box-shadow: 0 3px 12px 2px #dee0e3;\n  padding: 16px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  background-color: #fff;\n  border-radius: 2px;\n}\n.adit-color-picker > .adit-color-picker-col {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  margin-left: 6px;\n  margin-right: 6px;\n}\n.adit-color-picker > .adit-color-picker-col:first-child {\n  margin-left: 0;\n}\n.adit-color-picker > .adit-color-picker-col:last-child {\n  margin-right: 0;\n}\n.adit-color-picker > .adit-color-picker-col > .color-swatch {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 18px;\n  height: 18px;\n  margin-top: 3px;\n  margin-bottom: 3px;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  border: 1px solid;\n  border-radius: 2px;\n}\n.adit-color-picker > .adit-color-picker-col > .color-swatch:first-child {\n  margin-top: 0;\n}\n.adit-color-picker > .adit-color-picker-col > .color-swatch:last-child {\n  margin-bottom: 0;\n}\n.adit-color-picker > .adit-color-picker-col > .color-swatch:nth-child(2) {\n  margin-top: 13px;\n}\n.adit-color-picker > .adit-color-picker-col > .color-swatch > svg {\n  visibility: hidden;\n  fill: #fff;\n}\n.adit-color-picker > .adit-color-picker-col > .color-swatch[adit-swatch-selected] > svg {\n  visibility: visible;\n}\n.adit-color-picker-btn > button > svg {\n  width: 26px;\n  height: 26px;\n}\n.adit-color-picker-btn > button > svg path {\n  transform: scale(1.2) translate(-2px, -1.5px);\n}\n.adit-color-picker-btn > button > svg rect {\n  transform: translate(0, 2.5px);\n}\n.adit-color-picker-btn:hover {\n  background-color: #eff0f1;\n}\n.adit-color-picker-btn svg {\n  display: block;\n}\n/* Web 标准色盘 */\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown {\n  position: relative;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown [adit-disabled] button:hover {\n  background-color: transparent;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown .adit-format-button {\n  padding: 4px 8px;\n  height: 26px;\n  border-radius: 6px;\n  background-clip: padding-box;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown .adit-format-button > svg {\n  fill-rule: evenodd;\n  width: 12px !important;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-content {\n  font-family: "Monospaced Number", "Chinese Quote", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  line-height: 1.5;\n  color: #2b2f36;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 4px;\n  list-style: none;\n  display: block;\n  background-color: #fff;\n  border-radius: 6px;\n  border: 1px solid #dee0e3;\n  box-shadow: 0 3px 12px 2px #dee0e3;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-content .adit-format-button {\n  display: flex;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-content .menu-text {\n  box-sizing: border-box;\n  min-width: 132px;\n  padding: 8px 18px;\n  cursor: pointer;\n  border-radius: 4px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-content .menu-text:hover {\n  background-color: #eff0f1;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot {\n  position: relative;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-format-button > svg > path {\n  transform: translate(2.5px, 6.5px) !important;\n  font-weight: bold;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  border-radius: 6px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate.top {\n  bottom: 100%;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate.top > .adit-dropdown-box {\n  margin-bottom: 6px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate.top > .adit-dropdown-box::before {\n  bottom: -5px;\n  margin-left: -6px;\n  border-width: 6px 6px 0 6px;\n  border-top-color: #dee0e3;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate.top > .adit-dropdown-box::after {\n  bottom: -4px;\n  margin-left: -5px;\n  border-width: 5px 5px 0 5px;\n  border-top-color: #fff;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate.bottom {\n  top: 100%;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate.bottom > .adit-dropdown-box {\n  margin-top: 6px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate.bottom > .adit-dropdown-box::before {\n  top: -5px;\n  margin-left: -6px;\n  border-width: 0 6px 6px;\n  border-bottom-color: #dee0e3;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate.bottom > .adit-dropdown-box::after {\n  top: -4px;\n  margin-left: -5px;\n  border-width: 0 5px 5px;\n  border-bottom-color: #fff;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate > .adit-dropdown-box {\n  position: relative;\n  cursor: auto;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate > .adit-dropdown-box::before,\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-pivot .adit-dropdown-locate > .adit-dropdown-box::after {\n  position: absolute;\n  display: block;\n  width: 0;\n  height: 0;\n  content: "";\n  border-style: solid;\n  border-color: transparent;\n  left: 50%;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-icon {\n  height: 12px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-icon > .icon-fontfamily {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-icon > .icon-fontfamily > span {\n  font-size: 14px;\n  font-weight: 500;\n  width: 67px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-align {\n  min-width: 48px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-align .menu-icon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 32px;\n  width: 100%;\n  cursor: pointer;\n  border-radius: 4px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-align .menu-icon svg > path {\n  transform: scale(0.8) translate(4px, 4px);\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-align .menu-icon:hover {\n  background-color: #eff0f1;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-fontfamily {\n  min-width: 160px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-dropdown-fontsize {\n  min-width: 120px;\n}\n/* Web 标准色盘 */\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-button {\n  user-select: none;\n  cursor: pointer;\n  position: relative;\n  padding: 0px;\n  display: flex;\n  align-items: center;\n  background-clip: content-box;\n  font-size: 14px;\n  white-space: pre;\n  border-radius: 6px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-button svg {\n  fill-rule: evenodd;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-button:hover:not([adit-disabled]) {\n  background-color: #eff0f1;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-button svg,\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-button button {\n  margin: 0;\n  padding: 0;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-button:not(.adit-color-picker-btn) svg {\n  width: 26px;\n  height: 26px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-button:not(.adit-color-picker-btn) svg path {\n  transform: scale(0.8) translate(4px, 4px);\n}\n.editor-kit-wrapper-container.adit-wrapper-container [adit-disabled] .adit-format-button:hover {\n  background-color: transparent;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-format-icon {\n  display: flex;\n  align-items: center;\n}\n.editor-kit-wrapper-container.adit-wrapper-container [adit-selected]:not([adit-disable-selected]),\n.editor-kit-wrapper-container.adit-wrapper-container [adit-enable-default] [adit-default]:not([adit-disable-selected]) {\n  fill: #3370ff;\n  color: #3370ff;\n}\n.editor-kit-wrapper-container.adit-wrapper-container [adit-disabled] {\n  fill: #dee0e3 !important;\n  color: #dee0e3 !important;\n  pointer-events: none;\n  cursor: auto;\n}\n.editor-kit-wrapper-container.adit-wrapper-container [adit-disabled] rect {\n  fill: #dee0e3 !important;\n}\n.editor-kit-wrapper-container.adit-wrapper-container [adit-disabled] span {\n  color: #dee0e3;\n}\n.editor-kit-wrapper-container.adit-wrapper-container [adit-disabled] button {\n  pointer-events: none;\n  cursor: auto;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-toolbar-wrapper {\n  display: flex;\n  background-color: #fff;\n  border: 1px solid #dee0e3;\n  padding: 7px 16.5px;\n  user-select: none;\n  font-size: 7px;\n  align-items: center;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-toolbar-wrapper > div:not(:first-child) {\n  margin-left: 4px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-toolbar-wrapper > div:not(:last-child) {\n  margin-right: 4px;\n}\n.editor-kit-wrapper-container.adit-wrapper-container .adit-toolbar-wrapper .adit-format-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.adit-tooltip-container {\n  overflow: hidden;\n  position: absolute;\n  transform: translateX(-50%);\n  height: 0;\n  width: 0;\n  visibility: hidden;\n}\n.adit-tooltip-container .adit-tooltip-transition {\n  transition: 0.1s;\n  transform: scale(0.6);\n  opacity: 0;\n}\n.adit-tooltip-container .adit-tooltip-box {\n  display: flex;\n  align-items: center;\n  position: relative;\n  border-radius: 8px;\n  padding: 8px 12px;\n  box-sizing: border-box;\n  min-width: 20px;\n  min-height: 32px;\n  background-color: #1f2329;\n  color: #fff;\n  border-color: #1f2329;\n  white-space: nowrap;\n}\n.adit-tooltip-container .adit-tooltip-box::before {\n  position: absolute;\n  display: block;\n  width: 0;\n  height: 0;\n  content: "";\n  border-style: solid;\n  border-color: transparent;\n  left: 50%;\n}\n.adit-tooltip-container .adit-tooltip-box .adit-tooltip-content {\n  font-size: 12px;\n  white-space: pre;\n  text-align: center;\n}\n.adit-tooltip-pivot {\n  position: relative;\n}\n.adit-tooltip-pivot .adit-tooltip {\n  position: absolute;\n  height: 0;\n  transform: translateX(-50%);\n  left: 50%;\n  pointer-events: none;\n  z-index: 99999;\n}\n.adit-tooltip-visible .adit-tooltip-container {\n  height: auto;\n  width: auto;\n  overflow: visible;\n  visibility: visible;\n}\n.adit-tooltip-hover .adit-tooltip-transition {\n  transform: scale(1);\n  opacity: 1;\n}\n.adit-wrapper-container.top .adit-tooltip {\n  bottom: 100%;\n}\n.adit-wrapper-container.top .adit-tooltip-transition {\n  transform-origin: bottom center;\n}\n.adit-wrapper-container.top .adit-tooltip-visible .adit-tooltip-container {\n  bottom: 0;\n  margin-bottom: 12px;\n}\n.adit-wrapper-container.top .adit-tooltip-visible .adit-tooltip-container .adit-tooltip-box::before {\n  bottom: -6px;\n  margin-left: -6px;\n  border-width: 6px 6px 0;\n  border-top-color: #1f2329;\n}\n.adit-wrapper-container.bottom .adit-tooltip {\n  top: 100%;\n}\n.adit-wrapper-container.bottom .adit-tooltip-transition {\n  transform-origin: top center;\n}\n.adit-wrapper-container.bottom .adit-tooltip-visible .adit-tooltip-container {\n  top: 0;\n  margin-top: 12px;\n}\n.adit-wrapper-container.bottom .adit-tooltip-visible .adit-tooltip-container .adit-tooltip-box::before {\n  top: -6px;\n  margin-left: -6px;\n  border-width: 0 6px 6px;\n  border-bottom-color: #1f2329;\n}\n/* Web 标准色盘 */\n.editor-kit-wrapper-container.adit-wrapper-container {\n  font-family: "Segoe UI Emoji", "Helvetica Neue", -apple-system, BlinkMacSystemFont, "PingFang SC", Roboto, "Microsoft YaHei", "Source Han Sans SC", "Noto Sans CJK SC", "Myriad Pro", "Hiragino Sans", "Yu Gothic", "Lucida Grande", sans-serif;\n  border: 1px solid #dee0e3;\n  position: relative;\n  min-width: 320px;\n  z-index: 9999;\n  background-color: #fff;\n}\n.editor-kit-wrapper-container.adit-wrapper-container * {\n  box-sizing: border-box;\n  -webkit-font-smoothing: antialiased;\n}\n.editor-kit-wrapper-container.adit-wrapper-container button {\n  cursor: pointer;\n  border: none;\n  background-color: transparent;\n}\n.editor-kit-wrapper-container.adit-wrapper-container a,\n.editor-kit-wrapper-container.adit-wrapper-container button,\n.editor-kit-wrapper-container.adit-wrapper-container input,\n.editor-kit-wrapper-container.adit-wrapper-container textarea {\n  outline: 0;\n}\n.editor-kit-wrapper-container.adit-wrapper-container::before,\n.editor-kit-wrapper-container.adit-wrapper-container::after {\n  content: \'\';\n  display: block;\n  clear: both;\n}\n.editor-kit-wrapper-container.adit-wrapper-container > .adit-plate {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  position: absolute;\n  right: 12px;\n  margin-left: 12px;\n  padding: 8px;\n  background-color: #fff;\n  box-shadow: 0 6px 24px 0 rgba(17, 34, 51, 0.1);\n  border-radius: 8px;\n  border: 1px solid #dee0e3;\n  user-select: none;\n  z-index: 999;\n}\n.editor-kit-wrapper-container.adit-wrapper-container > .adit-plate:empty {\n  display: none;\n}\n.editor-kit-wrapper-container.adit-wrapper-container > .adit-plate.vertical {\n  display: flex;\n}\n.editor-kit-wrapper-container.adit-wrapper-container > .adit-plate.vertical.top {\n  flex-direction: column;\n}\n.editor-kit-wrapper-container.adit-wrapper-container > .adit-plate.vertical.top .adit-group {\n  flex-direction: column;\n}\n.editor-kit-wrapper-container.adit-wrapper-container > .adit-plate.vertical.bottom {\n  flex-direction: column;\n}\n.editor-kit-wrapper-container.adit-wrapper-container > .adit-plate.vertical.bottom .adit-group {\n  flex-direction: column;\n}\n.editor-kit-wrapper-container.adit-wrapper-container > .adit-plate:not(.vertical) {\n  flex-direction: row;\n}\n.editor-kit-wrapper-container.adit-wrapper-container > .adit-plate:not(.vertical) .adit-group {\n  flex-direction: row;\n}\n.editor-kit-wrapper-container.adit-wrapper-container.top > .adit-plate {\n  bottom: 100%;\n}\n.editor-kit-wrapper-container.adit-wrapper-container.bottom > .adit-plate {\n  top: 100%;\n}\n.editor-kit-wrapper-container .adit-wrapper {\n  display: flex;\n  background-color: #fff;\n  padding: 7px 16.5px;\n  user-select: none;\n  align-items: center;\n  float: left;\n}\n.editor-kit-wrapper-container .adit-wrapper > div:not(:first-child),\n.editor-kit-wrapper-container .adit-plate:not(.vertical) > div:not(:first-child) {\n  padding-left: 4px;\n}\n.editor-kit-wrapper-container .adit-wrapper > div:not(:last-child),\n.editor-kit-wrapper-container .adit-plate:not(.vertical) > div:not(:last-child) {\n  padding-right: 4px;\n}\n.editor-kit-wrapper-container .adit-group {\n  display: flex;\n}\n.editor-kit-wrapper-container .adit-group:not(:first-child)::before {\n  content: \'\';\n  display: block;\n  width: 1px;\n  height: 18px;\n  background-color: #dee0e3;\n  margin: auto 4px auto 0;\n}\n.editor-kit-wrapper-container .adit-group:not(:first-child) > div {\n  padding-left: 4px;\n}\n.editor-kit-wrapper-container .adit-group > div:not(:last-child) {\n  padding-right: 4px;\n}\n.editor-kit-wrapper-container .adit-plate.vertical .adit-group::before {\n  content: none;\n}\n.editor-kit-wrapper-container .adit-plate.vertical .adit-group > div {\n  padding: 0;\n}\n.editor-kit-wrapper-container .adit-toolbar-iframe {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border: none;\n  visibility: hidden;\n  pointer-events: none;\n}\n',""]);const o=i},769:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"/* Web 标准色盘 */\n.editor-kit-container .video-container .video-wrapper {\n  position: relative;\n  display: inline-block;\n  border: 2px solid #dee0e3;\n  width: 100%;\n  max-width: 600px;\n  line-height: 0;\n}\n.editor-kit-container .video-container .video-wrapper:not(.selected):hover {\n  box-shadow: 0 0 0 2px #bacefd;\n}\n.editor-kit-container .video-container .video-wrapper .video-upload-failed {\n  display: inline-block;\n  width: 100%;\n}\n.editor-kit-container .video-container .video-wrapper .video-upload-failed .fail-wrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 450px;\n}\n.editor-kit-container .video-container .video-wrapper .video-upload-failed .fail-wrapper span {\n  margin-top: 16px;\n  font-size: 14px;\n  color: #646a73;\n}\n.editor-kit-container .video-container .video-wrapper .video-upload-loading {\n  display: flex;\n  box-sizing: border-box;\n  margin: auto;\n  width: 80px;\n  height: 450px;\n  align-items: center;\n  color: #3370ff;\n  animation: SpinSVGRotate 1.2s linear infinite;\n}\n.editor-kit-container .video-container .video-wrapper .video-upload-loading > svg {\n  width: 80px;\n  box-sizing: border-box;\n}\n.editor-kit-container .video-container .video-wrapper .video-upload-loading circle {\n  stroke-dasharray: 1, 220;\n  stroke-dashoffset: 0;\n  stroke-linecap: round;\n  animation: SpinSVGDash 2.5s ease-in-out infinite;\n}\n@keyframes SpinSVGRotate {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@keyframes SpinSVGDash {\n  0% {\n    stroke-dasharray: 1, 220;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 150, 220;\n    stroke-dashoffset: -68px;\n  }\n  100% {\n    stroke-dasharray: 150, 220;\n    stroke-dashoffset: -218px;\n  }\n}\n.editor-kit-container .video-container .selected {\n  border-color: #3370ff;\n}\n",""]);const o=i},609:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);r&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},661:e=>{var t=-1;function n(e,l,s,u){if(e===l)return e?[[0,e]]:[];if(null!=s){var c=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=e.length,a=t.length;if(0===r.length&&(null===i||0===i.length)){var l=r.index,s=e.slice(0,l),u=e.slice(l),c=i?i.index:null,f=l+a-o;if((null===c||c===f)&&!(f<0||f>a)){var h=t.slice(0,f);if((v=t.slice(f))===u){var p=Math.min(l,f);if((b=s.slice(0,p))===(w=h.slice(0,p)))return d(b,s.slice(p),h.slice(p),u)}}if(null===c||c===l){var g=l,v=(h=t.slice(0,g),t.slice(g));if(h===s){var m=Math.min(o-g,a-g);if((y=u.slice(u.length-m))===(I=v.slice(v.length-m)))return d(s,u.slice(0,u.length-m),v.slice(0,v.length-m),y)}}}if(r.length>0&&i&&0===i.length){var b=e.slice(0,r.index),y=e.slice(r.index+r.length);if(!(a<(p=b.length)+(m=y.length))){var w=t.slice(0,p),I=t.slice(a-m);if(b===w&&y===I)return d(b,e.slice(p,o-m),t.slice(p,a-m),y)}}return null}(e,l,s);if(c)return c}var f=i(e,l),h=e.substring(0,f);f=o(e=e.substring(f),l=l.substring(f));var p=e.substring(e.length-f),g=function(e,a){var l;if(!e)return[[1,a]];if(!a)return[[t,e]];var s=e.length>a.length?e:a,u=e.length>a.length?a:e,c=s.indexOf(u);if(-1!==c)return l=[[1,s.substring(0,c)],[0,u],[1,s.substring(c+u.length)]],e.length>a.length&&(l[0][0]=l[2][0]=t),l;if(1===u.length)return[[t,e],[1,a]];var d=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function a(e,t,n){for(var r,a,l,s,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,d="";-1!==(c=t.indexOf(u,c+1));){var f=i(e.substring(n),t.substring(c)),h=o(e.substring(0,n),t.substring(0,c));d.length<h+f&&(d=t.substring(c-h,c)+t.substring(c,c+f),r=e.substring(0,n-h),a=e.substring(n+f),l=t.substring(0,c-h),s=t.substring(c+f))}return 2*d.length>=e.length?[r,a,l,s,d]:null}var l,s,u,c,d,f=a(n,r,Math.ceil(n.length/4)),h=a(n,r,Math.ceil(n.length/2));if(!f&&!h)return null;l=h?f&&f[4].length>h[4].length?f:h:f;e.length>t.length?(s=l[0],u=l[1],c=l[2],d=l[3]):(c=l[0],d=l[1],s=l[2],u=l[3]);var p=l[4];return[s,u,c,d,p]}(e,a);if(d){var f=d[0],h=d[1],p=d[2],g=d[3],v=d[4],m=n(f,p),b=n(h,g);return m.concat([[0,v]],b)}return function(e,n){for(var i=e.length,o=n.length,a=Math.ceil((i+o)/2),l=a,s=2*a,u=new Array(s),c=new Array(s),d=0;d<s;d++)u[d]=-1,c[d]=-1;u[l+1]=0,c[l+1]=0;for(var f=i-o,h=f%2!=0,p=0,g=0,v=0,m=0,b=0;b<a;b++){for(var y=-b+p;y<=b-g;y+=2){for(var w=l+y,I=(M=y===-b||y!==b&&u[w-1]<u[w+1]?u[w+1]:u[w-1]+1)-y;M<i&&I<o&&e.charAt(M)===n.charAt(I);)M++,I++;if(u[w]=M,M>i)g+=2;else if(I>o)p+=2;else if(h){if((E=l+f-y)>=0&&E<s&&-1!==c[E])if(M>=(k=i-c[E]))return r(e,n,M,I)}}for(var C=-b+v;C<=b-m;C+=2){for(var k,E=l+C,x=(k=C===-b||C!==b&&c[E-1]<c[E+1]?c[E+1]:c[E-1]+1)-C;k<i&&x<o&&e.charAt(i-k-1)===n.charAt(o-x-1);)k++,x++;if(c[E]=k,k>i)m+=2;else if(x>o)v+=2;else if(!h){if((w=l+f-C)>=0&&w<s&&-1!==u[w]){var M;I=l+(M=u[w])-w;if(M>=(k=i-k))return r(e,n,M,I)}}}}return[[t,e],[1,n]]}(e,a)}(e=e.substring(0,e.length-f),l=l.substring(0,l.length-f));return h&&g.unshift([0,h]),p&&g.push([0,p]),a(g,u),g}function r(e,t,r,i){var o=e.substring(0,r),a=t.substring(0,i),l=e.substring(r),s=t.substring(i),u=n(o,a),c=n(l,s);return u.concat(c)}function i(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return l(e.charCodeAt(i-1))&&i--,i}function o(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return s(e.charCodeAt(e.length-i))&&i--,i}function a(e,n){e.push([0,""]);for(var r,l=0,s=0,d=0,f="",h="";l<e.length;)if(l<e.length-1&&!e[l][1])e.splice(l,1);else switch(e[l][0]){case 1:d++,h+=e[l][1],l++;break;case t:s++,f+=e[l][1],l++;break;case 0:var p=l-d-s-1;if(n){if(p>=0&&c(e[p][1])){var g=e[p][1].slice(-1);if(e[p][1]=e[p][1].slice(0,-1),f=g+f,h=g+h,!e[p][1]){e.splice(p,1),l--;var v=p-1;e[v]&&1===e[v][0]&&(d++,h=e[v][1]+h,v--),e[v]&&e[v][0]===t&&(s++,f=e[v][1]+f,v--),p=v}}if(u(e[l][1])){g=e[l][1].charAt(0);e[l][1]=e[l][1].slice(1),f+=g,h+=g}}if(l<e.length-1&&!e[l][1]){e.splice(l,1);break}if(f.length>0||h.length>0){f.length>0&&h.length>0&&(0!==(r=i(h,f))&&(p>=0?e[p][1]+=h.substring(0,r):(e.splice(0,0,[0,h.substring(0,r)]),l++),h=h.substring(r),f=f.substring(r)),0!==(r=o(h,f))&&(e[l][1]=h.substring(h.length-r)+e[l][1],h=h.substring(0,h.length-r),f=f.substring(0,f.length-r)));var m=d+s;0===f.length&&0===h.length?(e.splice(l-m,m),l-=m):0===f.length?(e.splice(l-m,m,[1,h]),l=l-m+1):0===h.length?(e.splice(l-m,m,[t,f]),l=l-m+1):(e.splice(l-m,m,[t,f],[1,h]),l=l-m+2)}0!==l&&0===e[l-1][0]?(e[l-1][1]+=e[l][1],e.splice(l,1)):l++,d=0,s=0,f="",h=""}""===e[e.length-1][1]&&e.pop();var b=!1;for(l=1;l<e.length-1;)0===e[l-1][0]&&0===e[l+1][0]&&(e[l][1].substring(e[l][1].length-e[l-1][1].length)===e[l-1][1]?(e[l][1]=e[l-1][1]+e[l][1].substring(0,e[l][1].length-e[l-1][1].length),e[l+1][1]=e[l-1][1]+e[l+1][1],e.splice(l-1,1),b=!0):e[l][1].substring(0,e[l+1][1].length)==e[l+1][1]&&(e[l-1][1]+=e[l+1][1],e[l][1]=e[l][1].substring(e[l+1][1].length)+e[l+1][1],e.splice(l+1,1),b=!0)),l++;b&&a(e,n)}function l(e){return e>=55296&&e<=56319}function s(e){return e>=56320&&e<=57343}function u(e){return s(e.charCodeAt(0))}function c(e){return l(e.charCodeAt(e.length-1))}function d(e,n,r,i){return c(e)||u(i)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,r],[0,i]])}function f(e,t,r){return n(e,t,r,!0)}f.INSERT=1,f.DELETE=t,f.EQUAL=0,e.exports=f},291:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],a=Object.getPrototypeOf,l=o.slice,s=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},u=o.push,c=o.indexOf,d={},f=d.toString,h=d.hasOwnProperty,p=h.toString,g=p.call(Object),v={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},y=r.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function I(e,t,n){var r,i,o=(n=n||y).createElement("script");if(o.text=e,t)for(r in w)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function C(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[f.call(e)]||"object":typeof e}var k="3.5.0",E=function(e,t){return new E.fn.init(e,t)};function x(e){var t=!!e&&"length"in e&&e.length,n=C(e);return!m(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}E.fn=E.prototype={jquery:k,constructor:E,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},l=1,s=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"==typeof a||m(a)||(a={}),l===s&&(a=this,l--);l<s;l++)if(null!=(e=arguments[l]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(u&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||E.isPlainObject(n)?n:{},i=!1,a[t]=E.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},E.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e))&&(!(t=a(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&p.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){I(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(x(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?E.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(x(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return s(a)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var M=function(e){var t,n,r,i,o,a,l,s,u,c,d,f,h,p,g,v,m,b,y,w="sizzle"+1*new Date,I=e.document,C=0,k=0,E=se(),x=se(),M=se(),S=se(),T=function(e,t){return e===t&&(d=!0),0},A={}.hasOwnProperty,N=[],L=N.pop,D=N.push,z=N.push,O=N.slice,R=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",P="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\[[\\x20\\t\\r\\n\\f]*("+P+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+j+"*\\]",F=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(j+"+","g"),Z=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),K=new RegExp(j+"|>"),Y=new RegExp(F),G=new RegExp("^"+P+"$"),V={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+_+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},ae=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{z.apply(N=O.call(I.childNodes),I.childNodes),N[I.childNodes.length].nodeType}catch(e){z={apply:N.length?function(e,t){D.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function le(e,t,r,i){var o,l,u,c,d,p,m,b=t&&t.ownerDocument,I=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==I&&9!==I&&11!==I)return r;if(!i&&(f(t),t=t||h,g)){if(11!==I&&(d=$.exec(e)))if(o=d[1]){if(9===I){if(!(u=t.getElementById(o)))return r;if(u.id===o)return r.push(u),r}else if(b&&(u=b.getElementById(o))&&y(t,u)&&u.id===o)return r.push(u),r}else{if(d[2])return z.apply(r,t.getElementsByTagName(e)),r;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return z.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+" "]&&(!v||!v.test(e))&&(1!==I||"object"!==t.nodeName.toLowerCase())){if(m=e,b=t,1===I&&(K.test(e)||U.test(e))){for((b=ee.test(e)&&me(t.parentNode)||t)===t&&n.scope||((c=t.getAttribute("id"))?c=c.replace(re,ie):t.setAttribute("id",c=w)),l=(p=a(e)).length;l--;)p[l]=(c?"#"+c:":scope")+" "+ye(p[l]);m=p.join(",")}try{return z.apply(r,b.querySelectorAll(m)),r}catch(t){S(e,!0)}finally{c===w&&t.removeAttribute("id")}}}return s(e.replace(Z,"$1"),t,r,i)}function se(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ue(e){return e[w]=!0,e}function ce(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return ue((function(t){return t=+t,ue((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=le.support={},o=le.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Q.test(t||n&&n.nodeName||"HTML")},f=le.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:I;return a!=h&&9===a.nodeType&&a.documentElement?(p=(h=a).documentElement,g=!o(h),I!=h&&(i=h.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=ce((function(e){return p.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(h.getElementsByClassName),n.getById=ce((function(e){return p.appendChild(e).id=w,!h.getElementsByName||!h.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],v=[],(n.qsa=J.test(h.querySelectorAll))&&(ce((function(e){var t;p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+_+")"),e.querySelectorAll("[id~="+w+"-]").length||v.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=J.test(b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),m.push("!=",F)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=J.test(p.compareDocumentPosition),y=t||J.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==h||e.ownerDocument==I&&y(I,e)?-1:t==h||t.ownerDocument==I&&y(I,t)?1:c?R(c,e)-R(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],l=[t];if(!i||!o)return e==h?-1:t==h?1:i?-1:o?1:c?R(c,e)-R(c,t):0;if(i===o)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[r]===l[r];)r++;return r?fe(a[r],l[r]):a[r]==I?-1:l[r]==I?1:0},h):h},le.matches=function(e,t){return le(e,null,null,t)},le.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&g&&!S[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var r=b.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){S(t,!0)}return le(t,h,null,[e]).length>0},le.contains=function(e,t){return(e.ownerDocument||e)!=h&&f(e),y(e,t)},le.attr=function(e,t){(e.ownerDocument||e)!=h&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},le.escape=function(e){return(e+"").replace(re,ie)},le.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},le.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return c=null,e},i=le.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=le.selectors={cacheLength:50,createPseudo:ue,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||le.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&le.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+j+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=le.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),l="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,s){var u,c,d,f,h,p,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,m=l&&t.nodeName.toLowerCase(),b=!s&&!l,y=!1;if(v){if(o){for(;g;){for(f=t;f=f[g];)if(l?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&b){for(y=(h=(u=(c=(d=(f=v)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===C&&u[1])&&u[2],f=h&&v.childNodes[h];f=++h&&f&&f[g]||(y=h=0)||p.pop();)if(1===f.nodeType&&++y&&f===t){c[e]=[C,h,y];break}}else if(b&&(y=h=(u=(c=(d=(f=t)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===C&&u[1]),!1===y)for(;(f=++h&&f&&f[g]||(y=h=0)||p.pop())&&((l?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++y||(b&&((c=(d=f[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[C,y]),f!==t)););return(y-=i)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||le.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=R(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ue((function(e){var t=[],n=[],r=l(e.replace(Z,"$1"));return r[w]?ue((function(e,t,n,i){for(var o,a=r(e,null,i,[]),l=e.length;l--;)(o=a[l])&&(e[l]=!(t[l]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return le(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ue((function(e){return G.test(e||"")||le.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,n){return[n<0?n+t:n]})),even:ve((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ve((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ve((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ve((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function be(){}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,l=k++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,s){var u,c,d,f=[C,l];if(s){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=c[o])&&u[0]===C&&u[1]===l)return f[2]=u[2];if(c[o]=f,f[2]=e(t,n,s))return!0}return!1}}function Ie(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Ce(e,t,n,r,i){for(var o,a=[],l=0,s=e.length,u=null!=t;l<s;l++)(o=e[l])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(l)));return a}function ke(e,t,n,r,i,o){return r&&!r[w]&&(r=ke(r)),i&&!i[w]&&(i=ke(i,o)),ue((function(o,a,l,s){var u,c,d,f=[],h=[],p=a.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)le(e,t[r],n);return n}(t||"*",l.nodeType?[l]:l,[]),v=!e||!o&&t?g:Ce(g,f,e,l,s),m=n?i||(o?e:p||r)?[]:a:v;if(n&&n(v,m,l,s),r)for(u=Ce(m,h),r(u,[],l,s),c=u.length;c--;)(d=u[c])&&(m[h[c]]=!(v[h[c]]=d));if(o){if(i||e){if(i){for(u=[],c=m.length;c--;)(d=m[c])&&u.push(v[c]=d);i(null,m=[],u,s)}for(c=m.length;c--;)(d=m[c])&&(u=i?R(o,d):f[c])>-1&&(o[u]=!(a[u]=d))}}else m=Ce(m===a?m.splice(p,m.length):m),i?i(null,a,m,s):z.apply(a,m)}))}function Ee(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],l=a||r.relative[" "],s=a?1:0,c=we((function(e){return e===t}),l,!0),d=we((function(e){return R(t,e)>-1}),l,!0),f=[function(e,n,r){var i=!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):d(e,n,r));return t=null,i}];s<o;s++)if(n=r.relative[e[s].type])f=[we(Ie(f),n)];else{if((n=r.filter[e[s].type].apply(null,e[s].matches))[w]){for(i=++s;i<o&&!r.relative[e[i].type];i++);return ke(s>1&&Ie(f),s>1&&ye(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(Z,"$1"),n,s<i&&Ee(e.slice(s,i)),i<o&&Ee(e=e.slice(i)),i<o&&ye(e))}f.push(n)}return Ie(f)}return be.prototype=r.filters=r.pseudos,r.setFilters=new be,a=le.tokenize=function(e,t){var n,i,o,a,l,s,u,c=x[e+" "];if(c)return t?0:c.slice(0);for(l=e,s=[],u=r.preFilter;l;){for(a in n&&!(i=W.exec(l))||(i&&(l=l.slice(i[0].length)||l),s.push(o=[])),n=!1,(i=U.exec(l))&&(n=i.shift(),o.push({value:n,type:i[0].replace(Z," ")}),l=l.slice(n.length)),r.filter)!(i=V[a].exec(l))||u[a]&&!(i=u[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),l=l.slice(n.length));if(!n)break}return t?l.length:l?le.error(e):x(e,s).slice(0)},l=le.compile=function(e,t){var n,i=[],o=[],l=M[e+" "];if(!l){for(t||(t=a(e)),n=t.length;n--;)(l=Ee(t[n]))[w]?i.push(l):o.push(l);(l=M(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,l,s,c){var d,p,v,m=0,b="0",y=o&&[],w=[],I=u,k=o||i&&r.find.TAG("*",c),E=C+=null==I?1:Math.random()||.1,x=k.length;for(c&&(u=a==h||a||c);b!==x&&null!=(d=k[b]);b++){if(i&&d){for(p=0,a||d.ownerDocument==h||(f(d),l=!g);v=e[p++];)if(v(d,a||h,l)){s.push(d);break}c&&(C=E)}n&&((d=!v&&d)&&m--,o&&y.push(d))}if(m+=b,n&&b!==m){for(p=0;v=t[p++];)v(y,w,a,l);if(o){if(m>0)for(;b--;)y[b]||w[b]||(w[b]=L.call(s));w=Ce(w)}z.apply(s,w),c&&!o&&w.length>0&&m+t.length>1&&le.uniqueSort(s)}return c&&(C=E,u=I),y};return n?ue(o):o}(o,i))).selector=e}return l},s=le.select=function(e,t,n,i){var o,s,u,c,d,f="function"==typeof e&&e,h=!i&&a(e=f.selector||e);if(n=n||[],1===h.length){if((s=h[0]=h[0].slice(0)).length>2&&"ID"===(u=s[0]).type&&9===t.nodeType&&g&&r.relative[s[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=V.needsContext.test(e)?0:s.length;o--&&(u=s[o],!r.relative[c=u.type]);)if((d=r.find[c])&&(i=d(u.matches[0].replace(te,ne),ee.test(s[0].type)&&me(t.parentNode)||t))){if(s.splice(o,1),!(e=i.length&&ye(s)))return z.apply(n,i),n;break}}return(f||l(e,h))(i,t,!g,n,!t||ee.test(e)&&me(t.parentNode)||t),n},n.sortStable=w.split("").sort(T).join("")===w,n.detectDuplicates=!!d,f(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||de(_,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),le}(r);E.find=M,E.expr=M.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=M.uniqueSort,E.text=M.getText,E.isXMLDoc=M.isXML,E.contains=M.contains,E.escapeSelector=M.escape;var S=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=E.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return m(t)?E.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?E.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?E.grep(e,(function(e){return c.call(t,e)>-1!==n})):E.filter(t,e,n)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<r;t++)if(E.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,i[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&A.test(e)?E(e):e||[],!1).length}});var z,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||z,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),L.test(r[1])&&E.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=y.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,z=E(y);var R=/^(?:parents|prev(?:Until|All))/,_={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&E(e);if(!A.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?c.call(E(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,n){return S(e,"parentNode",n)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,n){return S(e,"nextSibling",n)},prevUntil:function(e,t,n){return S(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(N(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(n,r){var i=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=E.filter(r,i)),this.length>1&&(_[e]||E.uniqueSort(i),R.test(e)&&i.reverse()),this.pushStack(i)}}));var P=/[^\x20\t\r\n\f]+/g;function B(e){return e}function F(e){throw e}function H(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(P)||[],(function(e,n){t[n]=!0})),t}(e):E.extend({},e);var t,n,r,i,o=[],a=[],l=-1,s=function(){for(i=i||e.once,r=t=!0;a.length;l=-1)for(n=a.shift();++l<o.length;)!1===o[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(l=o.length-1,a.push(n)),function t(n){E.each(n,(function(n,r){m(r)?e.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==C(r)&&t(r)}))}(arguments),n&&!t&&s()),this},remove:function(){return E.each(arguments,(function(e,t){for(var n;(n=E.inArray(t,o,n))>-1;)o.splice(n,1),n<=l&&l--})),this},has:function(e){return e?E.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(n){E.each(t,(function(t,r){var i=m(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&m(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function a(e,t,n,i){return function(){var l=this,s=arguments,u=function(){var r,u;if(!(e<o)){if((r=n.apply(l,s))===t.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,m(u)?i?u.call(r,a(o,t,B,i),a(o,t,F,i)):(o++,u.call(r,a(o,t,B,i),a(o,t,F,i),a(o,t,B,t.notifyWith))):(n!==B&&(l=void 0,s=[r]),(i||t.resolveWith)(l,s))}},c=i?u:function(){try{u()}catch(r){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(r,c.stackTrace),e+1>=o&&(n!==F&&(l=void 0,s=[r]),t.rejectWith(l,s))}};e?c():(E.Deferred.getStackHook&&(c.stackTrace=E.Deferred.getStackHook()),r.setTimeout(c))}}return E.Deferred((function(r){t[0][3].add(a(0,r,m(i)?i:B,r.notifyWith)),t[1][3].add(a(0,r,m(e)?e:B)),t[2][3].add(a(0,r,m(n)?n:F))})).promise()},promise:function(e){return null!=e?E.extend(e,i):i}},o={};return E.each(t,(function(e,r){var a=r[2],l=r[5];i[r[1]]=a.add,l&&a.add((function(){n=l}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=l.call(arguments),o=E.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?l.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(H(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||m(i[n]&&i[n].then)))return o.then();for(;n--;)H(i[n],a(n),o.reject);return o.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&Z.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){r.setTimeout((function(){throw e}))};var W=E.Deferred();function U(){y.removeEventListener("DOMContentLoaded",U),r.removeEventListener("load",U),E.ready()}E.fn.ready=function(e){return W.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||W.resolveWith(y,[E]))}}),E.ready.then=W.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?r.setTimeout(E.ready):(y.addEventListener("DOMContentLoaded",U),r.addEventListener("load",U));var K=function(e,t,n,r,i,o,a){var l=0,s=e.length,u=null==n;if("object"===C(n))for(l in i=!0,n)K(e,t,l,n[l],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(E(e),n)})),t))for(;l<s;l++)t(e[l],n,a?r:r.call(e[l],l,t(e[l],n)));return i?e:u?t.call(e):s?t(e[0],n):o},Y=/^-ms-/,G=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function Q(e){return e.replace(Y,"ms-").replace(G,V)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function q(){this.expando=E.expando+q.uid++}q.uid=1,q.prototype={cache:function(e){var t=e[this.expando];return t||(t=Object.create(null),X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Q(t)]=n;else for(r in t)i[Q(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Q):(t=Q(t))in r?[t]:t.match(P)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var J=new q,$=new q,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}$.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return $.hasData(e)||J.hasData(e)},data:function(e,t,n){return $.access(e,t,n)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=$.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Q(r.slice(5)),ne(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){$.set(this,e)})):K(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=$.get(o,e))||void 0!==(n=ne(o,e))?n:void 0;this.each((function(){$.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){$.remove(this,e)}))}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){E.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:E.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each((function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,a=this.length,l=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(l));return l(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=y.documentElement,le=function(e){return E.contains(e.ownerDocument,e)},se={composed:!0};ae.getRootNode&&(le=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&le(e)&&"none"===E.css(e,"display")};function ce(e,t,n,r){var i,o,a=20,l=r?function(){return r.cur()}:function(){return E.css(e,t,"")},s=l(),u=n&&n[3]||(E.cssNumber[t]?"":"px"),c=e.nodeType&&(E.cssNumber[t]||"px"!==u&&+s)&&ie.exec(E.css(e,t));if(c&&c[3]!==u){for(s/=2,u=u||c[3],c=+s||1;a--;)E.style(e,t,c+u),(1-o)*(1-(o=l()/s||.5))<=0&&(a=0),c/=o;c*=2,E.style(e,t,c+u),n=n||[]}return n&&(c=+c||+s||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}var de={};function fe(e){var t,n=e.ownerDocument,r=e.nodeName,i=de[r];return i||(t=n.body.appendChild(n.createElement(r)),i=E.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),de[r]=i,i)}function he(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ue(r)&&(i[o]=fe(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}E.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ue(this)?E(this).show():E(this).hide()}))}});var pe,ge,ve=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,be=/^$|^module$|\/(?:java|ecma)script/i;pe=y.createDocumentFragment().appendChild(y.createElement("div")),(ge=y.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),pe.appendChild(ge),v.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",v.option=!!pe.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function we(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?E.merge([e],n):n}function Ie(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,v.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var Ce=/<|&#?\w+;/;function ke(e,t,n,r,i){for(var o,a,l,s,u,c,d=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===C(o))E.merge(f,o.nodeType?[o]:o);else if(Ce.test(o)){for(a=a||d.appendChild(t.createElement("div")),l=(me.exec(o)||["",""])[1].toLowerCase(),s=ye[l]||ye._default,a.innerHTML=s[1]+E.htmlPrefilter(o)+s[2],c=s[0];c--;)a=a.lastChild;E.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(o));for(d.textContent="",h=0;o=f[h++];)if(r&&E.inArray(o,r)>-1)i&&i.push(o);else if(u=le(o),a=we(d.appendChild(o),"script"),u&&Ie(a),n)for(c=0;o=a[c++];)be.test(o.type||"")&&n.push(o);return d}var Ee=/^key/,xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Me=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function Te(){return!1}function Ae(e,t){return e===function(){try{return y.activeElement}catch(e){}}()==("focus"===t)}function Ne(e,t,n,r,i,o){var a,l;if("object"==typeof t){for(l in"string"!=typeof n&&(r=r||n,n=void 0),t)Ne(e,l,n,r,t[l],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return E().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),e.each((function(){E.event.add(this,t,i,r,n)}))}function Le(e,t,n){n?(J.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=J.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=l.call(arguments),J.set(this,t,o),r=n(this,t),this[t](),o!==(i=J.get(this,t))||r?J.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&(J.set(this,t,{value:E.event.trigger(E.extend(o[0],E.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&E.event.add(e,t,Se)}E.event={global:{},add:function(e,t,n,r,i){var o,a,l,s,u,c,d,f,h,p,g,v=J.get(e);if(X(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&E.find.matchesSelector(ae,i),n.guid||(n.guid=E.guid++),(s=v.events)||(s=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(P)||[""]).length;u--;)h=g=(l=Me.exec(t[u])||[])[1],p=(l[2]||"").split(".").sort(),h&&(d=E.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=E.event.special[h]||{},c=E.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=s[h])||((f=s[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),E.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,l,s,u,c,d,f,h,p,g,v=J.hasData(e)&&J.get(e);if(v&&(s=v.events)){for(u=(t=(t||"").match(P)||[""]).length;u--;)if(h=g=(l=Me.exec(t[u])||[])[1],p=(l[2]||"").split(".").sort(),h){for(d=E.event.special[h]||{},f=s[h=(r?d.delegateType:d.bindType)||h]||[],l=l[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||l&&!l.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,v.handle)||E.removeEvent(e,h,v.handle),delete s[h])}else for(h in s)E.event.remove(e,h+t[u],n,r,!0);E.isEmptyObject(s)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,l=new Array(arguments.length),s=E.event.fix(e),u=(J.get(this,"events")||Object.create(null))[s.type]||[],c=E.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=E.event.handlers.call(this,s,u),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,l=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<s;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?E(i,this).index(u)>-1:E.find(i,this,null,[u]).length),a[i]&&o.push(r);o.length&&l.push({elem:u,handlers:o})}return u=this,s<t.length&&l.push({elem:u,handlers:t.slice(s)}),l},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ve.test(t.type)&&t.click&&N(t,"input")&&Le(t,"click",Se),!1},trigger:function(e){var t=this||e;return ve.test(t.type)&&t.click&&N(t,"input")&&Le(t,"click"),!0},_default:function(e){var t=e.target;return ve.test(t.type)&&t.click&&N(t,"input")&&J.get(t,"click")||N(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ee.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(e,t){E.event.special[e]={setup:function(){return Le(this,e,Ae),!1},trigger:function(){return Le(this,e),!0},delegateType:t}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||E.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),E.fn.extend({on:function(e,t,n,r){return Ne(this,e,t,n,r)},one:function(e,t,n,r){return Ne(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each((function(){E.event.remove(this,e,n,t)}))}});var De=/<script|<style|<link/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Re(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function _e(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function je(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o,a,l;if(1===t.nodeType){if(J.hasData(e)&&(l=J.get(e).events))for(i in J.remove(t,"handle events"),l)for(n=0,r=l[i].length;n<r;n++)E.event.add(t,i,l[i][n]);$.hasData(e)&&(o=$.access(e),a=E.extend({},o),$.set(t,a))}}function Be(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ve.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,r){t=s(t);var i,o,a,l,u,c,d=0,f=e.length,h=f-1,p=t[0],g=m(p);if(g||f>1&&"string"==typeof p&&!v.checkClone&&ze.test(p))return e.each((function(i){var o=e.eq(i);g&&(t[0]=p.call(this,i,o.html())),Fe(o,t,n,r)}));if(f&&(o=(i=ke(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(l=(a=E.map(we(i,"script"),_e)).length;d<f;d++)u=i,d!==h&&(u=E.clone(u,!0,!0),l&&E.merge(a,we(u,"script"))),n.call(e[d],u,d);if(l)for(c=a[a.length-1].ownerDocument,E.map(a,je),d=0;d<l;d++)u=a[d],be.test(u.type||"")&&!J.access(u,"globalEval")&&E.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&!u.noModule&&E._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):I(u.textContent.replace(Oe,""),u,c))}return e}function He(e,t,n){for(var r,i=t?E.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(we(r)),r.parentNode&&(n&&le(r)&&Ie(we(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,l=e.cloneNode(!0),s=le(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=we(l),r=0,i=(o=we(e)).length;r<i;r++)Be(o[r],a[r]);if(t)if(n)for(o=o||we(e),a=a||we(l),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,l);return(a=we(l,"script")).length>0&&Ie(a,!s&&we(e,"script")),l},cleanData:function(e){for(var t,n,r,i=E.event.special,o=0;void 0!==(n=e[o]);o++)if(X(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),E.fn.extend({detach:function(e){return He(this,e,!0)},remove:function(e){return He(this,e)},text:function(e){return K(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return K(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!ye[(me.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(we(this)),n&&n.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var n,r=[],i=E(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),E(i[a])[t](n),u.apply(r,n.get());return this.pushStack(r)}}));var Ze=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),We=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ue=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ke=new RegExp(oe.join("|"),"i");function Ye(e,t,n){var r,i,o,a,l=e.style;return(n=n||We(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||le(e)||(a=E.style(e,t)),!v.pixelBoxStyles()&&Ze.test(a)&&Ke.test(t)&&(r=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=n.width,l.width=r,l.minWidth=i,l.maxWidth=o)),void 0!==a?a+"":a}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(u).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,s=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),ae.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,a,l,s,u=y.createElement("div"),c=y.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==l&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",ae.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),l=parseInt(i.height)>3,ae.removeChild(e)),l}}))}();var Ve=["Webkit","Moz","ms"],Qe=y.createElement("div").style,Xe={};function qe(e){var t=E.cssProps[e]||Xe[e];return t||(e in Qe?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ve.length;n--;)if((e=Ve[n]+t)in Qe)return e}(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,$e=/^--/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"};function nt(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function rt(e,t,n,r,i,o){var a="width"===t?1:0,l=0,s=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(s+=E.css(e,n+oe[a],!0,i)),r?("content"===n&&(s-=E.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(s-=E.css(e,"border"+oe[a]+"Width",!0,i))):(s+=E.css(e,"padding"+oe[a],!0,i),"padding"!==n?s+=E.css(e,"border"+oe[a]+"Width",!0,i):l+=E.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-s-l-.5))||0),s}function it(e,t,n){var r=We(e),i=(!v.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),o=i,a=Ye(e,t,r),l="offset"+t[0].toUpperCase()+t.slice(1);if(Ze.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&N(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,r),(o=l in e)&&(a=e[l])),(a=parseFloat(a)||0)+rt(e,t,n||(i?"border":"content"),o,r,a)+"px"}function ot(e,t,n,r,i){return new ot.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ye(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,l=Q(t),s=$e.test(t),u=e.style;if(s||(t=qe(l)),a=E.cssHooks[t]||E.cssHooks[l],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];"string"===(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ce(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||s||(n+=i&&i[3]||(E.cssNumber[l]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(s?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var i,o,a,l=Q(t);return $e.test(t)||(t=qe(l)),(a=E.cssHooks[t]||E.cssHooks[l])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ye(e,t,r)),"normal"===i&&t in tt&&(i=tt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!Je.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,t,r):Ue(e,et,(function(){return it(e,t,r)}))},set:function(e,n,r){var i,o=We(e),a=!v.scrollboxSize()&&"absolute"===o.position,l=(a||r)&&"border-box"===E.css(e,"boxSizing",!1,o),s=r?rt(e,t,r,l,o):0;return l&&a&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-rt(e,t,"border",!1,o)-.5)),s&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),nt(0,n,s)}}})),E.cssHooks.marginLeft=Ge(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(E.cssHooks[e+t].set=nt)})),E.fn.extend({css:function(e,t){return K(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=We(e),i=t.length;a<i;a++)o[t[a]]=E.css(e,t[a],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=ot,ot.prototype={constructor:ot,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=ot.propHooks[this.prop];return e&&e.get?e.get(this):ot.propHooks._default.get(this)},run:function(e){var t,n=ot.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ot.propHooks._default.set(this),this}},ot.prototype.init.prototype=ot.prototype,ot.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[qe(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},ot.propHooks.scrollTop=ot.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=ot.prototype.init,E.fx.step={};var at,lt,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function ct(){lt&&(!1===y.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ct):r.setTimeout(ct,E.fx.interval),E.fx.tick())}function dt(){return r.setTimeout((function(){at=void 0})),at=Date.now()}function ft(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ht(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function pt(e,t,n){var r,i,o=0,a=pt.prefilters.length,l=E.Deferred().always((function(){delete s.elem})),s=function(){if(i)return!1;for(var t=at||dt(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(r);return l.notifyWith(e,[u,r,n]),r<1&&a?n:(a||l.notifyWith(e,[u,1,0]),l.resolveWith(e,[u]),!1)},u=l.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:at||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?(l.notifyWith(e,[u,1,0]),l.resolveWith(e,[u,t])):l.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=Q(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,u.opts.specialEasing);o<a;o++)if(r=pt.prefilters[o].call(u,e,c,u.opts))return m(r.stop)&&(E._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return E.map(c,ht,u),m(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),E.fx.timer(E.extend(s,{elem:e,anim:u,queue:u.opts.queue})),u}E.Animation=E.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,l,s,u,c,d="width"in t||"height"in t,f=this,h={},p=e.style,g=e.nodeType&&ue(e),v=J.get(e,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,f.always((function(){f.always((function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],st.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}h[r]=v&&v[r]||E.style(e,r)}if((s=!E.isEmptyObject(t))||!E.isEmptyObject(h))for(r in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=v&&v.display)&&(u=J.get(e,"display")),"none"===(c=E.css(e,"display"))&&(u?c=u:(he([e],!0),u=e.style.display||u,c=E.css(e,"display"),he([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===E.css(e,"float")&&(s||(f.done((function(){p.display=u})),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),s=!1,h)s||(v?"hidden"in v&&(g=v.hidden):v=J.access(e,"fxshow",{display:u}),o&&(v.hidden=!g),g&&he([e],!0),f.done((function(){for(r in g||he([e]),J.remove(e,"fxshow"),h)E.style(e,r,h[r])}))),s=ht(g?v[r]:0,r,f),r in v||(v[r]=s.start,g&&(s.end=s.start,s.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=E.isEmptyObject(e),o=E.speed(t,n,r),a=function(){var t=pt(this,E.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=E.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ut.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=E.timers,a=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ft(t,!0),e,r,i)}})),E.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(at=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),at=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){lt||(lt=!0,ct())},E.fx.stop=function(){lt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var gt,vt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return K(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=vt[t]||E.find.attr;vt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=vt[a],vt[a]=i,i=null!=n(e,t,r)?a:null,vt[a]=o),i}}));var mt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function yt(e){return(e.match(P)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function It(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}E.fn.extend({prop:function(e,t){return K(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,n,r,i,o,a,l,s=0;if(m(e))return this.each((function(t){E(this).addClass(e.call(this,t,wt(this)))}));if((t=It(e)).length)for(;n=this[s++];)if(i=wt(n),r=1===n.nodeType&&" "+yt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(l=yt(r))&&n.setAttribute("class",l)}return this},removeClass:function(e){var t,n,r,i,o,a,l,s=0;if(m(e))return this.each((function(t){E(this).removeClass(e.call(this,t,wt(this)))}));if(!arguments.length)return this.attr("class","");if((t=It(e)).length)for(;n=this[s++];)if(i=wt(n),r=1===n.nodeType&&" "+yt(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(l=yt(r))&&n.setAttribute("class",l)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):m(e)?this.each((function(n){E(this).toggleClass(e.call(this,n,wt(this),t),t)})):this.each((function(){var t,i,o,a;if(r)for(i=0,o=E(this),a=It(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=wt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+yt(wt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;E.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=m(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,E(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=E.map(i,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=E.valHooks[i.type]||E.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ct,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:yt(E.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,l=a?null:[],s=a?o+1:i.length;for(r=o<0?s:a?o:0;r<s;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=E(n).val(),a)return t;l.push(t)}return l},set:function(e,t){for(var n,r,i=e.options,o=E.makeArray(t),a=i.length;a--;)((r=i[a]).selected=E.inArray(E.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},v.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),v.focusin="onfocusin"in r;var kt=/^(?:focusinfocus|focusoutblur)$/,Et=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,i){var o,a,l,s,u,c,d,f,p=[n||y],g=h.call(e,"type")?e.type:e,v=h.call(e,"namespace")?e.namespace.split("."):[];if(a=f=l=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!kt.test(g+E.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,(e=e[E.expando]?e:new E.Event(g,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),d=E.event.special[g]||{},i||!d.trigger||!1!==d.trigger.apply(n,t))){if(!i&&!d.noBubble&&!b(n)){for(s=d.delegateType||g,kt.test(s+g)||(a=a.parentNode);a;a=a.parentNode)p.push(a),l=a;l===(n.ownerDocument||y)&&p.push(l.defaultView||l.parentWindow||r)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)f=a,e.type=o>1?s:d.bindType||g,(c=(J.get(a,"events")||Object.create(null))[e.type]&&J.get(a,"handle"))&&c.apply(a,t),(c=u&&a[u])&&c.apply&&X(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!X(n)||u&&m(n[g])&&!b(n)&&((l=n[u])&&(n[u]=null),E.event.triggered=g,e.isPropagationStopped()&&f.addEventListener(g,Et),n[g](),e.isPropagationStopped()&&f.removeEventListener(g,Et),E.event.triggered=void 0,l&&(n[u]=l)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){E.event.simulate(t,e.target,E.event.fix(e))};E.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}}));var xt=r.location,Mt={guid:Date.now()},St=/\?/;E.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+e),t};var Tt=/\[\]$/,At=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function Dt(e,t,n,r){var i;if(Array.isArray(t))E.each(t,(function(t,i){n||Tt.test(e)?r(e,i):Dt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==C(t))r(e,t);else for(i in t)Dt(e+"["+i+"]",t[i],n,r)}E.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){i(this.name,this.value)}));else for(n in e)Dt(n,e[n],t,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Lt.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!ve.test(e))})).map((function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(e){return{name:t.name,value:e.replace(At,"\r\n")}})):{name:t.name,value:n.replace(At,"\r\n")}})).get()}});var zt=/%20/g,Ot=/#.*$/,Rt=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,jt=/^(?:GET|HEAD)$/,Pt=/^\/\//,Bt={},Ft={},Ht="*/".concat("*"),Zt=y.createElement("a");function Wt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(P)||[];if(m(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ut(e,t,n,r){var i={},o=e===Ft;function a(l){var s;return i[l]=!0,E.each(e[l]||[],(function(e,l){var u=l(t,n,r);return"string"!=typeof u||o||i[u]?o?!(s=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),s}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Kt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}Zt.href=xt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Kt(Kt(e,E.ajaxSettings),t):Kt(E.ajaxSettings,e)},ajaxPrefilter:Wt(Bt),ajaxTransport:Wt(Ft),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,a,l,s,u,c,d,f,h=E.ajaxSetup({},t),p=h.context||h,g=h.context&&(p.nodeType||p.jquery)?E(p):E.event,v=E.Deferred(),m=E.Callbacks("once memory"),b=h.statusCode||{},w={},I={},C="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=_t.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=I[e.toLowerCase()]=I[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return n&&n.abort(t),x(0,t),this}};if(v.promise(k),h.url=((e||h.url||xt.href)+"").replace(Pt,xt.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(P)||[""],null==h.crossDomain){s=y.createElement("a");try{s.href=h.url,s.href=s.href,h.crossDomain=Zt.protocol+"//"+Zt.host!=s.protocol+"//"+s.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=E.param(h.data,h.traditional)),Ut(Bt,h,t,k),u)return k;for(d in(c=E.event&&h.global)&&0==E.active++&&E.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!jt.test(h.type),i=h.url.replace(Ot,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(zt,"+")):(f=h.url.slice(i.length),h.data&&(h.processData||"string"==typeof h.data)&&(i+=(St.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(i=i.replace(Rt,"$1"),f=(St.test(i)?"&":"?")+"_="+Mt.guid+++f),h.url=i+f),h.ifModified&&(E.lastModified[i]&&k.setRequestHeader("If-Modified-Since",E.lastModified[i]),E.etag[i]&&k.setRequestHeader("If-None-Match",E.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ht+"; q=0.01":""):h.accepts["*"]),h.headers)k.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(p,k,h)||u))return k.abort();if(C="abort",m.add(h.complete),k.done(h.success),k.fail(h.error),n=Ut(Ft,h,t,k)){if(k.readyState=1,c&&g.trigger("ajaxSend",[k,h]),u)return k;h.async&&h.timeout>0&&(l=r.setTimeout((function(){k.abort("timeout")}),h.timeout));try{u=!1,n.send(w,x)}catch(e){if(u)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,a,s){var d,f,y,w,I,C=t;u||(u=!0,l&&r.clearTimeout(l),n=void 0,o=s||"",k.readyState=e>0?4:0,d=e>=200&&e<300||304===e,a&&(w=function(e,t,n){for(var r,i,o,a,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in l)if(l[i]&&l[i].test(r)){s.unshift(i);break}if(s[0]in n)o=s[0];else{for(i in n){if(!s[0]||e.converters[i+" "+s[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==s[0]&&s.unshift(o),n[o]}(h,k,a)),!d&&E.inArray("script",h.dataTypes)>-1&&(h.converters["text script"]=function(){}),w=function(e,t,n,r){var i,o,a,l,s,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!s&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=o,o=c.shift())if("*"===o)o=s;else if("*"!==s&&s!==o){if(!(a=u[s+" "+o]||u["* "+o]))for(i in u)if((l=i.split(" "))[1]===o&&(a=u[s+" "+l[0]]||u["* "+l[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=l[0],c.unshift(l[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+s+" to "+o}}}return{state:"success",data:t}}(h,w,k,d),d?(h.ifModified&&((I=k.getResponseHeader("Last-Modified"))&&(E.lastModified[i]=I),(I=k.getResponseHeader("etag"))&&(E.etag[i]=I)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=w.state,f=w.data,d=!(y=w.error))):(y=C,!e&&C||(C="error",e<0&&(e=0))),k.status=e,k.statusText=(t||C)+"",d?v.resolveWith(p,[f,C,k]):v.rejectWith(p,[k,C,y]),k.statusCode(b),b=void 0,c&&g.trigger(d?"ajaxSuccess":"ajaxError",[k,h,d?f:y]),m.fireWith(p,[k,C]),c&&(g.trigger("ajaxComplete",[k,h]),--E.active||E.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,n,r,i){return m(n)&&(i=i||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:i,data:n,success:r},E.isPlainObject(e)&&e))}})),E.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return m(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m(e);return this.each((function(n){E(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Gt=E.ajaxSettings.xhr();v.cors=!!Gt&&"withCredentials"in Gt,v.ajax=Gt=!!Gt,E.ajaxTransport((function(e){var t,n;if(v.cors||Gt&&!e.crossDomain)return{send:function(i,o){var a,l=e.xhr();if(l.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)l[a]=e.xhrFields[a];for(a in e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)l.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=l.onload=l.onerror=l.onabort=l.ontimeout=l.onreadystatechange=null,"abort"===e?l.abort():"error"===e?"number"!=typeof l.status?o(0,"error"):o(l.status,l.statusText):o(Yt[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}},l.onload=t(),n=l.onerror=l.ontimeout=t("error"),void 0!==l.onabort?l.onabort=n:l.onreadystatechange=function(){4===l.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{l.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Vt,Qt=[],Xt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||E.expando+"_"+Mt.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,a,l=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(l||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l?e[l]=e[l].replace(Xt,"$1"+i):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||E.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always((function(){void 0===o?E(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Qt.push(i)),a&&m(o)&&o(a[0]),a=o=void 0})),"script"})),v.createHTMLDocument=((Vt=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(r)):t=y),o=!n&&[],(i=L.exec(e))?[t.createElement(i[1])]:(i=ke([e],t,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)));var r,i,o},E.fn.load=function(e,t,n){var r,i,o,a=this,l=e.indexOf(" ");return l>-1&&(r=yt(e.slice(l)),e=e.slice(0,l)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,n){var r,i,o,a,l,s,u=E.css(e,"position"),c=E(e),d={};"static"===u&&(e.style.position="relative"),l=c.offset(),o=E.css(e,"top"),s=E.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+s).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(s)||0),m(t)&&(t=t.call(e,n,E.extend({},l))),null!=t.top&&(d.top=t.top-l.top+a),null!=t.left&&(d.left=t.left-l.left+i),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),c.css(d))}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(r,"marginTop",!0),left:t.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||ae}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return K(this,(function(e,r,i){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=Ge(v.pixelPosition,(function(e,n){if(n)return n=Ye(e,t),Ze.test(n)?E(e).position()[t]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){E.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),l=n||(!0===i||!0===o?"margin":"border");return K(this,(function(t,n,i){var o;return b(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?E.css(t,n,l):E.style(t,n,i,l)}),t,a?i:void 0,a)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=l.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(l.call(arguments)))}).guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=N,E.isFunction=m,E.isWindow=b,E.camelCase=Q,E.type=C,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(qt,"")},void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var Jt=r.jQuery,$t=r.$;return E.noConflict=function(e){return r.$===E&&(r.$=$t),e&&r.jQuery===E&&(r.jQuery=Jt),E},void 0===i&&(r.jQuery=r.$=E),E}))},320:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,l,s=i(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(s[c]=a[c]);if(t){l=t(a);for(var d=0;d<l.length;d++)r.call(a,l[d])&&(s[l[d]]=a[l[d]])}}return s}},57:function(e){(function(){var t,n,r,i,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),o=i-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},493:(e,t,n)=>{for(var r=n(57),i="undefined"==typeof window?n.g:window,o=["moz","webkit"],a="AnimationFrame",l=i["request"+a],s=i["cancel"+a]||i["cancelRequest"+a],u=0;!l&&u<o.length;u++)l=i[o[u]+"Request"+a],s=i[o[u]+"Cancel"+a]||i[o[u]+"CancelRequest"+a];if(!l||!s){var c=0,d=0,f=[];l=function(e){if(0===f.length){var t=r(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},s=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return l.call(i,e)},e.exports.cancel=function(){s.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=l,e.cancelAnimationFrame=s}},967:(e,t,n)=>{"use strict";var r=n(784),i=n(320),o=n(616);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var l=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},g={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(g,e)||!h.call(p,e)&&(f.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var I=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=60103,k=60106,E=60107,x=60108,M=60114,S=60109,T=60110,A=60112,N=60113,L=60120,D=60115,z=60116,O=60121,R=60128,_=60129,j=60130,P=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;C=B("react.element"),k=B("react.portal"),E=B("react.fragment"),x=B("react.strict_mode"),M=B("react.profiler"),S=B("react.provider"),T=B("react.context"),A=B("react.forward_ref"),N=B("react.suspense"),L=B("react.suspense_list"),D=B("react.memo"),z=B("react.lazy"),O=B("react.block"),B("react.scope"),R=B("react.opaque.id"),_=B("react.debug_trace_mode"),j=B("react.offscreen"),P=B("react.legacy_hidden")}var F,H="function"==typeof Symbol&&Symbol.iterator;function Z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=H&&e[H]||e["@@iterator"])?e:null}function W(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var U=!1;function K(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(1!==a||1!==l)do{if(a--,0>--l||i[a]!==o[l])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function Y(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case M:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case L:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case O:return G(e._render);case z:t=e._payload,e=e._init;try{return G(e(t))}catch(e){}}return null}function V(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function le(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ue(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function Ie(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ce(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ie(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Me(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,Ae=null;function Ne(e){if(e=ei(e)){if("function"!=typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=ni(t),Se(e.stateNode,e.type,t))}}function Le(e){Te?Ae?Ae.push(e):Ae=[e]:Te=e}function De(){if(Te){var e=Te,t=Ae;if(Ae=Te=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function ze(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var _e=ze,je=!1,Pe=!1;function Be(){null===Te&&null===Ae||(Re(),De())}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var He=!1;if(d)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){He=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch(ve){He=!1}function We(e,t,n,r,i,o,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ue=!1,Ke=null,Ye=!1,Ge=null,Ve={onError:function(e){Ue=!0,Ke=e}};function Qe(e,t,n,r,i,o,a,l,s){Ue=!1,Ke=null,We.apply(Ve,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(a(188))}function $e(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],lt=null,st=null,ut=null,ct=new Map,dt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":lt=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=$r(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){bt(e)&&n.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==lt&&bt(lt)&&(lt=null),null!==st&&bt(st)&&(st=null),null!==ut&&bt(ut)&&(ut=null),ct.forEach(yt),dt.forEach(yt)}function It(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function Ct(e){function t(t){return It(t,e)}if(0<at.length){It(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==lt&&It(lt,e),null!==st&&It(st,e),null!==ut&&It(ut,e),ct.forEach(t),dt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},xt={},Mt={};function St(e){if(xt[e])return xt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mt)return xt[e]=n[t];return e}d&&(Mt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Tt=St("animationend"),At=St("animationiteration"),Nt=St("animationstart"),Lt=St("transitionend"),Dt=new Map,zt=new Map,Ot=["abort","abort",Tt,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lt,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),zt.set(r,t),Dt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var _t=8;function jt(e){if(0!=(1&e))return _t=15,1;if(0!=(2&e))return _t=14,2;if(0!=(4&e))return _t=13,4;var t=24&e;return 0!==t?(_t=12,t):0!=(32&e)?(_t=11,32):0!==(t=192&e)?(_t=10,t):0!=(256&e)?(_t=9,256):0!==(t=3584&e)?(_t=8,t):0!=(4096&e)?(_t=7,4096):0!==(t=4186112&e)?(_t=6,t):0!==(t=62914560&e)?(_t=5,t):67108864&e?(_t=4,67108864):0!=(134217728&e)?(_t=3,134217728):0!==(t=805306368&e)?(_t=2,t):0!=(1073741824&e)?(_t=1,1073741824):(_t=8,e)}function Pt(e,t){var n=e.pendingLanes;if(0===n)return _t=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,l=e.pingedLanes;if(0!==o)r=o,i=_t=15;else if(0!==(o=134217727&n)){var s=o&~a;0!==s?(r=jt(s),i=_t):0!==(l&=o)&&(r=jt(l),i=_t)}else 0!==(o=n&~a)?(r=jt(o),i=_t):0!==l&&(r=jt(l),i=_t);if(0===r)return 0;if(r=n&((0>(r=31-Ut(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(jt(t),i<=_t)return t;_t=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ut(t)),r|=e[n],t&=~i;return r}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ft(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Ft(10,t):e;case 10:return 0===(e=Ht(192&~t))?Ft(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&(0===(e=Ht(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ht(e){return e&-e}function Zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ut(t)]=n}var Ut=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Yt|0)|0},Kt=Math.log,Yt=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Vt=o.unstable_runWithPriority,Qt=!0;function Xt(e,t,n,r){je||Re();var i=Jt,o=je;je=!0;try{Oe(i,e,t,n,r)}finally{(je=o)||Be()}}function qt(e,t,n,r){Vt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0==(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=$t(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return lt=vt(lt,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dt.set(o,vt(dt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}Dr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Me(r);if(null!==(i=$r(i))){var o=Xe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=qe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function ln(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:ln,this.isPropagationStopped=ln,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),pn=i({},fn,{view:0,detail:0}),gn=sn(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(un=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=un=0,dn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=sn(vn),bn=sn(i({},vn,{dataTransfer:0})),yn=sn(i({},pn,{relatedTarget:0})),wn=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),In=sn(i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Cn=sn(i({},fn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return Mn}var Tn=sn(i({},pn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Ln=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=sn(i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),zn=[9,13,27,32],On=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var _n=d&&"TextEvent"in window&&!Rn,jn=d&&(!On||Rn&&8<Rn&&11>=Rn),Pn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){Le(r),0<(t=Or(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Gn=null;function Vn(e){Mr(e,0)}function Qn(e){if(q(ti(e)))return e}function Xn(e,t){if("change"===e)return t}var qn=!1;if(d){var Jn;if(d){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"==typeof er.oninput}Jn=$n}else Jn=!1;qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Gn=Yn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];if(Kn(t,Gn,e,Me(e)),e=Vn,je)e(t);else{je=!0;try{ze(e,t)}finally{je=!1,Be()}}}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=d&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,br=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==J(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&ur(br,r)||(br=r,0<(r=Or(mr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Ot,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Ir.length;Cr++)zt.set(Ir[Cr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,l,s,u){if(Qe.apply(this,arguments),Ue){if(!Ue)throw Error(a(198));var c=Ke;Ue=!1,Ke=null,Ye||(Ye=!0,Ge=c)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;xr(i,l,u),o=s}else for(a=0;a<r.length;a++){if(s=(l=r[a]).instance,u=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;xr(i,l,u),o=s}}}if(Ye)throw e=Ge,Ye=!1,Ge=null,e}function Sr(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Tr]||(e[Tr]=!0,l.forEach((function(t){Er.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Er.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ri(o),l=e+"__"+(t?"capture":"bubble");a.has(l)||(t&&(i|=4),Lr(o,e,i,t),a.add(l))}function Lr(e,t,n,r){var i=zt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=qt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==l;){if(null===(a=$r(l)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}l=l.parentNode}}r=r.return}!function(e,t,n){if(Pe)return e(t,n);Pe=!0;try{_e(e,t,n)}finally{Pe=!1,Be()}}((function(){var r=o,i=Me(n),a=[];e:{var l=Dt.get(e);if(void 0!==l){var s=hn,u=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":u="focus",s=yn;break;case"focusout":u="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Tt:case At:case Nt:s=wn;break;case Lt:s=Ln;break;case"scroll":s=gn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=An}var c=0!=(4&t),d=!c&&"scroll"===e,f=c?null!==l?l+"Capture":null:l;c=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&(null!=(g=Fe(p,f))&&c.push(zr(p,g,h)))),d)break;p=p.return}0<c.length&&(l=new s(l,u,null,n,i),a.push({event:l,listeners:c}))}}if(0==(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!$r(u)&&!u[qr])&&(s||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?$r(u):null)&&(u!==(d=Xe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=mn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==s?l:ti(s),h=null==u?l:ti(u),(l=new c(g,p+"leave",s,n,i)).target=d,l.relatedTarget=h,g=null,$r(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,g=c),d=g,s&&u)e:{for(f=u,p=0,h=c=s;h;h=Rr(h))p++;for(h=0,g=f;g;g=Rr(g))h++;for(;0<p-h;)c=Rr(c),p--;for(;0<h-p;)f=Rr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Rr(c),f=Rr(f)}c=null}else c=null;null!==s&&_r(a,l,s,c,!1),null!==u&&null!==d&&_r(a,d,u,c,!0)}if("select"===(s=(l=r?ti(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var v=Xn;else if(Un(l))if(qn)v=ar;else{v=ir;var m=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(v=or);switch(v&&(v=v(e,r))?Kn(a,v,n,i):(m&&m(e,l,r),"focusout"===e&&(m=l._wrapperState)&&m.controlled&&"number"===l.type&&ie(l,"number",l.value)),m=r?ti(r):window,e){case"focusin":(Un(m)||"true"===m.contentEditable)&&(vr=m,mr=r,br=null);break;case"focusout":br=mr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var b;if(On)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Zn?Fn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(jn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Zn&&(b=rn()):(tn="value"in(en=i)?en.value:en.textContent,Zn=!0)),0<(m=Or(r,y)).length&&(y=new Cn(y,e,null,n,i),a.push({event:y,listeners:m}),b?y.data=b:null!==(b=Hn(n))&&(y.data=b))),(b=_n?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!On&&Fn(e,t)?(e=rn(),nn=tn=en=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Or(r,"onBeforeInput")).length&&(i=new Cn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=b))}Mr(a,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Or(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Fe(e,n))&&r.unshift(zr(e,o,i)),null!=(o=Fe(e,t))&&r.push(zr(e,o,i))),e=e.return}return r}function Rr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function _r(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,i?null!=(s=Fe(n,o))&&a.unshift(zr(n,s,l)):i||null!=(s=Fe(n,o))&&a.push(zr(n,s,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jr(){}var Pr=null,Br=null;function Fr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"==typeof setTimeout?setTimeout:void 0,Wr="function"==typeof clearTimeout?clearTimeout:void 0;function Ur(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0;var Vr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Vr,Xr="__reactProps$"+Vr,qr="__reactContainer$"+Vr,Jr="__reactEvents$"+Vr;function $r(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Qr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Qr]||e[qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ni(e){return e[Xr]||null}function ri(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ii=[],oi=-1;function ai(e){return{current:e}}function li(e){0>oi||(e.current=ii[oi],ii[oi]=null,oi--)}function si(e,t){oi++,ii[oi]=e.current,e.current=t}var ui={},ci=ai(ui),di=ai(!1),fi=ui;function hi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pi(e){return null!=(e=e.childContextTypes)}function gi(){li(di),li(ci)}function vi(e,t,n){if(ci.current!==ui)throw Error(a(168));si(ci,t),si(di,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,fi=ci.current,si(ci,e),si(di,di.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=mi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,li(di),li(ci),si(ci,e)):li(di),si(di,n)}var wi=null,Ii=null,Ci=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,xi=o.unstable_shouldYield,Mi=o.unstable_requestPaint,Si=o.unstable_now,Ti=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Di=o.unstable_LowPriority,zi=o.unstable_IdlePriority,Oi={},Ri=void 0!==Mi?Mi:function(){},_i=null,ji=null,Pi=!1,Bi=Si(),Fi=1e4>Bi?Si:function(){return Si()-Bi};function Hi(){switch(Ti()){case Ai:return 99;case Ni:return 98;case Li:return 97;case Di:return 96;case zi:return 95;default:throw Error(a(332))}}function Zi(e){switch(e){case 99:return Ai;case 98:return Ni;case 97:return Li;case 96:return Di;case 95:return zi;default:throw Error(a(332))}}function Wi(e,t){return e=Zi(e),Ci(e,t)}function Ui(e,t,n){return e=Zi(e),ki(e,t,n)}function Ki(){if(null!==ji){var e=ji;ji=null,Ei(e)}Yi()}function Yi(){if(!Pi&&null!==_i){Pi=!0;var e=0;try{var t=_i;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),_i=null}catch(t){throw null!==_i&&(_i=_i.slice(e+1)),ki(Ai,Ki),t}finally{Pi=!1}}}var Gi=I.ReactCurrentBatchConfig;function Vi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=ai(null),Xi=null,qi=null,Ji=null;function $i(){Ji=qi=Xi=null}function eo(e){var t=Qi.current;li(Qi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function no(e,t){Xi=e,Ji=qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Oa=!0),e.firstContext=null)}function ro(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===qi){if(null===Xi)throw Error(a(308));qi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else qi=qi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var u=s,c=u.next;u.next=null,null===l?a=c:l.next=c,l=u;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==l&&(null===f?d.firstBaseUpdate=c:f.next=c,d.lastBaseUpdate=u)}}if(null!==a){for(f=o.baseState,l=0,d=c=u=null;;){s=a.lane;var h=a.eventTime;if((r&s)===s){null!==d&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(s=t,h=n,g.tag){case 1:if("function"==typeof(p=g.payload)){f=p.call(h,f,s);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(s="function"==typeof(p=g.payload)?p.call(h,f,s):p))break e;f=i({},f,s);break e;case 2:io=!0}}null!==a.callback&&(e.flags|=32,null===(s=o.effects)?o.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=h,u=f):d=d.next=h,l|=s;if(null===(a=a.next)){if(null===(s=o.shared.pending))break;a=s.next,s.next=null,o.lastBaseUpdate=s,o.shared.pending=null}}null===d&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=d,Pl|=l,e.lanes=l,e.memoizedState=f}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function po(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=us(),i=cs(e),o=lo(r,i);o.payload=t,null!=n&&(o.callback=n),so(e,o),ds(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=us(),i=cs(e),o=lo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),ds(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=us(),r=cs(e),i=lo(n,r);i.tag=2,null!=t&&(i.callback=t),so(e,i),ds(e,r,n)}};function vo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function mo(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=ro(o):(i=pi(t)?fi:ci.current,o=(r=null!=(r=t.contextTypes))?hi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=ro(o):(o=pi(t)?fi:ci.current,i.context=hi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(po(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var wo=Array.isArray;function Io(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function l(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Gs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Io(e,t,n),r.return=e,r):((r=Us(n.type,n.key,n.props,null,e.mode,r)).ref=Io(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ks(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Gs(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Us(t.type,t.key,t.props,null,e.mode,n)).ref=Io(e,null,t),n.return=e,n;case k:return(t=Vs(t,e.mode,n)).return=e,t}if(wo(t)||Z(t))return(t=Ks(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===i?n.type===E?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null}if(wo(n)||Z(n))return null!==i?null:d(e,t,n,r,null);Co(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case C:return e=e.get(null===r.key?n:r.key)||null,r.type===E?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||Z(r))return d(t,e=e.get(n)||null,r,i,null);Co(t,r)}return null}function g(i,a,l,s){for(var u=null,c=null,d=a,g=a=0,v=null;null!==d&&g<l.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var m=h(i,d,l[g],s);if(null===m){null===d&&(d=v);break}e&&d&&null===m.alternate&&t(i,d),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m,d=v}if(g===l.length)return n(i,d),u;if(null===d){for(;g<l.length;g++)null!==(d=f(i,l[g],s))&&(a=o(d,a,g),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);g<l.length;g++)null!==(v=p(d,i,g,l[g],s))&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),a=o(v,a,g),null===c?u=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(i,e)})),u}function v(i,l,s,u){var c=Z(s);if("function"!=typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var d=c=null,g=l,v=l=0,m=null,b=s.next();null!==g&&!b.done;v++,b=s.next()){g.index>v?(m=g,g=null):m=g.sibling;var y=h(i,g,b.value,u);if(null===y){null===g&&(g=m);break}e&&g&&null===y.alternate&&t(i,g),l=o(y,l,v),null===d?c=y:d.sibling=y,d=y,g=m}if(b.done)return n(i,g),c;if(null===g){for(;!b.done;v++,b=s.next())null!==(b=f(i,b.value,u))&&(l=o(b,l,v),null===d?c=b:d.sibling=b,d=b);return c}for(g=r(i,g);!b.done;v++,b=s.next())null!==(b=p(g,i,v,b.value,u))&&(e&&null!==b.alternate&&g.delete(null===b.key?v:b.key),l=o(b,l,v),null===d?c=b:d.sibling=b,d=b);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,r,o,s){var u="object"==typeof o&&null!==o&&o.type===E&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case C:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===E){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=Io(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===E?((r=Ks(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=Us(o.type,o.key,o.props,null,e.mode,s)).ref=Io(e,r,o),s.return=e,e=s)}return l(e);case k:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Vs(o,e.mode,s)).return=e,e=r}return l(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Gs(o,e.mode,s)).return=e,e=r),l(e);if(wo(o))return g(e,r,o,s);if(Z(o))return v(e,r,o,s);if(c&&Co(e,o),void 0===o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var Eo=ko(!0),xo=ko(!1),Mo={},So=ai(Mo),To=ai(Mo),Ao=ai(Mo);function No(e){if(e===Mo)throw Error(a(174));return e}function Lo(e,t){switch(si(Ao,t),si(To,e),si(So,Mo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(So),si(So,t)}function Do(){li(So),li(To),li(Ao)}function zo(e){No(Ao.current);var t=No(So.current),n=pe(t,e.type);t!==n&&(si(To,e),si(So,n))}function Oo(e){To.current===e&&(li(So),li(To))}var Ro=ai(0);function _o(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,Po=null,Bo=!1;function Fo(e,t){var n=Hs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Zo(e){if(Bo){var t=Po;if(t){var n=t;if(!Ho(e,t)){if(!(t=Kr(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(jo=e);Fo(jo,n)}jo=e,Po=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,jo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Uo(e){if(e!==jo)return!1;if(!Bo)return Wo(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Po;t;)Fo(e,t),t=Kr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Po=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Po=null}}else Po=jo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Po=jo=null,Bo=!1}var Yo=[];function Go(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var Vo=I.ReactCurrentDispatcher,Qo=I.ReactCurrentBatchConfig,Xo=0,qo=null,Jo=null,$o=null,ea=!1,ta=!1;function na(){throw Error(a(321))}function ra(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,i,o){if(Xo=o,qo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vo.current=null===e||null===e.memoizedState?Na:La,e=n(r,i),ta){o=0;do{if(ta=!1,!(25>o))throw Error(a(301));o+=1,$o=Jo=null,t.updateQueue=null,Vo.current=Da,e=n(r,i)}while(ta)}if(Vo.current=Aa,t=null!==Jo&&null!==Jo.next,Xo=0,$o=Jo=qo=null,ea=!1,t)throw Error(a(300));return e}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$o?qo.memoizedState=$o=e:$o=$o.next=e,$o}function aa(){if(null===Jo){var e=qo.alternate;e=null!==e?e.memoizedState:null}else e=Jo.next;var t=null===$o?qo.memoizedState:$o.next;if(null!==t)$o=t,Jo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Jo=e).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===$o?qo.memoizedState=$o=e:$o=$o.next=e}return $o}function la(e,t){return"function"==typeof t?t(e):t}function sa(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=l=o=null,u=i;do{var c=u.lane;if((Xo&c)===c)null!==s&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(l=s=d,o=r):s=s.next=d,qo.lanes|=c,Pl|=c}u=u.next}while(null!==u&&u!==i);null===s?o=r:s.next=l,lr(r,t.memoizedState)||(Oa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{o=e(o,l.action),l=l.next}while(l!==i);lr(o,t.memoizedState)||(Oa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Yo.push(t))),e)return n(t._source);throw Yo.push(t),Error(a(350))}function da(e,t,n,r){var i=Nl;if(null===i)throw Error(a(349));var o=t._getVersion,l=o(t._source),s=Vo.current,u=s.useState((function(){return ca(i,t,n)})),c=u[1],d=u[0];u=$o;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,g=f.source;f=f.subscribe;var v=qo;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=o(t._source);if(!lr(l,e)){e=n(t._source),lr(d,e)||(c(e),e=cs(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var s=31-Ut(a),u=1<<s;r[s]|=e,a&=~u}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=cs(v);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),lr(p,n)&&lr(g,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:d}).dispatch=c=Ta.bind(null,qo,e),u.queue=e,u.baseQueue=null,d=ca(i,t,n),u.memoizedState=u.baseState=d),d}function fa(e,t,n){return da(aa(),e,t,n)}function ha(e){var t=oa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Ta.bind(null,qo,e),[t.memoizedState,e]}function pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=qo.updateQueue)?(t={lastEffect:null},qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},oa().memoizedState=e}function va(){return aa().memoizedState}function ma(e,t,n,r){var i=oa();qo.flags|=e,i.memoizedState=pa(1|t,n,void 0,void 0===r?null:r)}function ba(e,t,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void pa(t,n,o,r)}qo.flags|=e,i.memoizedState=pa(1|t,n,o,r)}function ya(e,t){return ma(516,4,e,t)}function wa(e,t){return ba(516,4,e,t)}function Ia(e,t){return ba(4,2,e,t)}function Ca(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,2,Ca.bind(null,t,e),n)}function Ea(){}function xa(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ma(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sa(e,t){var n=Hi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Ta(e,t,n){var r=us(),i=cs(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===qo||null!==a&&a===qo)ta=ea=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=a(l,n);if(o.eagerReducer=a,o.eagerState=s,lr(s,l))return}catch(e){}ds(e,i,r)}}var Aa={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Na={readContext:ro,useCallback:function(e,t){return oa().memoizedState=[e,void 0===t?null:t],e},useContext:ro,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ma(4,2,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var n=oa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ta.bind(null,qo,e),[r.memoizedState,e]},useRef:ga,useState:ha,useDebugValue:Ea,useDeferredValue:function(e){var t=ha(e),n=t[0],r=t[1];return ya((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ha(!1),t=e[0];return ga(e=Sa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},da(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(a(355))})),n=ha(t)[1];return 0==(2&qo.mode)&&(qo.flags|=516,pa(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return ha(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},La={readContext:ro,useCallback:xa,useContext:ro,useEffect:wa,useImperativeHandle:ka,useLayoutEffect:Ia,useMemo:Ma,useReducer:sa,useRef:va,useState:function(){return sa(la)},useDebugValue:Ea,useDeferredValue:function(e){var t=sa(la),n=t[0],r=t[1];return wa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=sa(la)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return sa(la)[0]},unstable_isNewReconciler:!1},Da={readContext:ro,useCallback:xa,useContext:ro,useEffect:wa,useImperativeHandle:ka,useLayoutEffect:Ia,useMemo:Ma,useReducer:ua,useRef:va,useState:function(){return ua(la)},useDebugValue:Ea,useDeferredValue:function(e){var t=ua(la),n=t[0],r=t[1];return wa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ua(la)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(la)[0]},unstable_isNewReconciler:!1},za=I.ReactCurrentOwner,Oa=!1;function Ra(e,t,n,r){t.child=null===e?xo(t,null,n,r):Eo(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=ia(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Ra(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nl(e,t,i))}function ja(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Zs(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Us(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Pa(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?nl(e,t,o):(t.flags|=1,(e=Ws(a,r)).ref=t.ref,e.return=t,t.child=e)}function Pa(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Oa=!1,0==(o&i))return t.lanes=e.lanes,nl(e,t,o);0!=(16384&e.flags)&&(Oa=!0)}return Ha(e,t,n,r,o)}function Ba(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ys(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ys(t,e),null;t.memoizedState={baseLanes:0},ys(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ys(t,r);return Ra(e,t,i,n),t.child}function Fa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ha(e,t,n,r,i){var o=pi(n)?fi:ci.current;return o=hi(t,o),no(t,i),n=ia(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Ra(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,nl(e,t,i))}function Za(e,t,n,r,i){if(pi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mo(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=ro(u):u=hi(t,u=pi(n)?fi:ci.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==u)&&bo(t,a,r,u),io=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),s=t.memoizedState,l!==r||f!==s||di.current||io?("function"==typeof c&&(po(t,n,c,r),s=t.memoizedState),(l=io||vo(t,n,l,r,f,s,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,ao(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Vi(t.type,l),a.props=u,d=t.pendingProps,f=a.context,"object"==typeof(s=n.contextType)&&null!==s?s=ro(s):s=hi(t,s=pi(n)?fi:ci.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==d||f!==s)&&bo(t,a,r,s),io=!1,f=t.memoizedState,a.state=f,co(t,r,a,i);var p=t.memoizedState;l!==d||f!==p||di.current||io?("function"==typeof h&&(po(t,n,h,r),p=t.memoizedState),(u=io||vo(t,n,u,r,f,p,s))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=u):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){Fa(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&yi(t,n,!1),nl(e,t,o);r=t.stateNode,za.current=t;var l=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,l,o)):Ra(e,t,l,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function Ua(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Lo(e,t.containerInfo)}var Ka,Ya,Ga,Va={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Ro.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Ro,1&o),null===e?(void 0!==i.fallback&&Zo(t),e=i.children,o=i.fallback,a?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Va,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Va,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Ja(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Va,i):(n=qa(e,t,i.children,n),t.memoizedState=null,n))}function Xa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ys(t,i,0,null),n=Ks(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function qa(e,t,n,r){var i=e.child;return e=i.sibling,n=Ws(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ja(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var l={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=l,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ws(a,l),null!==e?r=Ws(e,r):(r=Ks(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function $a(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),to(e.return,t)}function el(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function tl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ra(e,t,r.children,n),0!=(2&(r=Ro.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Ro,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===_o(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),el(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===_o(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}el(t,!0,n,null,o,t.lastEffect);break;case"together":el(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function nl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Pl|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rl(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function il(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&gi(),null;case 3:return Do(),li(di),li(ci),Go(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Uo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Oo(t);var o=No(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)Ya(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(So.current),Uo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Qr]=t,r[Xr]=l,n){case"dialog":Sr("cancel",r),Sr("close",r);break;case"iframe":case"object":case"embed":Sr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Sr(kr[e],r);break;case"source":Sr("error",r);break;case"img":case"image":case"link":Sr("error",r),Sr("load",r);break;case"details":Sr("toggle",r);break;case"input":ee(r,l),Sr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Sr("invalid",r);break;case"textarea":se(r,l),Sr("invalid",r)}for(var u in Ee(n,l),e=null,l)l.hasOwnProperty(u)&&(o=l[u],"children"===u?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):s.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Sr("scroll",r));switch(n){case"input":X(r),re(r,l,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Qr]=t,e[Xr]=r,Ka(e,t),t.stateNode=e,u=xe(n,r),n){case"dialog":Sr("cancel",e),Sr("close",e),o=r;break;case"iframe":case"object":case"embed":Sr("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Sr(kr[o],e);o=r;break;case"source":Sr("error",e),o=r;break;case"img":case"image":case"link":Sr("error",e),Sr("load",e),o=r;break;case"details":Sr("toggle",e),o=r;break;case"input":ee(e,r),o=$(e,r),Sr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Sr("invalid",e);break;case"textarea":se(e,r),o=le(e,r),Sr("invalid",e);break;default:o=r}Ee(n,o);var c=o;for(l in c)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?Ce(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&me(e,d):"children"===l?"string"==typeof d?("textarea"!==n||""!==d)&&be(e,d):"number"==typeof d&&be(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Sr("scroll",e):null!=d&&w(e,l,d,u))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ae(e,!!r.multiple,l,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=jr)}Fr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=No(Ao.current),No(So.current),Uo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return li(Ro),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Uo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ro.current)?0===Rl&&(Rl=3):(0!==Rl&&3!==Rl||(Rl=4),null===Nl||0==(134217727&Pl)&&0==(134217727&Bl)||gs(Nl,Dl))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return eo(t),null;case 17:return pi(t.type)&&gi(),null;case 19:if(li(Ro),null===(r=t.memoizedState))return null;if(l=0!=(64&t.flags),null===(u=r.rendering))if(l)rl(r,!1);else{if(0!==Rl||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=_o(e))){for(t.flags|=64,rl(r,!1),null!==(l=u.updateQueue)&&(t.updateQueue=l,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(u=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,e=u.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Ro,1&Ro.current|2),t.child}e=e.sibling}null!==r.tail&&Fi()>Wl&&(t.flags|=64,l=!0,rl(r,!1),t.lanes=33554432)}else{if(!l)if(null!==(e=_o(u))){if(t.flags|=64,l=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Fi()-r.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=64,l=!0,rl(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Fi(),n.sibling=null,t=Ro.current,si(Ro,l?1&t|2:1&t),n):null;case 23:case 24:return ws(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ol(e){switch(e.tag){case 1:pi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),li(di),li(ci),Go(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Oo(e),null;case 13:return li(Ro),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ro),null;case 4:return Do(),null;case 10:return eo(e),null;case 23:case 24:return ws(),null;default:return null}}function al(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ll(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(So.current);var a,l=null;switch(n){case"input":o=$(e,o),r=$(e,r),l=[];break;case"option":o=oe(e,o),r=oe(e,r),l=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),l=[];break;case"textarea":o=le(e,o),r=le(e,r),l=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=jr)}for(d in Ee(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var u=o[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(u=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(null!=c||null!=u))if("style"===d)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Sr("scroll",e),l||u===c||(l=[])):"object"==typeof c&&null!==c&&c.$$typeof===R?c.toString():(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ga=function(e,t,n,r){n!==r&&(t.flags|=4)};var sl="function"==typeof WeakMap?WeakMap:Map;function ul(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Vl=r),ll(0,t)},n}function cl(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ll(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this),ll(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var dl="function"==typeof WeakSet?WeakSet:Set;function fl(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){js(e,t)}else t.current=null}function hl(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Vi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ur(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function pl(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Os(n,e),zs(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Vi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Fr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ct(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function gl(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ie("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vl(e,t){if(Ii&&"function"==typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(wi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Os(t,n);else{r=t;try{i()}catch(e){js(r,e)}}n=n.next}while(n!==e)}break;case 1:if(fl(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){js(t,e)}break;case 5:fl(t);break;case 4:Cl(e,t)}}function ml(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bl(e){return 5===e.tag||3===e.tag||4===e.tag}function yl(e){e:{for(var t=e.return;null!==t;){if(bl(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bl(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?wl(e,n,t):Il(e,n,t)}function wl(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(wl(e,t,n),e=e.sibling;null!==e;)wl(e,t,n),e=e.sibling}function Il(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Il(e,t,n),e=e.sibling;null!==e;)Il(e,t,n),e=e.sibling}function Cl(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var l=e,s=i,u=s;;)if(vl(l,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===s)break e;for(;null===u.sibling;){if(null===u.return||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(l=n,s=i.stateNode,8===l.nodeType?l.parentNode.removeChild(s):l.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vl(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function kl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,i),t=xe(e,r),i=0;i<o.length;i+=2){var l=o[i],s=o[i+1];"style"===l?Ce(n,s):"dangerouslySetInnerHTML"===l?me(n,s):"children"===l?be(n,s):w(n,l,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Ct(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Zl=Fi(),gl(t.child,!0)),void El(t);case 19:return void El(t);case 17:return;case 23:case 24:return void gl(t,null!==t.memoizedState)}throw Error(a(163))}function El(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new dl),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xl(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ml=Math.ceil,Sl=I.ReactCurrentDispatcher,Tl=I.ReactCurrentOwner,Al=0,Nl=null,Ll=null,Dl=0,zl=0,Ol=ai(0),Rl=0,_l=null,jl=0,Pl=0,Bl=0,Fl=0,Hl=null,Zl=0,Wl=1/0;function Ul(){Wl=Fi()+500}var Kl,Yl=null,Gl=!1,Vl=null,Ql=null,Xl=!1,ql=null,Jl=90,$l=[],es=[],ts=null,ns=0,rs=null,is=-1,os=0,as=0,ls=null,ss=!1;function us(){return 0!=(48&Al)?Fi():-1!==is?is:is=Fi()}function cs(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Hi()?1:2;if(0===os&&(os=jl),0!==Gi.transition){0!==as&&(as=null!==Hl?Hl.pendingLanes:0),e=os;var t=4186112&~as;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!=(4&Al)&&98===e?e=Ft(12,os):e=Ft(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),os),e}function ds(e,t,n){if(50<ns)throw ns=0,rs=null,Error(a(185));if(null===(e=fs(e,t)))return null;Wt(e,t,n),e===Nl&&(Bl|=t,4===Rl&&gs(e,Dl));var r=Hi();1===t?0!=(8&Al)&&0==(48&Al)?vs(e):(hs(e,n),0===Al&&(Ul(),Ki())):(0==(4&Al)||98!==r&&99!==r||(null===ts?ts=new Set([e]):ts.add(e)),hs(e,n)),Hl=e}function fs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function hs(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-Ut(l),u=1<<s,c=o[s];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,jt(u);var d=_t;o[s]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);l&=~u}if(r=Pt(e,e===Nl?Dl:0),t=_t,0===r)null!==n&&(n!==Oi&&Ei(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Oi&&Ei(n)}15===t?(n=vs.bind(null,e),null===_i?(_i=[n],ji=ki(Ai,Yi)):_i.push(n),n=Oi):14===t?n=Ui(99,vs.bind(null,e)):n=Ui(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),ps.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ps(e){if(is=-1,as=os=0,0!=(48&Al))throw Error(a(327));var t=e.callbackNode;if(Ds()&&e.callbackNode!==t)return null;var n=Pt(e,e===Nl?Dl:0);if(0===n)return null;var r=n,i=Al;Al|=16;var o=ks();for(Nl===e&&Dl===r||(Ul(),Is(e,r));;)try{Ms();break}catch(t){Cs(e,t)}if($i(),Sl.current=o,Al=i,null!==Ll?r=0:(Nl=null,Dl=0,r=Rl),0!=(jl&Bl))Is(e,0);else if(0!==r){if(2===r&&(Al|=64,e.hydrate&&(e.hydrate=!1,Ur(e.containerInfo)),0!==(n=Bt(e))&&(r=Es(e,n))),1===r)throw t=_l,Is(e,0),gs(e,n),hs(e,Fi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:As(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Zl+500-Fi())){if(0!==Pt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){us(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zr(As.bind(null,e),r);break}As(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var l=31-Ut(n);o=1<<l,(l=r[l])>i&&(i=l),n&=~o}if(n=i,10<(n=(120>(n=Fi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ml(n/1960))-n)){e.timeoutHandle=Zr(As.bind(null,e),n);break}As(e);break;case 5:As(e);break;default:throw Error(a(329))}}return hs(e,Fi()),e.callbackNode===t?ps.bind(null,e):null}function gs(e,t){for(t&=~Fl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function vs(e){if(0!=(48&Al))throw Error(a(327));if(Ds(),e===Nl&&0!=(e.expiredLanes&Dl)){var t=Dl,n=Es(e,t);0!=(jl&Bl)&&(n=Es(e,t=Pt(e,t)))}else n=Es(e,t=Pt(e,0));if(0!==e.tag&&2===n&&(Al|=64,e.hydrate&&(e.hydrate=!1,Ur(e.containerInfo)),0!==(t=Bt(e))&&(n=Es(e,t))),1===n)throw n=_l,Is(e,0),gs(e,t),hs(e,Fi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,As(e),hs(e,Fi()),null}function ms(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Ul(),Ki())}}function bs(e,t){var n=Al;Al&=-2,Al|=8;try{return e(t)}finally{0===(Al=n)&&(Ul(),Ki())}}function ys(e,t){si(Ol,zl),zl|=t,jl|=t}function ws(){zl=Ol.current,li(Ol)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:Do(),li(di),li(ci),Go();break;case 5:Oo(r);break;case 4:Do();break;case 13:case 19:li(Ro);break;case 10:eo(r);break;case 23:case 24:ws()}n=n.return}Nl=e,Ll=Ws(e.current,null),Dl=zl=jl=t,Rl=0,_l=null,Fl=Bl=Pl=0}function Cs(e,t){for(;;){var n=Ll;try{if($i(),Vo.current=Aa,ea){for(var r=qo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ea=!1}if(Xo=0,$o=Jo=qo=null,ta=!1,Tl.current=null,null===n||null===n.return){Rl=1,_l=t,Ll=null;break}e:{var o=e,a=n.return,l=n,s=t;if(t=Dl,l.flags|=2048,l.firstEffect=l.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s;if(0==(2&l.mode)){var c=l.alternate;c?(l.updateQueue=c.updateQueue,l.memoizedState=c.memoizedState,l.lanes=c.lanes):(l.updateQueue=null,l.memoizedState=null)}var d=0!=(1&Ro.current),f=a;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var g=f.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(h){var v=f.updateQueue;if(null===v){var m=new Set;m.add(u),f.updateQueue=m}else v.add(u);if(0==(2&f.mode)){if(f.flags|=64,l.flags|=16384,l.flags&=-2981,1===l.tag)if(null===l.alternate)l.tag=17;else{var b=lo(-1,1);b.tag=2,so(l,b)}l.lanes|=1;break e}s=void 0,l=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new sl,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(l)){s.add(l);var w=Ps.bind(null,o,u,l);u.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);s=Error((G(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Rl&&(Rl=2),s=al(s,l),f=a;do{switch(f.tag){case 3:o=s,f.flags|=4096,t&=-t,f.lanes|=t,uo(f,ul(0,o,t));break e;case 1:o=s;var I=f.type,C=f.stateNode;if(0==(64&f.flags)&&("function"==typeof I.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===Ql||!Ql.has(C)))){f.flags|=4096,t&=-t,f.lanes|=t,uo(f,cl(f,o,t));break e}}f=f.return}while(null!==f)}Ts(n)}catch(e){t=e,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function ks(){var e=Sl.current;return Sl.current=Aa,null===e?Aa:e}function Es(e,t){var n=Al;Al|=16;var r=ks();for(Nl===e&&Dl===t||Is(e,t);;)try{xs();break}catch(t){Cs(e,t)}if($i(),Al=n,Sl.current=r,null!==Ll)throw Error(a(261));return Nl=null,Dl=0,Rl}function xs(){for(;null!==Ll;)Ss(Ll)}function Ms(){for(;null!==Ll&&!xi();)Ss(Ll)}function Ss(e){var t=Kl(e.alternate,e,zl);e.memoizedProps=e.pendingProps,null===t?Ts(e):Ll=t,Tl.current=null}function Ts(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=il(n,t,zl)))return void(Ll=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&zl)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ol(t)))return n.flags&=2047,void(Ll=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Rl&&(Rl=5)}function As(e){var t=Hi();return Wi(99,Ns.bind(null,e,t)),null}function Ns(e,t){do{Ds()}while(null!==ql);if(0!=(48&Al))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var l=e.eventTimes,s=e.expirationTimes;0<o;){var u=31-Ut(o),c=1<<u;i[u]=0,l[u]=-1,s[u]=-1,o&=~c}if(null!==ts&&0==(24&r)&&ts.has(e)&&ts.delete(e),e===Nl&&(Ll=Nl=null,Dl=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Al,Al|=32,Tl.current=null,Pr=Qt,pr(l=hr())){if("selectionStart"in l)s={start:l.selectionStart,end:l.selectionEnd};else e:if(s=(s=l.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{s.nodeType,u.nodeType}catch(e){s=null;break e}var d=0,f=-1,h=-1,p=0,g=0,v=l,m=null;t:for(;;){for(var b;v!==s||0!==o&&3!==v.nodeType||(f=d+o),v!==u||0!==c&&3!==v.nodeType||(h=d+c),3===v.nodeType&&(d+=v.nodeValue.length),null!==(b=v.firstChild);)m=v,v=b;for(;;){if(v===l)break t;if(m===s&&++p===o&&(f=d),m===u&&++g===c&&(h=d),null!==(b=v.nextSibling))break;m=(v=m).parentNode}v=b}s=-1===f||-1===h?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:l,selectionRange:s},Qt=!1,ls=null,ss=!1,Yl=r;do{try{Ls()}catch(e){if(null===Yl)throw Error(a(330));js(Yl,e),Yl=Yl.nextEffect}}while(null!==Yl);ls=null,Yl=r;do{try{for(l=e;null!==Yl;){var y=Yl.flags;if(16&y&&be(Yl.stateNode,""),128&y){var w=Yl.alternate;if(null!==w){var I=w.ref;null!==I&&("function"==typeof I?I(null):I.current=null)}}switch(1038&y){case 2:yl(Yl),Yl.flags&=-3;break;case 6:yl(Yl),Yl.flags&=-3,kl(Yl.alternate,Yl);break;case 1024:Yl.flags&=-1025;break;case 1028:Yl.flags&=-1025,kl(Yl.alternate,Yl);break;case 4:kl(Yl.alternate,Yl);break;case 8:Cl(l,s=Yl);var C=s.alternate;ml(s),null!==C&&ml(C)}Yl=Yl.nextEffect}}catch(e){if(null===Yl)throw Error(a(330));js(Yl,e),Yl=Yl.nextEffect}}while(null!==Yl);if(I=Br,w=hr(),y=I.focusedElem,l=I.selectionRange,w!==y&&y&&y.ownerDocument&&fr(y.ownerDocument.documentElement,y)){null!==l&&pr(y)&&(w=l.start,void 0===(I=l.end)&&(I=w),"selectionStart"in y?(y.selectionStart=w,y.selectionEnd=Math.min(I,y.value.length)):(I=(w=y.ownerDocument||document)&&w.defaultView||window).getSelection&&(I=I.getSelection(),s=y.textContent.length,C=Math.min(l.start,s),l=void 0===l.end?C:Math.min(l.end,s),!I.extend&&C>l&&(s=l,l=C,C=s),s=dr(y,C),o=dr(y,l),s&&o&&(1!==I.rangeCount||I.anchorNode!==s.node||I.anchorOffset!==s.offset||I.focusNode!==o.node||I.focusOffset!==o.offset)&&((w=w.createRange()).setStart(s.node,s.offset),I.removeAllRanges(),C>l?(I.addRange(w),I.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),I.addRange(w))))),w=[];for(I=y;I=I.parentNode;)1===I.nodeType&&w.push({element:I,left:I.scrollLeft,top:I.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<w.length;y++)(I=w[y]).element.scrollLeft=I.left,I.element.scrollTop=I.top}Qt=!!Pr,Br=Pr=null,e.current=n,Yl=r;do{try{for(y=e;null!==Yl;){var k=Yl.flags;if(36&k&&pl(y,Yl.alternate,Yl),128&k){w=void 0;var E=Yl.ref;if(null!==E){var x=Yl.stateNode;switch(Yl.tag){case 5:w=x;break;default:w=x}"function"==typeof E?E(w):E.current=w}}Yl=Yl.nextEffect}}catch(e){if(null===Yl)throw Error(a(330));js(Yl,e),Yl=Yl.nextEffect}}while(null!==Yl);Yl=null,Ri(),Al=i}else e.current=n;if(Xl)Xl=!1,ql=e,Jl=t;else for(Yl=r;null!==Yl;)t=Yl.nextEffect,Yl.nextEffect=null,8&Yl.flags&&((k=Yl).sibling=null,k.stateNode=null),Yl=t;if(0===(r=e.pendingLanes)&&(Ql=null),1===r?e===rs?ns++:(ns=0,rs=e):ns=0,n=n.stateNode,Ii&&"function"==typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(wi,n,void 0,64==(64&n.current.flags))}catch(e){}if(hs(e,Fi()),Gl)throw Gl=!1,e=Vl,Vl=null,e;return 0!=(8&Al)||Ki(),null}function Ls(){for(;null!==Yl;){var e=Yl.alternate;ss||null===ls||(0!=(8&Yl.flags)?et(Yl,ls)&&(ss=!0):13===Yl.tag&&xl(e,Yl)&&et(Yl,ls)&&(ss=!0));var t=Yl.flags;0!=(256&t)&&hl(e,Yl),0==(512&t)||Xl||(Xl=!0,Ui(97,(function(){return Ds(),null}))),Yl=Yl.nextEffect}}function Ds(){if(90!==Jl){var e=97<Jl?97:Jl;return Jl=90,Wi(e,Rs)}return!1}function zs(e,t){$l.push(t,e),Xl||(Xl=!0,Ui(97,(function(){return Ds(),null})))}function Os(e,t){es.push(t,e),Xl||(Xl=!0,Ui(97,(function(){return Ds(),null})))}function Rs(){if(null===ql)return!1;var e=ql;if(ql=null,0!=(48&Al))throw Error(a(331));var t=Al;Al|=32;var n=es;es=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],l=i.destroy;if(i.destroy=void 0,"function"==typeof l)try{l()}catch(e){if(null===o)throw Error(a(330));js(o,e)}}for(n=$l,$l=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(e){if(null===o)throw Error(a(330));js(o,e)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Al=t,Ki(),!0}function _s(e,t,n){so(e,t=ul(0,t=al(n,t),1)),t=us(),null!==(e=fs(e,1))&&(Wt(e,1,t),hs(e,t))}function js(e,t){if(3===e.tag)_s(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){_s(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){var i=cl(n,e=al(t,e),1);if(so(n,i),i=us(),null!==(n=fs(n,1)))Wt(n,1,i),hs(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ql||!Ql.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ps(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=us(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Dl&n)===n&&(4===Rl||3===Rl&&(62914560&Dl)===Dl&&500>Fi()-Zl?Is(e,0):Fl|=n),hs(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Hi()?1:2:(0===os&&(os=jl),0===(t=Ht(62914560&~os))&&(t=4194304))),n=us(),null!==(e=fs(e,t))&&(Wt(e,t,n),hs(e,n))}function Fs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(e,t,n,r){return new Fs(e,t,n,r)}function Zs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=Hs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Us(e,t,n,r,i,o){var l=2;if(r=e,"function"==typeof e)Zs(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case E:return Ks(n.children,i,o,t);case _:l=8,i|=16;break;case x:l=8,i|=1;break;case M:return(e=Hs(12,n,t,8|i)).elementType=M,e.type=M,e.lanes=o,e;case N:return(e=Hs(13,n,t,i)).type=N,e.elementType=N,e.lanes=o,e;case L:return(e=Hs(19,n,t,i)).elementType=L,e.lanes=o,e;case j:return Ys(n,i,o,t);case P:return(e=Hs(24,n,t,i)).elementType=P,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:l=10;break e;case T:l=9;break e;case A:l=11;break e;case D:l=14;break e;case z:l=16,r=null;break e;case O:l=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Hs(l,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ks(e,t,n,r){return(e=Hs(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Hs(23,e,r,t)).elementType=j,e.lanes=n,e}function Gs(e,t,n){return(e=Hs(6,e,null,t)).lanes=n,e}function Vs(e,t,n){return(t=Hs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zt(0),this.expirationTimes=Zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zt(0),this.mutableSourceEagerHydrationData=null}function Xs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qs(e,t,n,r){var i=t.current,o=us(),l=cs(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(pi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var u=n.type;if(pi(u)){n=mi(n,u,s);break e}}n=s}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),ds(i,l,o),l}function Js(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $s(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){$s(e,t),(e=e.alternate)&&$s(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Qs(e,t,null!=n&&!0===n.hydrate),t=Hs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oo(t),e[qr]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var l=i;i=function(){var e=Js(a);l.call(e)}}qs(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var e=Js(a);s.call(e)}}bs((function(){qs(t,a,e,i)}))}return Js(a)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(a(200));return Xs(e,t,null,n)}Kl=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Oa=!0;else{if(0==(n&r)){switch(Oa=!1,t.tag){case 3:Ua(t),Ko();break;case 5:zo(t);break;case 1:pi(t.type)&&bi(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Qa(e,t,n):(si(Ro,1&Ro.current),null!==(t=nl(e,t,n))?t.sibling:null);si(Ro,1&Ro.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return tl(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Ro,Ro.current),r)break;return null;case 23:case 24:return t.lanes=0,Ba(e,t,n)}return nl(e,t,n)}Oa=0!=(16384&e.flags)}else Oa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=hi(t,ci.current),no(t,n),i=ia(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var l=r.getDerivedStateFromProps;"function"==typeof l&&po(t,r,l,e),i.updater=go,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,Ra(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Zs(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===D)return 14}return 2}(i),e=Vi(i,e),o){case 0:t=Ha(null,t,i,e,n);break e;case 1:t=Za(null,t,i,e,n);break e;case 11:t=_a(null,t,i,e,n);break e;case 14:t=ja(null,t,i,Vi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Za(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 3:if(Ua(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=nl(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Po=Kr(t.stateNode.containerInfo.firstChild),jo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Yo.push(o);for(n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ra(e,t,r,n),Ko();t=t.child}return t;case 5:return zo(t),null===e&&Zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,l=i.children,Hr(r,i)?l=null:null!==o&&Hr(r,o)&&(t.flags|=16),Fa(e,t),Ra(e,t,l,n),t.child;case 6:return null===e&&Zo(t),null;case 13:return Qa(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):Ra(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value;var s=t.type._context;if(si(Qi,s._currentValue),s._currentValue=o,null!==l)if(s=l.value,0===(o=lr(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(l.children===i.children&&!di.current){t=nl(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){l=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===s.tag&&((c=lo(-1,n&-n)).tag=2,so(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),to(s.return,n),u.lanes|=n;break}c=c.next}}else l=10===s.tag&&s.type===t.type?null:s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}Ra(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.flags|=1,Ra(e,t,r,n),t.child;case 14:return o=Vi(i=t.type,t.pendingProps),ja(e,t,i,o=Vi(i.type,o),r,n);case 15:return Pa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,bi(t)):e=!1,no(t,n),mo(t,r,i),yo(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return tl(e,t,n);case 23:case 24:return Ba(e,t,n)}throw Error(a(156,t.tag))},tu.prototype.render=function(e){qs(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;qs(null,e,null,(function(){t[qr]=null}))},tt=function(e){13===e.tag&&(ds(e,4,us()),eu(e,4))},nt=function(e){13===e.tag&&(ds(e,67108864,us()),eu(e,67108864))},rt=function(e){if(13===e.tag){var t=us(),n=cs(e);ds(e,n,t),eu(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(a(90));q(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},ze=ms,Oe=function(e,t,n,r,i){var o=Al;Al|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Al=o)&&(Ul(),Ki())}},Re=function(){0==(49&Al)&&(function(){if(null!==ts){var e=ts;ts=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,hs(e,Fi())}))}Ki()}(),Ds())},_e=function(e,t){var n=Al;Al|=2;try{return e(t)}finally{0===(Al=n)&&(Ul(),Ki())}};var ou={Events:[ei,ti,ni,Le,De,Ds,{current:!1}]},au={findFiberByHostInstance:$r,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lu={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{wi=su.inject(lu),Ii=su}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Al;if(0!=(48&n))return e(t);Al|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Al=n,Ki()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(a(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(a(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(a(40));return!!e._reactRootContainer&&(bs((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[qr]=null}))})),!0)},t.unstable_batchedUpdates=ms,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ru(e,t,n,!1,r)},t.version="17.0.2"},316:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(967)},426:(e,t,n)=>{"use strict";var r=n(320),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,l=60110,s=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),l=d("react.context"),s=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var y=b.prototype=new m;y.constructor=b,r(y,v.prototype),y.isPureReactComponent=!0;var w={current:null},I=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},a=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,r)&&!C.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:i,type:e,key:a,ref:l,props:o,_owner:w.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case o:s=!0}}if(s)return a=a(s=e),e=""===r?"."+M(s,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),S(a,t,n,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+M(l=e[u],u);s+=S(l,t,n,c,a)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),u=0;!(l=e.next()).done;)s+=S(l=l.value,t,n,c=r+M(l,u++),a);else if("object"===l)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function T(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function L(){var e=N.current;if(null===e)throw Error(h(321));return e}var D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null==e)throw Error(h(267,e));var o=r({},e.props),a=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)I.call(t,c)&&!C.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:l,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2"},784:(e,t,n)=>{"use strict";e.exports=n(426)},475:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,d=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,m=-1,b=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,I=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();y=e+b;try{v(!0,e)?I.postMessage(null):(g=!1,v=null)}catch(e){throw I.postMessage(null),e}}else g=!1},n=function(e){v=e,g||(g=!0,I.postMessage(null))},r=function(e,n){m=f((function(){e(t.unstable_now())}),n)},i=function(){h(m),m=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],l=o+1,s=e[l];if(void 0!==a&&0>x(a,n))void 0!==s&&0>x(s,a)?(e[r]=s,e[l]=n,r=l):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>x(s,n)))break e;e[r]=s,e[l]=n,r=l}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var M=[],S=[],T=1,A=null,N=3,L=!1,D=!1,z=!1;function O(e){for(var t=k(S);null!==t;){if(null===t.callback)E(S);else{if(!(t.startTime<=e))break;E(S),t.sortIndex=t.expirationTime,C(M,t)}t=k(S)}}function R(e){if(z=!1,O(e),!D)if(null!==k(M))D=!0,n(_);else{var t=k(S);null!==t&&r(R,t.startTime-e)}}function _(e,n){D=!1,z&&(z=!1,i()),L=!0;var o=N;try{for(O(n),A=k(M);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"==typeof a){A.callback=null,N=A.priorityLevel;var l=a(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?A.callback=l:A===k(M)&&E(M),O(n)}else E(M);A=k(M)}if(null!==A)var s=!0;else{var u=k(S);null!==u&&r(R,u.startTime-n),s=!1}return s}finally{A=null,N=o,L=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||L||(D=!0,n(_))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return k(M)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,o,a){var l=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:T++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>l?(e.sortIndex=a,C(S,e),null===k(M)&&e===k(S)&&(z?i():z=!0,r(R,a-l))):(e.sortIndex=s,C(M,e),D||L||(D=!0,n(_))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},616:(e,t,n)=>{"use strict";e.exports=n(475)},410:function(e,t){var n;(function(){"use strict";var r,i;i=null,r=function(e){var t,n;return null==e&&(e=!1),null==i||e?"loading"===document.readyState?null:(t=document.createElement("div"),n=document.createElement("div"),t.style.width=n.style.width=t.style.height=n.style.height="100px",t.style.overflow="scroll",n.style.overflow="hidden",document.body.appendChild(t),document.body.appendChild(n),i=Math.abs(t.scrollHeight-n.scrollHeight),document.body.removeChild(t),document.body.removeChild(n),i):i},void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}).call(this)},523:(e,t)=>{var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},r=/[&"'<>\/]/gm;var i=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF]/gm;var o=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF\u2028\u2029]/gm;function a(e){return e&&e.replace(o,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))}function l(e){return e&&'"'+a(e)+'"'}var s=/"(?:\\.|[^"])*"/gm;var u=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF]/gm;function c(e){return e&&e.replace(u,(function(e){return"\\"+("000000"+e.charCodeAt(0).toString(16)).slice(-6)}))}t.escapeHTML=function(e){return e&&e.replace(r,(function(e){return n[e]||e}))},t.escapeHTMLAttribute=function(e){return e&&e.replace(i,(function(e){return n[e]||"&#x"+("00"+e.charCodeAt(0).toString(16)).slice(-2)+";"}))},t.encodeJavaScriptIdentifier=a,t.encodeJavaScriptString=l,t.encodeJavaScriptData=function(e){return JSON.stringify(e).replace(s,(function(e){return l(JSON.parse(e))}))},t.encodeCSSIdentifier=c,t.encodeCSSString=function(e){return e&&'"'+c(e)+'"'}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],l=0;l<e.length;l++){var s=e[l],u=r.base?s[0]+r.base:s[0],c=o[u]||0,d="".concat(u," ").concat(c);o[u]=c+1;var f=n(d),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)t[f].references++,t[f].updater(h);else{var p=i(h,r);r.byIndex=l,t.splice(l,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var l=n(o[a]);t[l].references--}for(var s=r(e,i),u=0;u<o.length;u++){var c=n(o[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=s}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(){return(e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var t,r,i=n(784),o=n(316);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(r=t=t||{}).Range="Range",r.ZoneState="ZoneState",r.ContentState="ContentState",r.UndoModule="UndoModule",r.InputModel="InputModel";var f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function h(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var p,g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function v(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;0<=l;l--)(i=e[l])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a}function m(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))}function b(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function I(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e}function C(e){return function(t){return function(n,r,i){var o=i.value;i.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this;try{return o.apply(i,n)}catch(n){e?e.call(i,{e:n,level:t,message:n.message}):console.error(n)}}}}}!function(e){e[e.FATAL=0]="FATAL",e[e.ERROR=1]="ERROR"}(p||(p={}));var k=function(e,t){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function E(e,t){function n(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var x,M,S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function T(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function A(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=S({},t);for(var i in n||(r=Object.keys(r).reduce((function(e,t){return null!==r[t]&&""!==r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0}function N(e,t){return void 0===t&&(t=!0),Object.keys(e).reduce((function(n,r){return!1!==t||e[r]?(n[r]="string"==typeof e[r]?e[r]:String(e[r]),n):n}),{})}function L(e,t,n){if(void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}!function(e){e.DELETE="delete",e.RETAIN="retain",e.INSERT="insert"}(x||(x={})),function(e){e.Content="Z",e.Row="R",e.Column="C"}(M||(M={}));var D="\n",z="*",O={content:M.Content,rs:M.Row,cs:M.Column},R=(n(661),Object.prototype.toString);function _(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":R.call(e)}function j(e){return"object"==typeof e&&null!==e}var P=Symbol.prototype.valueOf;function B(e,t){return e===t||e!=e&&t!=t}function F(e){return null==e}function H(e,t,n,r){if(e===t)return!0;if(F(e)||F(t)||!j(e)&&!j(t)&&"function"!=typeof e)return B(e,t);var i=_(e),o=_(t);if(i!==o)return!1;var a=n.indexOf(e);if(a===r.indexOf(t)&&a>=0)return!0;if(n.push(e),r.push(t),("[object Array]"===i?e.length:Object.keys(e).length)!==("[object Array]"===o?t.length:Object.keys(t).length))return!1;if("[object Array]"===i){for(var l=0;l<e.length;l++)if(!H(e[l],t[l],n.slice(),r.slice()))return!1;return!0}if("[object Object]"===i){for(var s in e)if(e.hasOwnProperty(s)&&!1===H(e[s],t[s],n.slice(),r.slice()))return!1;return!0}return"[object Function]"===i?e.toString()===t.toString():["[object Number]","[object Boolean]","[object Date]"].includes(i)?B(+e,+t):"[object String]"===i?""+e==""+t:!("[object Symbol]"!==i||!P)&&P.call(e)===P.call(t)}function Z(e,t){return H(e,t,[],[])}var W=function(){function e(e){this.ops=e,this.index=0,this.offset=0}var t=e.prototype;return t.hasNext=function(){return this.peekLength()<1/0},t.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=K(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,Y(t))return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),G(t)?i.retain=e:Q(t)?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}return{retain:1/0}},t.peek=function(){return this.ops[this.index]},t.peekLength=function(){return this.ops[this.index]?K(this.ops[this.index])-this.offset:1/0},t.peekType=function(){return this.ops[this.index]?q(this.ops[this.index]):x.RETAIN},t.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e}();function U(e){return new W(e)}function K(e){if(Y(e))return e.delete;if(G(e))return e.retain;if(Q(e))return e.insert.length;if(X(e))return 1;throw new Error("op is unknown")}function Y(e){return"number"==typeof(null==e?void 0:e.delete)}function G(e){return"number"==typeof(null==e?void 0:e.retain)}function V(e){return Q(e)||X(e)}function Q(e){return"string"==typeof(null==e?void 0:e.insert)}function X(e){return"object"==typeof(null==e?void 0:e.insert)}function q(e){if(Y(e))return x.DELETE;if(G(e))return x.RETAIN;if(V(e))return x.INSERT;throw new Error("op is unknown")}var J=function(){function e(e,t){void 0===e&&(e={}),t=null!=t?t:Object.keys(e).some((function(t){return e[t]instanceof ie})),this._deltas=t?e:Object.keys(e).reduce((function(t,n){return t[n]=oe(e[n]),t}),{})}var t=e.prototype;return Object.defineProperty(t,"deltas",{get:function(){return this._deltas},enumerable:!1,configurable:!0}),t.get=function(e){return this._deltas[e]},t.compose=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=!0),this._call("compose",e,{keepEmptyAttributes:t,immutable:n})},t.concat=function(e){return this._call("concat",e)},t.invert=function(t){var n=new e;if(te(t))n=(new e).add(t.zoneId,t);else{if(!ne(t))throw Error("DeltaSet invert data is wrong");n=t}return this.reduce((function(e,t){var r=n.get(t.zoneId)||t.create({zoneId:t.zoneId}),i=t.invert(r);return e.compose(i)}),new e)},t.transform=function(t,n){var r=this;if(void 0===n&&(n=!1),te(t))return t.zoneId in this.deltas?this.deltas[t.zoneId].transform(t,n):t;if(ne(t))return new e(t.reduce((function(e,t){return e[t.zoneId]=r.transform(t,n),e}),{}));throw Error("DeltaSet call data is wrong")},t.delete=function(e){return delete this._deltas[e],this},t.add=function(e,t){if(te(e)){var n=e.zoneId;this._deltas[n]=e}else{if(!t)return console.error("DeltaSet add delta error, delta is undefined"),this;n=e;if(t.zoneId!==n)return console.error("DeltaSet add delta error, zoneId is not match"),this;this._deltas[n]=t}return this},t.replace=function(e,t){return this.delete(e).add(t.zoneId,t),this},t._call=function(t,n,r){if(te(n))return this._callDeltaFunc(t,n,r);if(ne(n)){var i=new e(this.deltas);return n.forEach((function(e){i=i._callDeltaFunc(t,e,r)})),i}throw Error("DeltaSet call: data: "+n+" is not Delta or DeltaSet")},t._callDeltaFunc=function(t,n,r){var i=Object.assign({keepEmptyAttributes:!0,immutable:!0},r),o=n.zoneId,a=i.immutable?S({},this.deltas):this.deltas;if(this.deltas[o])a[o]=this.deltas[o][t](n,i.keepEmptyAttributes);else{var l=n.zoneType;a[o]=n.create({zoneId:o,zoneType:l})[t](n,i.keepEmptyAttributes)}return new e(a,!0)},t.reduce=function(e,t){var n=this;return Object.keys(this._deltas).map((function(e){return n._deltas[e]})).reduce(e,t)},t.forEach=function(e){var t,n;try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(this._deltas)),i=r.next();!i.done;i=r.next()){var o=T(i.value,2),a=o[0];e(o[1],a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e}();function ee(e){return e.insert===z&&e.attributes&&e.attributes.lmkr}function te(e){return Object.values(M).includes(e.zoneType)}function ne(e){return void 0!==e.deltas}function re(e){var t;return!e||0===(null===(t=null==e?void 0:e.ops)||void 0===t?void 0:t.length)}var ie=function(){function e(){this.ops=[]}var t=e.prototype;return e.registerCreator=function(t,n){e.creators.set(t,n)},e.getCreator=function(t){return e.creators.get(t)},t.insert=function(e,t,n){if(void 0===n&&(n=!0),"string"==typeof e&&0===e.length)return this;var r={insert:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=N(t,n)),this.push(r)},t.delete=function(e){return e<=0?this:this.push({delete:e})},t.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=N(t)),this.push(n)},t.forEach=function(e){this.ops.forEach(e)},t.eachLine=function(e,t){void 0===t&&(t=D);for(var n=U(this.ops),r=0,i={},o=[];n.hasNext();){if(n.peekType()!==x.INSERT)return;var a=n.peek();ee(a)&&(i=a.attributes||{});var l=K(a)-n.peekLength(),s="string"==typeof a.insert?a.insert.indexOf(t,l)-l:-1;if(s<0)o.push(n.next());else{if(o.push(n.next(s+1)),!1===e(this.create({zoneId:this.zoneId,ops:o}),i,r))return;o=[],i={},r+=1}}var u=this.create({zoneId:this.zoneId,ops:o});u.length()>0&&e(u,i,r)},t.push=function(e){if(Y(e)&&e.delete<=0)return console.warn("delete op is wrong"),this;if(G(e)&&e.retain<=0)return console.warn("retain op is wrong"),this;if(Q(e)&&0===e.insert.length)return console.warn("insert op is wrong"),this;var t=this.ops.length,n=this.ops[t-1];if(e=function(e){var t=S({},e);return e.attributes&&(t.attributes=S({},e.attributes)),t}(e),"object"==typeof n){if(Y(e)&&Y(n))return this.ops[t-1]={delete:n.delete+e.delete},this;if(Z(e.attributes,n.attributes)){if(Q(e)&&Q(n))return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if(G(e)&&G(n))return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},t.compose=function(e,t){if(void 0===t&&(t=!0),!1===t){var n=e.zoneId,r=e.zoneType;e=e.reduce((function(e,n){return n.insert&&n.attributes&&(n.attributes=N(n.attributes,t)),e.push(n),e}),this.create({zoneId:n,zoneType:r}))}var i=U(this.ops),o=U(e.ops),a=[],l=o.peek();if(null!=l&&G(l)&&null==l.attributes){for(var s=l.retain;i.peekType()===x.INSERT&&i.peekLength()<=s;)s-=i.peekLength(),a.push(i.next());l.retain-s>0&&o.next(l.retain-s)}for(var u=this.create({zoneId:this.zoneId,zoneType:this.zoneType,ops:a});i.hasNext()||o.hasNext();)if(o.peekType()===x.INSERT)u.push(o.next());else if(i.peekType()===x.DELETE)u.push(i.next());else{var c=Math.min(i.peekLength(),o.peekLength()),d=i.next(c),f=o.next(c);if(Y(f)&&Q(d));else if(Y(f)&&G(d))u.push(f);else if(G(f)){var h={};G(d)?h.retain=c:h.insert=d.insert;var p=A(d.attributes,f.attributes,t);if(p&&(h.attributes=p),u.push(h),!o.hasNext()&&Z(u.ops[u.ops.length-1],h)){var g=this.create({zoneId:this.zoneId,zoneType:this.zoneType,ops:i.rest()});return u.concat(g).chop()}}}return u.chop()},t.concat=function(e){var t=this.create({zoneId:this.zoneId,zoneType:this.zoneType,ops:this.ops.slice()});return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},t.length=function(){return this.reduce((function(e,t){return e+K(t)}),0)},t.reduce=function(e,t){return this.ops.reduce(e,t)},t.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.transform=function(e,t){if(void 0===t&&(t=!1),t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=e,r=U(this.ops),i=U(n.ops),o=this.create({zoneId:this.zoneId,zoneType:this.zoneType});r.hasNext()||i.hasNext();)if(r.peekType()!==x.INSERT||!t&&i.peekType()===x.INSERT)if(i.peekType()===x.INSERT)o.push(i.next());else{var a=Math.min(r.peekLength(),i.peekLength()),l=r.next(a),s=i.next(a);if(Y(l))continue;Y(s)?o.push(s):o.retain(a,L(l.attributes,s.attributes,t))}else o.retain(K(r.next()));return o.chop()},t.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=U(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},t.slice=function(e,t){void 0===e&&(e=0),void 0===t&&(t=1/0);for(var n=[],r=U(this.ops),i=0;i<t&&r.hasNext();){var o=void 0;i<e?o=r.next(e-i):(o=r.next(t-i),n.push(o)),i+=K(o)}return this.create({zoneId:this.zoneId,zoneType:this.zoneType,ops:n})},t.invert=function(e){var t=this.create({zoneId:this.zoneId,zoneType:this.zoneType});return this.reduce((function(n,r){if(V(r))t.delete(K(r));else{if(G(r)&&!r.attributes)return t.retain(r.retain),n+r.retain;if(Y(r)||G(r)&&r.attributes){var i=r.delete||r.retain;return e.slice(n,n+i).forEach((function(e){Y(r)?t.push(e):G(r)&&r.attributes&&t.retain(K(e),function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=e||{};var n=Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n}),{});return Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=""),n}),n)}(r.attributes,e.attributes))})),n+i}}return n}),0),t.chop()},e.creators=new Map,e}();function oe(e){var t=ie.getCreator(e.zoneType);return t||console.error("DeltaCreator undefiend",e.zoneType),new t(e)}var ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}E(t,e);var n=t.prototype;return n.create=function(e){return e.zoneType=e.zoneType||this.zoneType,new t(e)},n.insert=function(t,n,r){return void 0===r&&(r=!0),e.prototype.insert.call(this,t,n,!1)},n.insertLineMarker=function(e){void 0===e&&(e={});var t=Object.assign({lmkr:1},e);return this.insert(z,t),this},n.insertEnterAndLineMarker=function(e){this.insert(D,e&&e.enterAttributes?e.enterAttributes:{});var t=Object.assign({lmkr:1},e&&e.lineAttributes?e.lineAttributes:{});return this.insert(z,t),this},t}(function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.ops=[];var r=t.zoneId,i=t.ops;return n.zoneId=r||"0",n.zoneType=M.Content,i&&i.length>0&&(n.ops=i),n}E(t,e);var n=t.prototype;return n.create=function(e){return e.zoneType=e.zoneType||this.zoneType,new t(e)},n.insertEnter=function(e){return void 0===e&&(e={}),this.insert(D,e),this},n.insertEnterAndLineMarker=function(e){return this},n.insertLineMarker=function(e){return this},t}(ie));ie.registerCreator(M.Content,ae);var le="rs",se="cs";function ue(e){return 0===e.indexOf(le)&&34===e.length}function ce(e){return Boolean(e.insert===z&&e.attributes&&e.attributes.lmkr)}function de(e){return"object"==typeof e.insert&&e.insert.id}var fe="0";function he(e,t){return e.reduce((function(e,n){var r=t(n);return e[r]||(e[r]=[]),e[r].push(n),e}),{})}var pe,ge="data-zero-space",ve="​",me="data-inline-wrapper",be="data-leaf",ye="data-node",we="data-string",Ie="data-enter",Ce="editor-kit",ke="data-ssr",Ee="data-fake-text",xe="data-zone-id",Me="data-zone-container",Se=ve,Te="data-void",Ae="data-rect-container";!function(e){e[e.BackSpace=8]="BackSpace",e[e.Tab=9]="Tab",e[e.Clear=12]="Clear",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.CapsLock=20]="CapsLock",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit9=57]="Digit9",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.Meta=91]="Meta",e[e.RightMeta=92]="RightMeta",e[e.BracketRightKeyDown=93]="BracketRightKeyDown",e[e.Caret=94]="Caret",e[e.Numpad0=96]="Numpad0",e[e.Numpad9=105]="Numpad9",e[e.NumpadDot=110]="NumpadDot",e[e.F11=122]="F11",e[e.Semicolon=186]="Semicolon",e[e.Plus=187]="Plus",e[e.Minus=189]="Minus",e[e.Dot=190]="Dot",e[e.Grave=192]="Grave",e[e.Bracket=219]="Bracket",e[e.Quot=222]="Quot",e[e.Asterisk=106]="Asterisk",e[e.Slash=111]="Slash",e[e["/"]=191]="/",e[e["\\"]=220]="\\",e[e.Ime=229]="Ime"}(pe=pe||{});var Ne,Le="ignore-collect",De="editor-kit-container",ze="zone-container",Oe="outer-controlled-zone";function Re(e,t,n){if(void 0===n&&(n={}),!e)throw"object"==typeof n&&Object.keys(n).length&&(n=Object.entries(n).map((function(e){return(e=w(e,2))[0]+": "+e[1]})).join(", "),console.log("[oops debug]: "+n)),new Error("Failed assertion: "+t)}function _e(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Pe(){for(var e=[],t=0;t<arguments.length;t++)e.concat(je(arguments[t]));return e}function Be(e){var t,n,r=[];try{for(var i=_e(Object.entries(e)),o=i.next();!o.done;o=i.next()){var a=je(o.value,2),l=a[0],s=a[1];r.push([l,s])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Fe(e,t,n){var r=null==n?void 0:n.value;return"function"!=typeof r&&console.error("Only methods can be decorated with @Bind. <"+t+"> is not a method!"),{configurable:!0,get:function(){if(this===e.prototype||this.hasOwnProperty(t)||"function"!=typeof r)return r;var n=r.bind(this);return Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),n}}}function He(e){var t;throw null!==(t=e.e)&&void 0!==t?t:new Error(e.message)}!function(e){e[e.FATAL=0]="FATAL",e[e.ERROR=1]="ERROR"}(Ne=Ne||{});var Ze,We=function(){function e(){this.handleError=He,this.numToAttrib={},this.attribToNum={},this.nextNum=0,this.dirty=!1}var t=e.prototype;return t.putAttrib=function(e,t){var n=[String(e[0]||""),String(e[1]||"")];return(e=String(n))in this.attribToNum?this.attribToNum[e]:t?-1:(t=this.nextNum++,this.attribToNum[e]=t,this.numToAttrib[t]=n,this.dirty=!0,t)},t.getAttrib=function(e){return(e=this.numToAttrib[e])&&[e[0],e[1]]},t.updateAttrib=function(e,t){var n,r=this.getAttrib(e);r&&(n=String(r),r=String(t),null!=this.attribToNum[n]&&delete this.attribToNum[n],this.attribToNum[r]=e,this.numToAttrib[e]=t)},t.getAttribKey=function(e){return(e=this.numToAttrib[e])?e[0]:""},t.getAttribValue=function(e){return(e=this.numToAttrib[e])?e[1]:""},t.getAttribNum=function(e){return"string"!=typeof e&&(e=String(e)),this.attribToNum[e]},t.eachAttrib=function(e){for(var t in this.numToAttrib)this.numToAttrib.hasOwnProperty(t)&&e((t=this.numToAttrib[t])[0],t[1])},t.toJsonable=function(){var e,t,n={};for(e in this.numToAttrib)this.numToAttrib.hasOwnProperty(e)&&(t=this.numToAttrib[e],n[e]=[t[0],t[1]]);return{numToAttrib:n,nextNum:this.nextNum}},t.fromJsonable=function(e){for(var t in this.numToAttrib={},this.nextNum=e.nextNum,this.attribToNum={},e.numToAttrib){var n;e.numToAttrib.hasOwnProperty(t)&&(n=e.numToAttrib[t],this.attribToNum[String(n)]=Number(t),this.numToAttrib[t]=[n[0],n[1]])}try{this.checkConsistent()}catch(e){this.handleError({e,message:"[attribute-pool][fromJsonable] check consistent fail",level:Ne.FATAL})}return this.dirty=!0,this},t.toJsonableNoCloning=function(){return{numToAttrib:this.numToAttrib,nextNum:this.nextNum}},t.fromJsonableNoCloning=function(e){for(var t in this.numToAttrib=e.numToAttrib,this.nextNum=e.nextNum,this.attribToNum={},this.numToAttrib)this.numToAttrib.hasOwnProperty(t)&&(this.attribToNum[String(this.numToAttrib[t])]=Number(t));try{this.checkConsistent()}catch(e){this.handleError({e,message:"[attribute-pool][fromJsonableNoCloning] check consistent fail",level:Ne.FATAL})}return this},t.copy=function(){var t,n,r,i=new e;for(t in this.numToAttrib)this.numToAttrib.hasOwnProperty(t)&&(n=this.numToAttrib[t],i.numToAttrib[t]=[n[0],n[1]]);for(r in this.attribToNum)this.attribToNum.hasOwnProperty(r)&&(i.attribToNum[r]=this.attribToNum[r]);return i.nextNum=this.nextNum,i},t.checkConsistent=function(){for(var e=0;e<this.nextNum;e++)Re(e in this.numToAttrib,"AttribPool: "+e+" is not in this.numToAttrib");var t,n,r,i={};for(t in this.numToAttrib)this.numToAttrib.hasOwnProperty(t)&&(Re(0<=Number(t)&&Number(t)<this.nextNum,"AttribPool: "+t+" is not in range [0,"+this.nextNum+"]"),n=this.numToAttrib[t],Re("[object Array]"===Object.prototype.toString.call(n),"AttribPool: attrib should be an array"),Re(2===n.length,"AttribPool: attrib length should be 2"),Re("string"==typeof n[0],"AttribPool: key should be string"),Re("string"==typeof n[1],"AttribPool: value should be string"),Re(!(String(n)in i),"AttribPool: attrib was already seen"),i[String(n)]=!0,Re(this.attribToNum[String(n)]===Number(t),"AttribPool: attribToNum does not match"));for(r in this.attribToNum)this.attribToNum.hasOwnProperty(r)&&Re(r in i,"AttribPool: attr was not seen")},t.setAttributes=function(e){var t=this,n=[];e instanceof J?e.forEach((function(e){e.forEach((function(e){e.attributes&&t.setAttributes(e.attributes)}))})):e instanceof Array||(n=Be(e)),n.forEach((function(e){return t.putAttrib(e)}))},t.setOnErrorCb=function(e){this.handleError=e},t.resetOnErrorCb=function(){this.handleError=He},t.clear=function(){this.numToAttrib={},this.attribToNum={},this.nextNum=0,this.dirty=!1},v([Fe],e.prototype,"toJsonable",null),v([Fe],e.prototype,"fromJsonable",null),v([Fe],e.prototype,"checkConsistent",null),e}();function Ue(e){var t,n,r={};try{for(var i=_e(e),o=i.next();!o.done;o=i.next()){var a=o.value;r[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Ke(){return!0}function Ye(){return!1}!function(e){e.inline="inline",e.block="block"}(Ze=Ze||{});var Ge,Ve="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Qe(){var e=[];return e.toMap=function(){return Ue(this)},e}function Xe(e){void 0===e&&(e=20);for(var t="",n=0;n<e;n++){var r=Math.floor(Math.random()*Ve.length);t+=Ve[r]}return t}function qe(e,t,n){var r=(t=e.offsetToPoint(t)).line,i=t.offset,o=(n=e.offsetToPoint(n)).line,a=n.offset,l="";if(r===o)return e.getLine(r).getModelText().slice(i,a);for(var s=r;s<=o;s++){var u=e.getLine(s).getModelText();l+=s===r?u.slice(i):s===o?u.slice(0,a):u}return l}function Je(e,t,n){return t=e.offsetToPoint(t),n=e.offsetToPoint(n),e.getEntities({start:t,end:n})}!function(e){e[e.BLOCK=0]="BLOCK",e[e.LMKR=1]="LMKR",e[e.TEXT=2]="TEXT"}(Ge=Ge||{});var $e=function(e,t){return nt(e.attributes,t)?Ge.BLOCK:ce(e)?Ge.LMKR:Ge.TEXT},et=[[Ke,Ke,function(e,t){return!t.startsWith("\n")}],[Ye,Ke,Ye],[function(e){return!e.endsWith("\n")},function(e){return!e.endsWith("\n")},Ye]];function tt(e,t,n,r,i){var o=e.ops[n],a=e.ops[t];if(a){var l=q(a);return l===x.INSERT?(0,et[$e(a,i)][$e(o,i)])(a.insert,o.insert):l!==x.RETAIN?tt(e,t-1,n,r,i):(t=w(Je(r,(e=e.ops.slice(0,t+1).filter((function(e){return q(e)!==x.INSERT})).reduce((function(e,t){return e+K(t)}),0))-1,e),1)[0],e=qe(r,e-1,e),t=$e({insert:e,attributes:t.attributes},i),(0,et[t][$e(o,i)])(e,o.insert))}return!1}function nt(e,t){return void 0===e&&(e={}),Object.keys(e).some((function(n){var r=null===(r=t.get(n))||void 0===r?void 0:r.display;return"string"==typeof r?r===Ze.block:"function"==typeof r&&r(e[n])===Ze.block}))}function rt(e,t,n,r,i){var o=e.ops[t],a=e.ops[n];if(!a){if(!r)return!1;var l=w(Je(r,u=e.ops.slice().filter((function(e){return q(e)!==x.INSERT})).reduce((function(e,t){return e+K(t)}),0),u+1),1)[0],s=qe(r,u,u+1),u=$e({insert:s,attributes:l.attributes},i);return(0,et[$e(o,i)][u])(o.insert,s)}if((l=q(a))===x.INSERT)return(0,et[$e(o,i)][$e(a,i)])(o.insert,a.insert);if(l!==x.RETAIN)return l===x.DELETE&&rt(e,t,n+1,r,i);n=w(Je(r,e=e.ops.slice(0,n).filter((function(e){return q(e)!==x.INSERT})).reduce((function(e,t){return e+K(t)}),0),e+1),1)[0],s=qe(r,e,e+1),u=$e({insert:s,attributes:n.attributes},i);return(0,et[$e(o,i)][u])(o.insert,s)}function it(e,t,n,r,i){var o=e.ops[t],a=e.ops[n];if(!o.attributes||!nt(o.attributes,i))return function(e,t,n,r){for(var i=!1,o=t+1;o<e.ops.length;){var a=q(e.ops[o]);if(a===x.INSERT)return!1;if(a===x.RETAIN)break;a===x.DELETE&&(i=!0),o++}if(!i)return!1;var l=e.ops.slice(0,t+1).filter((function(e){return q(e)!==x.INSERT})).reduce((function(e,t){return K(t)+e}),0),s=w(Je(n,l-1,l),1)[0],u=nt(s.attributes,r),c=e.ops.slice(0,o).filter((function(e){return q(e)!==x.INSERT})).reduce((function(e,t){return K(t)+e}),0);r=nt((t=w(Je(n,c,c+1),1)[0]).attributes,r);return u?!qe(n,c,c+1).startsWith("\n"):r?!s.attributes.lmkr&&!qe(n,l-1,l).endsWith("\n"):!(!s.attributes.lmkr||!t.attributes.lmkr)}(e,t,r,i);if(!a)return"\n"!==qe(r,l=e.ops.filter((function(e){return q(e)!==x.INSERT})).reduce((function(e,t){return e+K(t)}),0),l+1);if((o=q(a))!==x.INSERT)return o!==x.RETAIN?it(e,t,n+1,r,i):"\n"!==qe(r,l=e.ops.slice(0,n).filter((function(e){return q(e)!==x.INSERT})).reduce((function(e,t){return e+K(t)}),0),l+1);var l;a=a.insert.startsWith("\n"),t=qe(r,(t=e.ops.slice(0,t+1).filter((function(e){return q(e)!==x.INSERT})).reduce((function(e,t){return e+K(t)}),0))-1,t).endsWith("\n");return!a&&!t}function ot(e,t,n){return n.reduce((function(n,r){if(!(r instanceof ae))return n.concat(r);var i=e.getZoneState(r.zoneId);if(!i&&r.ops.some((function(e){return!e.insert})))throw new Error("attempt to apply new ZoneDelta which is invalid");var o=!1,a=r.reduce((function(e,n,a){var l=q(n);return l===x.DELETE?(e.push(n),e):l===x.RETAIN?(o=!1,function(e,t,n,r,i){var o=e.ops[n];if(!o.attributes||!nt(o.attributes,i))return!1;if(!(t=function(e){return e.ops[e.ops.length-1]}(t)))return!1;if(q(t)===x.INSERT)return!t.insert.endsWith("\n");for(var a=e.ops.slice(0,n).filter((function(e){return q(e)!==x.INSERT}));a[a.length-1]&&q(a[a.length-1])===x.DELETE;)a.pop();return 0!==a.length&&"\n"!==qe(r,(n=a.reduce((function(e,t){return e+K(t)}),0))-1,n)&&!w(Je(r,n-1,n),1)[0].attributes.lmkr}(r,e,a,i,t)&&e.insertEnter(),e.push(n),it(r,a,a+1,i,t)&&e.insertEnter(),e):(!o&&tt(r,a-1,a,i,t)&&e.insertEnter(),e.push(n),(a=rt(r,a,a+1,i,t))&&e.insertEnter(),o=a,e)}),r.create({zoneId:r.zoneId}));return n.concat(a)}),new J)}function at(e,t,n,r){var i=Object.keys(e).reduce((function(i,o){return o===t||function(t,r){if(r instanceof RegExp){if(t.match(r))return!0}else if(r(t,e[t],n))return!0;return!1}(o,r)?i[o]=e[o]:i[o]="",i}),{});return e.lmkr&&(i.lmkr=e.lmkr),i}function lt(e,t){var n=g({},e);return Object.keys(e).forEach((function(r){e[r]&&!t[r]&&delete n[r]})),n}function st(e,t){if(t)return Object.keys(t).filter((function(e){return t[e]})).find((function(t){var n;return(null===(n=e.get(t))||void 0===n?void 0:n.attributes)||(null===(t=e.get(t))||void 0===t?void 0:t.lineAttributes)}))}function ut(e,t,n){if(t>=e.ops.length)throw new Error("getOpOffsetInDocumentWithCache index overstep");for(var r=t,i=0;0<=r;){if(n.has(r)){i+=n.get(r);break}var o=e.ops[r];q(o)!==x.INSERT&&(i+=K(o)),r--}return i}function ct(e,t,n){return n.reduce((function(n,r){if(!(r instanceof ae))return n.concat(r);var i=e.getZoneState(r.zoneId);if(!i&&r.ops.some((function(e){return!e.insert})))throw new Error("attempt to apply new ZoneDelta which is invalid");var o=new Map,a=r.reduce((function(e,n,a){var l=q(n);if(l===x.DELETE||!n.attributes)return e.push(n);var s,u,c=ut(r,a-1,o);if(o.set(a-1,c),l===x.RETAIN&&(s=c+K(n),(u=function(e,t,n){for(var r,i,o=[],a=e.offsetToPoint(t).line,l=e.getLine(a)._offsetStart,s=a;s<e.length();s++){var u=e.getLine(s).getOps();try{for(var c=(r=void 0,y(u)),d=c.next();!d.done;d=c.next()){var f,h,p=d.value,g=K(p);if(n<=l)return o;l<=n&&t<l+g&&(f=Math.max(t-l,0),h=Math.min(g,n-l),o.push({insert:p.insert.slice(f,h),attributes:p.attributes})),l+=g}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return o}(i,c,s)).forEach((function(l,c){var d,f,h=g(g({},l.attributes),n.attributes),p=st(t,h);if(p&&l.attributes&&null!==(d=t.get(p))&&void 0!==d&&d.attributes&&(C=t.get(p).attributes,h=at(h,p,l.attributes[p],C)),null!=h&&h.lmkr){var v=void 0;if(c<u.length-1)v=u[c+1].attributes;else{for(var m=!1,b=a+1;b<r.ops.length;){var y=r.ops[b];if(q(y)!==x.DELETE){var I;m=!0;v=q(y)===x.INSERT?y.attributes:(I=ut(r,a,o),o.set(a,I),I=w(Je(i,I,I+1),1)[0],g(g({},I.attributes),y.attributes));break}b++}m||(v=w(Je(i,s,s+1),1)[0].attributes)}var C=st(t,v);return C?((k=t.get(C).lineAttributes)&&(h=at(h,C,v[C],k)),e.retain(l.insert.length,lt(n.attributes,h))):e.retain(l.insert.length,lt(n.attributes,h))}if(p){var k=t.get(p).lineAttributes;if(0<=c)return e.retain(l.insert.length,lt(n.attributes,h));for(var E=e.ops.length-1,M=void 0;0<=E;){var S=q(e.ops[E]);if(S!==x.DELETE){M=S;break}E++}return E<0||(c=e.ops[E],M===x.INSERT&&null!==(f=c.attributes)&&void 0!==f&&f.lmkr?k&&(e.ops[E]={insert:c.insert,attributes:at(c.attributes,p,l.attributes[p],k)}):M===x.RETAIN&&c.attributes),e.retain(l.insert.length,lt(n.attributes,h))}return e.retain(l.insert.length,lt(n.attributes,h))}))),l!==x.INSERT)return e;var d=n.attributes,f=st(t,d);if(f&&null!==(h=t.get(f))&&void 0!==h&&h.attributes&&(d=at(d,f,d[f],t.get(f).attributes)),n.attributes.lmkr){for(var h,p=void 0,v=!1,m=a+1;m<r.ops.length;){var b=r.ops[m];if(q(b)!==x.DELETE){v=!0,p=b.attributes;break}m++}v?((h=q(l=r.ops[m]))===x.INSERT&&l.attributes&&(p=l.attributes),h===x.RETAIN&&!l.attributes&&i&&(p=(k=w(Je(i,c,c+1),1)[0]).attributes)):i&&(p=(k=w(Je(i,c,c+1),1)[0]).attributes),!p||(C=st(t,p))&&(E=t.get(C).lineAttributes)&&(d=at(d,C,p[C],E))}else if(f){for(var C,k,E=t.get(f).lineAttributes,M=e.ops.slice(),S=M.length-1;0<=S;){var T=M[S],A=q(T);if(A===x.RETAIN)break;if(A===x.INSERT&&T.insert&&T.insert.includes("\n")){S=-1;break}S--}0<=S&&!M[S].attributes&&E&&i&&(T=M[S],C=M.slice(0,S+1).filter((function(e){return q(e)!==x.INSERT})).reduce((function(e,t){return e+K(t)}),0),(k=w(Je(i,C-1,C),1)[0]).attributes.lmkr&&(f=at(k.attributes,f,n.attributes[f],E),E=1<T.retain?[{retain:T.retain-1},{retain:1,attributes:f}]:[{retain:1,attributes:f}],(f=e.ops).splice.apply(f,I([S,1],E))))}return e.insert(n.insert,d)}),new ae({zoneId:r.zoneId}));return n.concat(a)}),new J)}var dt,ft=function(){function e(e){this.schemas=e}return e.prototype.get=function(e){var t,n;try{for(var r=y(Object.keys(this.schemas)),i=r.next();!i.done;i=r.next()){var o=i.value;if(new RegExp(o).test(e))return this.schemas[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e}(),ht=function(){function e(){this.runtimeStack=[]}var t=e.prototype;return Object.defineProperty(t,"atRuntime",{get:function(){return!!this.runtimeStack.length},enumerable:!1,configurable:!0}),Object.defineProperty(t,"atDeepRuntime",{get:function(){return 1<this.runtimeStack.length},enumerable:!1,configurable:!0}),Object.defineProperty(t,"currentRuntime",{get:function(){return this.runtimeStack[this.runtimeStack.length-1]},enumerable:!1,configurable:!0}),t.start=function(e){var t=Xe(6);this.runtimeStack.push({id:t,type:e})},t.stop=function(){return this.runtimeStack.pop()},e}(),pt=function(){function e(e){var n=this,r=e.deltaSet,i=e.schema;e=e.modulesContainer;this.content=new Map,this._changeCbk=function(){},this.activeZoneId=fe,this.storeAttributes={},this._getInternalZoneEntities=function(e,t,n){return[]},this.contentApplyRuntime=new ht,this.schema=null!=i?i:new ft({}),this._attributes=new We,this.modulesContainer=e,null!=r&&r.forEach((function(e){var r=n.modulesContainer.get(t.ZoneState);n.content.set(e.zoneId,new r(e.zoneId,e)),e.forEach((function(e){e.attributes&&n._attributes.setAttributes(e.attributes)}))}))}var n=e.prototype;return n.create=function(t){return new e(t)},n.getContent=function(){return this.content},n.setActiveZone=function(e){this.getZoneState(e)&&(this.activeZoneId=e)},n.getActiveZone=function(){return this.getZoneState(this.activeZoneId)},n[Symbol.iterator]=function(){return this.content.values()},n.getEntities=function(e,t){var n=[];if(e instanceof Array){var r=this.getZoneState(fe);n.push.apply(n,I(r.getEntities(e,t,this._getInternalZoneEntities)))}else{e instanceof Function&&(t=e,e={start:{line:0,offset:0,zoneId:"0"},end:{line:i=(r=this.getZoneState(fe)).length()-1,offset:r.getLine(i).length(),zoneId:"0"}});var i=e.start.zoneId;if(!(i=this.getZoneState(i)))return[];n.push.apply(n,I(i.getEntities(e,t,this._getInternalZoneEntities)))}return n},n._logIfInvalidDelta=function(e){try{throw new Error("invalid delta")}catch(t){console.log(e,t.stack)}},n.apply=function(e,t){return e=this.applyToContentState(e,t=void 0===t?{}:t),this.triggerChangeCbk(g(g({},e),{options:t}))},n.applyToContentState=function(e,t){var n,r=this;void 0===t&&(t={}),this._willApplyCbk&&this._willApplyCbk(),this.contentApplyRuntime.start(t.type||"editEvent");e=ne(e)?e:new J(((i={})[e.zoneId]=e,i));var i=this._clone(!1,e);if(e.forEach((function(e){e.forEach((function(e){"string"==typeof e.insert&&e.insert.includes(ve)&&r._logIfInvalidDelta("invalid delta: insert a zero space")}))})),t.isRemote||!1===t.normalize||(e=function(e,t,n){return ct(e,t,ot(e,t,n))}(this,this.schema,e)),this._willChangeCbk)try{e=this._willChangeCbk({current:this,next:this,deltaSet:e,options:t})}catch(e){null!==(n=this._errorCbk)&&void 0!==n&&n.call(this,{e,message:"[contentState][apply] call _willChangeCbk error",level:p.ERROR})}var o={};try{e.forEach((function(e){var t,n=e.zoneId,i=r.getZoneState(n);i?(t=i.apply(e,(function(e,t,i){var a={start:e,deletes:t,inserts:i};o[n]?o[n].push(a):o[n]=[a],function(e){return!e.some((function(e){return e._getOps().map((function(e){return"string"==typeof e.insert?e.insert:" "})).join("")!==e.getModelText()}))}(i)?r._onZoneMutate(n,e,t,i):null!==(t=r._errorCbk)&&void 0!==t&&t.call(r,{message:"[contentState][apply] 数据异常: "+i,level:p.FATAL})})),r.content.set(n,t),e instanceof ae&&r._followInlineStyleOverride(e)):(i=r.addZone(n,e),o[n]=[{start:0,deletes:[],inserts:i.lines}])}))}catch(e){null!==(n=this._errorCbk)&&void 0!==n&&n.call(this,{message:"[contentState][apply] error",level:p.FATAL,e})}return{changes:this._fixChanges(o),previous:i,deltaSet:e}},n.triggerChangeCbk=function(e){var t=e.changes,n=e.previous,r=e.deltaSet;e=e.options;try{this._changeCbk&&this._changeCbk({previous:n,current:this,deltaSet:r,changes:t,options:e})}catch(t){null!==(e=this._errorCbk)&&void 0!==e&&e.call(this,{e:t,message:"[contentState][apply] call _changeCbk error",level:p.ERROR})}return this.contentApplyRuntime.stop()},n._fixChanges=function(e){var t,n,r={};try{for(var i=y(Object.keys(e)),o=i.next();!o.done;o=i.next())!function(t){var n=e[t],i=0;r[t]=n.map((function(e){var t=e.start,n=e.deletes;e=e.inserts,t={start:t+i,deletes:n,inserts:e};return i+=n.length-e.length,t}))}(o.value)}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},n._onZoneMutate=function(e,t,n,r){this._onMutateCbk&&this._onMutateCbk(e,t,n,r)},n._clone=function(e,t){var n,r,i=this,o=new Map;if(e||!t)try{for(var a=y(this.content),l=a.next();!l.done;l=a.next()){var s=w(l.value,2),u=s[0],c=s[1];o.set(u,c.clone())}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}else o=new Map(this.content),t.forEach((function(e,t){var n=i.content.get(t);n&&o.set(t,n.clone())}));return e=e?this._attributes.toJsonable():this._attributes,(e=this.create({apool:e,schema:this.schema,modulesContainer:this.modulesContainer})).content=o,e._changeCbk=this._changeCbk,e._willChangeCbk=this._willChangeCbk,e},n.onChange=function(e){this._changeCbk=e},n.onWillChange=function(e){this._willChangeCbk=e},n._onMutate=function(e){this._onMutateCbk=e},n._onRefresh=function(e){this._refreshCbk=e},n._onError=function(e){this._errorCbk=e,this._attributes.setOnErrorCb(e)},n._onWillApply=function(e){this._willApplyCbk=e},n.getAttributes=function(e,t){var n=e.zoneId;return(n=this.getZoneState(n))?n.getAttributes(e,t):Qe()},n.getLineAttributes=function(e,t){return(t=null===(e=this.getZoneState(e))||void 0===e?void 0:e.getLine(t))?t.getLineAttributes():Qe()},n.getZoneState=function(e){return this.content.get(e)},n._dangerouslyReplaceAttribute=function(e,t,n,r){var i,o,a,l;try{for(var s=y(this),u=s.next();!u.done;u=s.next()){var c=u.value;try{for(var d=(a=void 0,y(c)),f=d.next();!f.done;f=d.next())f.value._getDelta().forEach((function(i){var o;(null===(o=i.attributes)||void 0===o?void 0:o[e])===t&&(delete i.attributes[e],i.attributes[n]=r)}))}catch(o){a={error:o}}finally{try{f&&!f.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}}}catch(o){i={error:o}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},n.setAttributes=function(e,t,n){var r,i,o,a,l,s,u;void 0===n&&(n={internalZonesIncluded:!0});var c=(h=e.start).zoneId,d=h.offset,f=h.line,h=(m=e.end).zoneId,v=m.offset,m=m.line;if(c===h){var b=this.rangeToPosition(e);if(null!==b)if(d!==v||f!==m){if(0!==b.len){var I,C={},k=this.getEntities(e),E=he(k,(function(e){return e.start.zoneId}));for(I in E)if((n.internalZonesIncluded||c===I)&&E.hasOwnProperty(I)){var x=new ae({zoneId:I}),M=E[I];I===c&&x.retain(b.start);try{for(var S=(a=void 0,y(M.entries())),T=S.next();!T.done;T=S.next()){var A,N,L,D=w(T.value,2),z=D[0],O=D[1];(null===(u=O.attributes)||void 0===u||!u.lmkr||n.withLineMarker)&&("\n"!==O.text||n.withEnter)?(A=O.text.endsWith("\n")&&!n.withEnter?1:0,N=O.start.offset,L=O.end.offset,0===z&&(N=d),z===k.length-1&&0!==v&&(A=v===O.end.offset?A:0,L=v),x.retain(L-N-A,t).retain(A)):x.retain(1)}}catch(e){a={error:e}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(a)throw a.error}}C[I]=x}return e=new J(C),this.apply(e,g({type:"setAttributes"},n))}try{for(var R=y(Object.entries(t)),_=R.next();!_.done;_=R.next()){var j=w(_.value,2),P=j[0],B=j[1];this._setInlineStyleOverride(b,P,B)}}catch(e){i={error:e}}finally{try{_&&!_.done&&(o=R.return)&&o.call(R)}finally{if(i)throw i.error}}}else try{for(var F=y(Object.keys(t)),H=F.next();!H.done;H=F.next()){var Z=H.value;this._setInlineStyleOverride(b,Z,t[Z])}}catch(e){s={error:e}}finally{try{H&&!H.done&&(r=F.return)&&r.call(F)}finally{if(s)throw s.error}}}else null!==(s=this._errorCbk)&&void 0!==s&&s.call(this,{message:"[ContentState][setAttributes] start zoneId: "+c+" not equal to end zoneId: "+h,level:p.ERROR})},n.setLineAttributes=function(e,t,n,r){void 0===r&&(r={});var i=null===(i=this.content.get(e))||void 0===i?void 0:i.getLine(t);if(i&&null!==(t=this.rangePointToOffset({line:t,offset:0,zoneId:e})))return(e=new ae({zoneId:e})).retain(t),i.hasLineMarker()?e.retain(1,n):e.insertLineMarker(n),this.apply(e,g({type:"setLineAttributes"},r))},n.hasLineMarker=function(e){var t=e.line;e=e.zoneId;return!(null===(t=null===(e=this.content.get(e))||void 0===e?void 0:e.getLine(t))||void 0===t||!t.hasLineMarker())},n.isLineStart=function(e){return this.hasLineMarker(e)?1===e.offset:0===e.offset},n.deleteText=function(e,t){void 0===t&&(t={});var n=this.rangeToPosition(e);if(null!==n){var r=n.start,i=n.len,o=n.zoneId;if(e=this.getZoneState(o))return n=e.getContent().length(),e=i,n-1<=r+i&&(e=n-r-1,console.warn("auto correct when delete too many texts",i,n)),e=new ae({zoneId:o}).retain(r).delete(e),this.apply(e,g({type:"deleteText"},t))}},n.getInsertTextDelta=function(e,t,n,r){return void 0===r&&(r={}),new ae({zoneId:e.zoneId}).retain(t).insert(n,r)},n.insertText=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={});var i=this.rangePointToOffset(e);if(null!==i)return n=this.getInsertTextDelta(e,i,t,n),this.apply(n,g({type:"insertText"},r))},n.getReplaceTextDelta=function(e){var t=e.pos,n=e.text,r=e.attributes,i=t.start;e=t.len,t=t.zoneId;return new ae({zoneId:t}).retain(i).delete(e).insert(n,r)},n.replaceText=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={});var i=this.rangeToPosition(e);if(null!==i)return n=this.getReplaceTextDelta({sel:e,pos:i,text:t,attributes:n}),this.apply(n,g({type:"replaceText"},r))},n.rangeToPosition=function(e){var t=e.start,n=e.end;e=this.rangePointToOffset(t),n=this.rangePointToOffset(n);return null===e||null===n?null:{start:e,len:n-e,zoneId:t.zoneId}},n.rangePointToOffset=function(e){var t=e.zoneId,n=e.line;e=e.offset;return(t=this.getZoneState(t))?t.pointToOffset({line:n,offset:e}):null},n._setInlineStyleOverride=function(e,t,n){var r=e.zoneId;e=e.start;(r=this.storeAttributes[r]=this.storeAttributes[r]||{})[e]=r[e]||{},r[e][t]=n},n.getInlineStyleOverride=function(e,t){if(e){var n=e.zoneId,r=e.start;return t?null===(e=null===(e=this.storeAttributes[n])||void 0===e?void 0:e[r])||void 0===e?void 0:e[t]:(null===(n=this.storeAttributes[n])||void 0===n?void 0:n[r])||{}}return this.storeAttributes},n._clearInlineStyleOverride=function(e){var t;e?(t=e.zoneId,e=e.start,this.storeAttributes[t]&&delete this.storeAttributes[t][e]):this.storeAttributes={}},n._followInlineStyleOverride=function(e){var t,n,r,i,o,a,l,s,u,c,d=this.getInlineStyleOverride()[e.zoneId];if(d){var f=0;try{for(var h=y(e.ops),p=h.next();!p.done;p=h.next()){var g=p.value;if(f+=null!==(c=null!==(s=null!==(l=g.retain)&&void 0!==l?l:g.delete)&&void 0!==s?s:null===(u=g.insert)||void 0===u?void 0:u.length)&&void 0!==c?c:0,g.delete)try{for(var v=(r=void 0,y(Object.keys(d))),m=v.next();!m.done;m=v.next()){var b=m.value;(E=Number(b))<=f&&f-g.delete<E&&delete d[b]}}catch(e){r={error:e}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}try{for(var I=y(Object.entries(d)),C=I.next();!C.done;C=I.next()){var k=w(C.value,2),E=k[0],x=k[1],M=e.transform(Number(E));M!==Number(E)&&(d[M]=x,delete d[E])}}catch(e){o={error:e}}finally{try{C&&!C.done&&(a=I.return)&&a.call(I)}finally{if(o)throw o.error}}}},n._forceRefresh=function(e,t){var n=this.getZoneState(e);if(n){for(var r=0;r<t.length;r++){var i=t[r],o=n.getLine(i),a=o.clone();a._refreshKey(),o._node&&(a._node=o._node.cloneNode(!0)),n._splice(i,1,[a])}this._refreshCbk&&this._refreshCbk({zoneId:e,lineArr:t})}},n.toDeltaSet=function(e){var t,n;void 0===e&&(e=!1);var r=new J;try{for(var i=y(this.content.entries()),o=i.next();!o.done;o=i.next()){var a=w(o.value,2),l=a[0],s=a[1];r.add(l,s.getContent(e))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},n.isEmpty=function(){var e=this.getZoneState(fe);return!e||!(1<e.length())&&e.getLine(0).isEmpty()},n.setContent=function(e,t){var n;void 0===t&&(t={});var r=new J,i=e instanceof J?e:new J(((n={})[e.zoneId]=e,n));this.getContent().forEach((function(e,t){var n=e.getType()===M.Content;(a=oe({zoneId:t,zoneType:e.getType()})).delete(e.getModelText().length-(n?1:0));e=a;var o,a=(e=i.get(t)?a.concat(i.get(t)):e).ops.length-1;n&&null!==(o=e.ops[a])&&void 0!==o&&o.insert&&(o=e.ops[a].insert).endsWith("\n")&&(a=e.ops.pop(),(o=o.slice(0,-1))&&e.insert(o,g({},null==a?void 0:a.attributes))),r.add(t,e)})),i.forEach((function(e){r.get(e.zoneId)||r.add(e.zoneId,e)})),this.apply(r,t)},n.clear=function(){this._attributes.clear(),this._clearInlineStyleOverride()},n._clearListener=function(){this._changeCbk=function(){},this._errorCbk=void 0,this._willApplyCbk=void 0,this._willChangeCbk=void 0,this._refreshCbk=void 0,this._onMutateCbk=void 0,this._attributes.resetOnErrorCb()},e}(),gt=function(){function e(e){this.LINE_STATE_TO_ZONE_ID=new Map,this.ZONE_ID_TO_LINE_STATE=new Map,this.ZONE_ID_TO_SCROLL_MODULE=new Map,this.zoneAttrs=[],this.zoneRules=new Map,this.contentState=e,this.registerZoneRule("zoneId",(function(e){return[e]}))}var t=e.prototype;return t.registerScrollModule=function(e,t){this.ZONE_ID_TO_SCROLL_MODULE.set(e,t)},t.getAllScrollModules=function(){return I(this.ZONE_ID_TO_SCROLL_MODULE.values())},t.getScrollModuleByZoneId=function(e){return this.ZONE_ID_TO_SCROLL_MODULE.get(e)},t.removeScrollModule=function(e){this.ZONE_ID_TO_SCROLL_MODULE.delete(e)},Object.defineProperty(t,"zoneIdMap",{get:function(){return this.ZONE_ID_TO_LINE_STATE},enumerable:!1,configurable:!0}),t.init=function(){var e=this;this.contentState.getEntities((function(t){return e.zoneAttrs.includes(t)})).forEach((function(t){var n=t.start,r=t.attributes,i=null===(t=e.contentState.getZoneState(n.zoneId))||void 0===t?void 0:t.getLine(n.line);e.zoneAttrs.forEach((function(t){var n;!r[t]||(n=e.zoneRules.get(t))&&i&&n(r[t]).forEach((function(t){e.update(t,i)}))}))}))},t.registerZoneRule=function(e,t){this.zoneRules.set(e,t),this.zoneAttrs.push(e)},t.update=function(e,t){var n=this.ZONE_ID_TO_LINE_STATE.get(e);!n||n===t||(r=this.LINE_STATE_TO_ZONE_ID.get(n))&&delete r[e];var r=this.LINE_STATE_TO_ZONE_ID.get(t)||{};r[e]=!0,this.LINE_STATE_TO_ZONE_ID.set(t,r),this.ZONE_ID_TO_LINE_STATE.set(e,t),(e=this.contentState.getZoneState(e))&&e._setParent(t)},t.removeZoneId=function(e){var t,n=this.ZONE_ID_TO_LINE_STATE.get(e);!n||(t=this.LINE_STATE_TO_ZONE_ID.get(n))&&(delete t[e],Object.keys(t).length||this.LINE_STATE_TO_ZONE_ID.delete(n)),this.ZONE_ID_TO_LINE_STATE.delete(e)},t.removeLineState=function(e){var t=this;(e=this.LINE_STATE_TO_ZONE_ID.get(e))&&Object.keys(e).forEach((function(e){t.ZONE_ID_TO_LINE_STATE.delete(e)}))},t.updateLineState=function(e,t){var n=this,r=this.LINE_STATE_TO_ZONE_ID.get(e);r&&(this.LINE_STATE_TO_ZONE_ID.delete(e),this.LINE_STATE_TO_ZONE_ID.set(t,r),Object.keys(r).forEach((function(e){(e=n.contentState.getZoneState(e))&&e._setParent(t)})))},t.getZoneIdsByAttributes=function(e){for(var t=0;t<e.length;t++){var n=(r=w(n=e[t],2))[0],r=r[1];if(n=this.zoneRules.get(n))return n(r)}return[]},t._detectZoneChange=function(e){function t(e){return e=e.getAttributes(),r.getZoneIdsByAttributes(e)}var n,r=this,i=[],o=this;for(n in e)!function(n){var a,l;e.hasOwnProperty(n)&&(a=e[n],(l=o.ZONE_ID_TO_LINE_STATE.get(n))&&n!==fe&&t(l).forEach((function(e){r.update(e,l)})),a.forEach((function(e){e.inserts.forEach((function(e){var n=t(e);i.push.apply(i,I(n)),n.forEach((function(t){r.update(t,e)}))}))})))}(n);for(n in e)e.hasOwnProperty(n)&&e[n].forEach((function(e){e.deletes.forEach((function(e){(e=r.LINE_STATE_TO_ZONE_ID.get(e))&&Object.keys(e).forEach((function(e){r.removeZoneId(e)}))}))}))},t.getAncestorZones=function(e){for(var t,n=[e],r=e;r;)(r=null===(t=this.ZONE_ID_TO_LINE_STATE.get(r))||void 0===t?void 0:t.getZoneId())&&n.push(r);return n},e}(),vt=function(e){function n(n){var r=e.call(this,n)||this;return r._getInternalZoneEntities=function(e,t,n){void 0===t&&(t=[]);var i=[];return r._zoneManager.getZoneIdsByAttributes(e).reduce((function(e,i){return e.push.apply(e,I(r._getZoneStateEntities(i,t,n))),e}),i),i},r._getZoneStateEntities=function(e,n,i){var o=r.getZoneState(e),a=[];return o||(o=new ae({zoneId:e}).insertEnter(),o=new(r.modulesContainer.get(t.ZoneState))(e,o)),a.push.apply(a,I(o.getEntities(n,i))),a},r._zoneManager=new gt(r),r}h(n,e);var r=n.prototype;return r.init=function(){this._zoneManager.init()},r.create=function(e){return new n(e)},r.getZoneManager=function(){return this._zoneManager},r._clone=function(t){return(t=e.prototype._clone.call(this,t))._zoneManager.zoneAttrs=Array.from(this._zoneManager.zoneAttrs),t._zoneManager.zoneRules=new Map(this._zoneManager.zoneRules),t},r.addZone=function(e,n,r){var i;return this.content.get(e)?(null!==(i=this._errorCbk)&&void 0!==i&&i.call(this,{message:"[ContentState][addZone] zoneId:"+e+" existed",level:p.ERROR}),null):(n=n||new ae({zoneId:e}).insertEnter(),n=new(this.modulesContainer.get(t.ZoneState))(n.zoneId,n),this.content.set(e,n),r&&this._zoneManager.update(e,r),n)},r.removeZone=function(e){this._zoneManager.removeZoneId(e);var t=this.getZoneState(e);t&&(t=new ae({zoneId:e}).delete(t.totalWidth()-1),this.apply(t),this.content.delete(e))},r.apply=function(e,t){return e=this.applyToContentState(e,t=void 0===t?{}:t),this._zoneManager._detectZoneChange(e.changes),this.triggerChangeCbk(g(g({},e),{options:t}))},r.slice=function(e,t){var r,i=this,o=e.zoneId,a=t.zoneId;if(o!==a)return null!==(r=this._errorCbk)&&void 0!==r&&r.call(this,{message:"[contentState][slice] start zoneId: "+o+" not equal to end zoneId: "+a,level:p.ERROR}),null;if(!(a=this.content.get(o)))return null;var l=new n({apool:this._attributes.toJsonable(),schema:this.schema,modulesContainer:this.modulesContainer});t=a.slice(e,t);return l.content.set(o,t),"0"===o&&t.getEntities([["aceTable",void 0]]).forEach((function(e){e=(t=w(e.attributes.aceTable.split(" "),2))[0];var t=t[1];l.content.set(e,i.getZoneState(e)),l.content.set(t,i.getZoneState(t));t=(e=i._getRowColIds(e,t)).rowIds;var n=e.colIds;t.forEach((function(e){n.forEach((function(t){t="x"+e+"x"+t,l.content.set(t,i.getZoneState(t))}))}))})),l._zoneManager.init(),l},r.getReplaceTextDelta=function(e){var t=e.sel,n=e.pos,r=e.text,i=e.attributes,o=n.start;e=n.len,n=n.zoneId,e=new ae({zoneId:n}).retain(o).delete(e);return this.assertPointAfterLineMarker(t.start),this.addLineMarkerAfterEnter({text:r,attributes:i,delta:e}),e},r.getInsertTextDelta=function(e,t,n,r){return void 0===r&&(r={}),t=new ae({zoneId:e.zoneId}).retain(t),this.assertPointAfterLineMarker(e),this.addLineMarkerAfterEnter({text:n,attributes:r,delta:t}),t},r.addLineMarkerAfterEnter=function(e){var t=e.text,n=e.attributes,r=e.delta,i=t.split(D);return i.forEach((function(e,t){i[t+1]?r.insert(e,n).insertEnter(n).insertLineMarker(n):r.insert(e,n)})),r},r.assertPointAfterLineMarker=function(e){if(this.hasLineMarker(e)&&0===e.offset)throw new Error("Cannot insertText at the offset 0 of line,  because there is a lineMarker")},r._getRowColIds=function(e,t){var n,r,i,o;e=this.getZoneState(e),t=this.getZoneState(t);if(!e||!t)return{rowIds:[],colIds:[]};e=e.getLine(0),t=t.getLine(0);var a=[],l=[];if(!e||!t)return{rowIds:a,colIds:l};try{for(var s=y(e),u=s.next();!u.done;u=s.next()){(f=de(u.value))&&a.push(f)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var c=y(t),d=c.next();!d.done;d=c.next()){var f;(f=de(d.value))&&l.push(f)}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return{rowIds:a,colIds:l}},n}(pt),mt=(n(472),function(){function e(e){var t=e.start,n=e.len,r=void 0===(i=e.zoneId)?fe:i,i=void 0!==(i=e.isBackward)&&i;e=e.editor;this.start=t,this.len=n,this.zoneId=r,this.isBackward=i,this.editor=e,Object.defineProperty(this,"editor",{enumerable:!1})}var n=e.prototype;return e.isPosition=function(t){return t instanceof e},n.toRange=function(e){var n,r=(n=this).editor,i=n.start,o=n.len,a=n.zoneId;e=(n=(e||r.getContentState()).getZoneState(a)).offsetToPoint(i),o=n.offsetToPoint(i+o);return new(this.editor.modulesContainer.get(t.Range))({editor:r,start:g(g({},e),{zoneId:a}),end:g(g({},o),{zoneId:a})})},n.isCollapsed=function(){return 0===this.len},e}()),bt=function(){function e(e){var t=e.line,n=e.offset,r=e.position;e=void 0===(e=e.zoneId)?fe:e;this._position=0,this.line=t,this.offset=n,this.zoneId=e,Object.defineProperty(this,"_position",{enumerable:!1,value:r})}return e.prototype[Symbol.toPrimitive]=function(e){return"number"===e?this._position:JSON.stringify({line:this.line,offset:this.offset,zoneId:this.zoneId})},e}(),yt=function(){function e(e){var t=e.editor,n=e.start,r=e.end,i=void 0!==(i=e.isBackward)&&i;e=e.state;this.editor=t,n=this.createRangePoint(n,!1,e),e=(r=this.createRangePoint(r,!1,e))<n,this.start=e?r:n,this.end=e?n:r,this.isBackward=e||i,Object.defineProperties(this,{editor:{enumerable:!1},_start:{enumerable:!1},_end:{enumerable:!1},start:{enumerable:!0,get:function(){return this._start},set:function(e){this._start=e}},end:{enumerable:!0,get:function(){return this._end},set:function(e){this._end=e}}})}var n=e.prototype;return e.isRange=function(t){return t instanceof e},e.isPointEqual=function(e,t){var n=e.line,r=e.offset,i=e.zoneId,o=t.line;e=t.offset,t=t.zoneId;return n===o&&r===e&&i===t},e.isRangeEqual=function(t,n){var r=t.start,i=t.end;t=n.start,n=n.end;return e.isPointEqual(r,t)&&e.isPointEqual(i,n)},e.isRangesEqual=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++){var i=e[n],o=t[n];if(!o)return!1;if(!this.isRangeEqual(i,o))return!1}return!0},e.isPointLargerThan=function(e,t){var n=e.line,r=e.offset,i=e.zoneId,o=t.line;e=t.offset;return i===t.zoneId&&(o<n||n===o&&e<r)},Object.defineProperty(n,"start",{get:function(){return this._start},set:function(e){this._start=this.createRangePoint(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n,"end",{get:function(){return this._end},set:function(e){this._end=this.createRangePoint(e)},enumerable:!1,configurable:!0}),n.create=function(t){return new e(t)},n.createRangePoint=function(e,t,n){return!(t=void 0!==t&&t)&&e instanceof bt?e:(t=n||this.editor.getContentState(),n=null,"rangePointToOffset"in t?n=t.rangePointToOffset(e):"pointToOffset"in t&&(n=t.pointToOffset(e)),null===n?(this.editor.error({message:"point: "+e+" can't parse to position",level:Ne.ERROR}),new bt(g(g({},e),{position:-1}))):new bt(g(g({},e),{position:n})))},n.toPosition=function(e){var t=e||this.editor.getContentState(),n=null;e=null;return"rangePointToOffset"in t?(n=t.rangePointToOffset(this.start),e=t.rangePointToOffset(this.end)):"pointToOffset"in t&&(n=t.pointToOffset(this.start),e=t.pointToOffset(this.end)),null===n||null===e?(this.editor.error({message:"startOffset: "+n+", endOffset: "+e,level:Ne.ERROR}),new mt({editor:this.editor,start:-1,len:0,zoneId:this.start.zoneId,isBackward:this.isBackward})):new mt({editor:this.editor,start:n,len:e-n,zoneId:this.start.zoneId,isBackward:this.isBackward})},n.isCollapsed=function(){return e.isPointEqual(this.start,this.end)},n.clone=function(e){return new(this.editor.modulesContainer.get(t.Range))({editor:this.editor,start:this.createRangePoint(this.start,!0,e),end:this.createRangePoint(this.end,!0,e),isBackward:this.isBackward})},n.toString=function(){return JSON.stringify(this)},e}(),wt=function(e){function t(n){var r=n.editor,i=n.start,o=n.end,a=void 0!==(l=n.isBackward)&&l,l=(n=i,o);return i.zoneId!==o.zoneId&&(n=(o=t.fixToCommonZone(r,i,o)).start,l=o.end),e.call(this,{editor:r,start:n,end:l,isBackward:a})||this}h(t,e);var n=t.prototype;return t.fixToCommonZone=function(e,t,n){var r=t.zoneId,i=n.zoneId;if(r===i)return{start:t,end:n};var o=e.getContentState().getZoneManager(),a=e.getContentState(),l=(e=o.getAncestorZones(r),o.getAncestorZones(i));return(o=e.find((function(e){return l.includes(e)})))?(o!==r&&(e=e[e.indexOf(o)-1],(e=null===(e=a.getZoneState(e))||void 0===e?void 0:e.parent)&&(t=g(g({},t),{zoneId:o,line:e.index,offset:null!=e&&e.hasLineMarker()?1:0}))),o!==i&&(i=l[l.indexOf(o)-1],(i=null===(i=a.getZoneState(i))||void 0===i?void 0:i.parent)&&(n=g(g({},n),{zoneId:o,line:i.index,offset:i.hasLineMarker()?1:0}))),{start:t,end:n}):{start:g(g({},t),{zoneId:fe}),end:g(g({},n),{zoneId:fe})}},n.clone=function(e){return new t({editor:this.editor,start:this.createRangePoint(this.start,!0,e),end:this.createRangePoint(this.end,!0,e),isBackward:this.isBackward})},t}(yt);function It(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")}!function(e){e[e.EQUAL=0]="EQUAL",e[e.UNEQUAL=1]="UNEQUAL",e[e.UPDATE=2]="UPDATE"}(dt=dt||{});var Ct=function(){function e(e,t,n){var r,i=this;this.key="",this.parent=null,this._node=null,this._keepKey=!1,this._invisible=!1,this._index=0,this._offsetStart=0,this._offsetEnd=0,this._zoneId="",this._length=0,this._modelText="",this._lmkr=0,this.content=e,n||(this.parent=t,this._zoneId=t.getZoneId(),this._modelText=this.content.ops.map((function(e){return Q(e)?e.insert:" "})).join(""),this._length=this._modelText.length,t=Qe(),this.hasLineMarker()&&(this._lmkr=1,t.push.apply(t,I(Be(this._getOps()[0].attributes)))),this._lineAttributes=t,this._lineAttributes.toMap=function(){return r=r||Ue(i._lineAttributes),g({},r)},this.key=Xe(6))}var t=e.prototype;return Object.defineProperty(t,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),t.isInvisible=function(){return this._invisible},t.isEndOfLine=function(e){return this._length===e+1},t.compose=function(t){return(t=new e(this.content.compose(t,!1),this.parent))._index=this._index,t},t.clone=function(){var t=new e(null,null,!0);return t.content=this.content,t._zoneId=this._zoneId,t._modelText=this._modelText,t._length=this._length,t._lmkr=this._lmkr,t._lineAttributes=this._lineAttributes,t.key=this.key,t._offsetStart=this._offsetStart,t._offsetEnd=this._offsetEnd,t._index=this._index,t.parent=this.parent,t},t.slice=function(t,n){var r=[],i=0;return this.content.forEach((function(e){var o,a,l;null!=e&&e.insert&&"object"!=typeof e.insert&&(o=K(e),i<=n&&t<=i+o&&(a=Math.max(0,t-i))<(l=Math.min(o,n-i))&&r.push({insert:null==e?void 0:e.insert.slice(a,l),attributes:e.attributes}),i+=o)})),new e(this.content.create({ops:r}),this.parent)},t.getZoneId=function(){return this._zoneId},t.getKey=function(){return this.key},t.getText=function(){var e=this.content.ops.map((function(e){return Q(e)?e.insert:"*"})).join("");return this.hasLineMarker()?e.slice(1):e},t.getLineMarker=function(){return this._lmkr},t.getModelText=function(){return this._modelText},t.length=function(){return this._length},t.getOps=function(){return this._getOps()},t._getDelta=function(){return this.content},t._getOps=function(){return this.content.ops},t._setKey=function(e){this.key=e},t._setIndex=function(e){this._index=e},t._setOffset=function(e,t){this._offsetStart=e,this._offsetEnd=t},t._refreshKey=function(){this.key=Xe(6)},t.getAttributes=function(e,t){var n,r,i,o;void 0===e&&(e=0),void 0===t&&(t=this.getModelText().length);var a=0,l=Qe();try{for(var s=y(this),u=s.next();!u.done;u=s.next()){var c=u.value;if(null!=c&&c.insert&&"object"!=typeof c.insert){var d=c.insert.length,f=c.attributes;if(a+d<=e||t<=a||!f)a+=d;else{try{for(var h=(i=void 0,y(Object.entries(f))),p=h.next();!p.done;p=h.next()){var g=w(p.value,2),v=g[0],m=g[1];l.push([v,m])}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}a+=d}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return l},t.getEntities=function(e,t,n){var r,i=0,o=this.length();return e instanceof Array?r=e:(i=e.start,(o=e.end)===i&&0<o&&i--),this._getEntities({attributes:r,start:i,end:o,matcher:t,getInternalZoneEntities:n})},t._getEntities=function(e){var t,n,r,i,o,a,l,s,u=e.attributes,c=e.start,d=e.end,f=e.allMatch,h=void 0!==f&&f,p=e.matcher,g=e.getInternalZoneEntities,v=[],m=0,b=this._index;try{for(var C=y(this),k=C.next();!k.done;k=C.next()){var E=k.value;if(E.insert&&"object"!=typeof E.insert){var x=E.insert.length;if(m+x<=c||d<=m)m+=x;else{var M=!1,S=!0,T=E.attributes;if(T&&Object.keys(T).length||(S=!(T={})),p)try{for(var A=(r=void 0,y(Object.entries(T))),N=A.next();!N.done;N=A.next()){var L=w(N.value,2);p(R=L[0],_=L[1])?M=!0:S=!1}}catch(e){r={error:e}}finally{try{N&&!N.done&&(i=A.return)&&i.call(A)}finally{if(r)throw r.error}}else if(null!=u&&u.length)try{for(var D=(o=void 0,y(Object.entries(T))),z=D.next();!z.done;z=D.next()){var O=w(z.value,2),R=O[0],_=O[1];try{for(var j=(l=void 0,y(u)),P=j.next();!P.done;P=j.next()){var B=P.value,F=void 0!==B[1];B[0]!==R||F&&String(B[1])!==String(_)?S=!1:M=!0}}catch(e){l={error:e}}finally{try{P&&!P.done&&(s=j.return)&&s.call(j)}finally{if(l)throw l.error}}}}catch(e){o={error:e}}finally{try{z&&!z.done&&(a=D.return)&&a.call(D)}finally{if(o)throw o.error}}else S=!0;(M&&!h||S)&&v.push({start:{line:b,offset:Math.max(m,c),zoneId:this._zoneId},end:{line:b,offset:Math.min(m+x,d),zoneId:this._zoneId},text:E.insert.slice(Math.max(c-m,0),d-m),attributes:T}),m+=x;var H=null==g?void 0:g(Object.entries(T),u,p);H&&v.push.apply(v,I(H))}}}}catch(e){t={error:e}}finally{try{k&&!k.done&&(n=C.return)&&n.call(C)}finally{if(t)throw t.error}}return v},t.getLineAttributes=function(){return this._lineAttributes},t.getOffset=function(){return{start:this._offsetStart,end:this._offsetEnd}},t.forEach=function(e){return this._getOps().forEach(e)},t[Symbol.iterator]=function(){return this._getOps().values()},t.hasLineMarker=function(){var e;return!(null===(e=null===(e=this._getOps()[0])||void 0===e?void 0:e.attributes)||void 0===e||!e.lmkr)},t.isEmpty=function(){var e=this.hasLineMarker()?1:0;return this.length()-e==1&&this._lineAttributes.length<=1||0===this.length()},t.isTextEmpty=function(){var e=this.hasLineMarker()?1:0;return this.length()-e==1||0===this.length()},t.previousSibling=function(){return this.parent.getLine(this._index-1)},t.nextSibling=function(){return this.parent.getLine(this._index+1)},t.compare=function(t){if(t===this)return e.EQAUL;if(t&&t.getKey()===this.getKey()){for(var n=this.getOps(),r=t.getOps(),i=0,o=r.length;i<o;i++)if(r[i]!==n[i])return e.UPDATE;return e.EQAUL}return e.UNEQUAL},e.EQAUL=dt.EQUAL,e.UNEQUAL=dt.UNEQUAL,e.UPDATE=dt.UPDATE,e}(),kt=function(){function e(e){this.curLine=0,this.curCol=0,this.originLine=0,this.originCol=0,this.mutateStart=0,this.mutateDeleteCount=0,this.mutateInsert=[],this.isInMutate=!1,this.mutatee=e}var t=e.prototype;return t.insert=function(e,t){var n,r,i,o,a,l,s,u,c,d,f=this;e&&(n=e,this.isInMutate||this.enter(),this.mutatee.length()-1<this.originLine&&this.putCurLineInMutate(),-1<n.indexOf("\n")?(a=n.split("\n"),this.isCurLineInMutate()?(r=this.mutateInsert.length-1,(i=this.mutateInsert[r])._keepKey&&i!==this.mutatee.get(this.originLine)&&(i._keepKey=!1,i._refreshKey()),e=a.shift(),u=a.pop(),void 0!==e&&(d=(new ae).retain(this.curCol).insert(e,t).insertEnter(t),o=i.slice(0,this.curCol).compose(d),this.curCol&&o._setKey(i.getKey()),this.curLine++,this.mutateInsert[r]=o),a.length&&(s=a.map((function(e){return new Ct((new ae).insert(e,t).insertEnter(t),i.parent)})),(o=this.mutateInsert).push.apply(o,I(s)),this.curLine+=a.length),void 0!==u&&(d=(new ae).insert(u,t),l=i.slice(this.curCol,i.length()).compose(d),u?this.mutateInsert.push(l):(a=this.mutatee.get(this.originLine))&&l.length()===a.length()&&Z(l._getOps(),a._getOps())?this.mutateInsert.push(a):l.length()&&this.mutateInsert.push(l),this.curCol=u.length)):(l=(c=this.splitTextLines(n)).length,s=c.map((function(e){return new Ct((new ae).insert(e,t),f.mutatee.get(0).parent)})),c[l-1].includes("\n")||(u=this.mutatee.get(this.originLine))&&(s[l-1]=u.compose(s[l-1]._getDelta()),this.curCol=c[l-1].length,this.curLine--,this.mutateDeleteCount+=1),(l=this.mutateInsert).push.apply(l,I(s)),this.curLine+=c.length)):(c=this.putCurLineInMutate(),d=(new ae).retain(this.curCol).insert(n,t),(d=this.mutateInsert[c].compose(d))._setKey(this.mutateInsert[c].getKey()),d._keepKey=!0,this.mutateInsert[c]=d,this.curCol+=n.length))},t.retain=function(e,t){if(e){var n=(r=this.getLineAndCol(e)).line,r=r.col;if(n>this.originLine)return this.retainLines(n-this.originLine,t),void(r&&this.retainChars(r,t));e&&this.retainChars(e,t)}},t.retainChars=function(e,t){var n,r;t&&(this.isInMutate||this.enter()),this.isInMutate&&(this.putCurLineInMutate(),n=this.mutateInsert.length-1,r=this.mutateInsert[n],t=(new ae).retain(this.curCol).retain(e,t),this.mutateInsert[n]=new Ct(r._getDelta().compose(t,!1),r.parent),this.mutateInsert[n]._setKey(r.getKey())),this.curCol+=e,this.originCol+=e},t.delete=function(e){if(e){var t=(n=this.getLineAndCol(e)).line,n=n.col;if(t>this.originLine)return this.deleteLines(t-this.originLine),void(n&&this.deleteChars(n));e&&this.deleteChars(e)}},t.close=function(){this.leave()},t.getLineAndCol=function(e){for(var t=0,n=this.originLine,r=this.originCol,i=this.mutatee.length(),o=n;o<i;o++){var a=this.mutatee.get(o).length();if(t<=e+r&&e+r<t+a)return{line:o,col:e-t+r};t+=a}return t===e+r?{line:i,col:0}:(console.warn("can not find the correct line and col"),{line:-1,col:-1})},t.deleteLines=function(e){var t,n,r;this.isInMutate||this.enter(),this.isCurLineInMutate()?0===this.curCol?(this.mutateDeleteCount+=e-1,this.originLine+=e,this.mutateInsert.pop()):(r=this.nextKLinesObject(e-1),this.mutateDeleteCount+=e,this.originLine+=e,t=this.mutateInsert.length-1,n=this.mutateInsert[t],(r=r.compose(n.slice(0,this.curCol)._getDelta()))._setKey(n.getKey()),this.mutateInsert[t]=r):(this.originLine+=e,this.mutateDeleteCount+=e),this.originCol=0},t.deleteChars=function(e){this.isInMutate||this.enter();var t=this.putCurLineInMutate(),n=this.mutateInsert[t],r=(new ae).retain(this.curCol).delete(e);(r=n.compose(r))._setKey(n.getKey()),this.mutateInsert[t]=r,this.originCol+=e},t.nextKLinesObject=function(e){var t=this.mutateStart+this.mutateDeleteCount;return this.mutatee.get(t+e)},t.retainLines=function(e,t){if(t){var n,r,i;this.curCol&&(i=this.curCol,this.curCol=0,this.isInMutate||this.enter(),this.putCurLineInMutate(),n=this.mutateInsert.length-1,r=this.mutateInsert[n],i=(new ae).retain(i).retain(r.length()-i,t),this.mutateInsert[n]=new Ct(r._getDelta().compose(i,!1),r.parent),this.mutateInsert[n]._setKey(r.getKey()),this.originLine++,this.curLine++,e--),this.curCol=0,this.isInMutate||this.enter();for(var o=0;o<e;o++)this.curLine++,this.originLine++,this.putCurLineInMutate(t);this.originCol=0}else this.curLine+=e,this.originLine+=e,this.curCol=0,this.originCol=0,this.isInMutate&&this.leave()},t.putCurLineInMutate=function(e){var t,n=this.mutatee.get(this.mutateStart+this.mutateDeleteCount);return e&&n&&(t=(new ae).retain(n.length(),e),(t=new Ct(n._getDelta().compose(t,!1),n.parent))._setKey(n.getKey()),n=t),!this.isCurLineInMutate()&&n?(this.mutateInsert.push(n),this.mutateDeleteCount++):e&&n&&(this.mutateInsert[this.mutateInsert.length-1]=n),this.curLine-this.mutateStart},t.enter=function(){this.isInMutate=!0,this.mutateStart=this.curLine,this.mutateDeleteCount=0,this.mutateInsert=[],this.originLine=this.curLine,0<this.curCol&&this.putCurLineInMutate()},t.leave=function(){var e=this.mutateInsert.length;(0<this.mutateDeleteCount||0<e)&&(this.removeLastLineIfNecessary(),this.mutatee.splice(this.mutateStart,this.mutateDeleteCount,this.mutateInsert)),this.mutateStart=this.curLine,this.originLine=this.curLine,this.mutateDeleteCount=0,this.mutateInsert=[]},t.removeLastLineIfNecessary=function(){var e;this.mutateInsert.length&&(e=this.mutateInsert.length-1,this.mutateInsert[e]._getOps().length||this.mutateInsert.splice(e))},t.splitTextLines=function(e){return e.match(/[^\n]*(?:\n|[^\n]$)/g)},t.isCurLineInMutate=function(){return this.curLine-this.mutateStart<this.mutateInsert.length},e}(),Et=function(){function e(e,t){var n=this;this.lines=[],this.parent=null,this._node=null,this.placeholder="",this._allText="",this.linesWidth=[],this._status=new Map,this.zoneId=e,this._content=t.create({zoneId:e,ops:t.ops}),this.lines=[],this._content.eachLine((function(e){e=new Ct(e,n),n.lines.push(e),n._allText+=e.getModelText(),n.linesWidth.push(e.length())})),this._updateLineStateInfos(),this.type=t.zoneType}var t=e.prototype;return e.register=function(t,n){e.mutators[t]=n},t._updateLineStateInfos=function(){var e=this,t=0;this.lines.forEach((function(n,r){var i=t+n.length();n._setOffset(t,i),n._setIndex(r),n.parent=e,t=i}))},Object.defineProperty(t,"allText",{get:function(){return console.warn("zoneState.allText是过时API，请换成zoneState.getModelText"),this._allText},enumerable:!1,configurable:!0}),t.getStatus=function(e){return!!this._status.get(e)},t.setDangerousInput=function(e){this._status.set("dangerousInput",e)},t.getContainer=function(){return this._node},t.getModelText=function(){return this._allText},t._updateAllText=function(e,t,n){var r=[];n.forEach((function(e){r.push(e.length())})),(i=this.linesWidth).splice.apply(i,I([e,t.length],r));var i=this.linesWidth.slice(0,e).reduce((function(e,t){return e+t}),0);e=n.reduce((function(e,t){return e+t.getModelText()}),""),t=(n=t.reduce((function(e,t){return e+t.getModelText()}),"")).length;n!==e&&(t=this._allText.slice(i+t),this._allText=this._allText.slice(0,i)+e+t)},t.getType=function(){return this.type},t.slice=function(e,t){for(var n=e.line,r=e.offset,i=t.line,o=t.offset,a=this.cloneEmptyState(),l=n;l<=i;l++){var s=this.lines[l],u=void 0;u=n===i?s.slice(r,o):l===n?s.slice(r,s.length()):l===i?s.slice(0,o):s.slice(0,s.length());a._content=a._content.concat(u._getDelta()),a._allText+=u.getModelText(),a.linesWidth.push(u.length()),a._node=this._node,a.lines.push(u)}return a._updateLineStateInfos(),a},t._splice=function(e,t,n){var r;(r=this.lines).splice.apply(r,I([e,t],n))},t.clone=function(){var e=this.cloneEmptyState();e._allText=this._allText;for(var t=0,n=this.lines.length;t<n;t++)e.lines.push(this.lines[t].clone());return e},t.getLine=function(e){return this.lines[e]||null},t.getLineIndexOfKey=function(e){for(var t=0,n=this.lines.length;t<n;t++)if(e===this.lines[t].getKey())return t;return-1},t.getLineByKey=function(e){var t,n;try{for(var r=y(this.lines),i=r.next();!i.done;i=r.next()){var o=i.value;if(e===o.getKey())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},t.getEntities=function(e,t,n){var r=[];if(e instanceof Array)for(var i=0;i<this.length();i++)(o=this.getLine(i))&&r.push.apply(r,I(o.getEntities(e,t,n)));else{e instanceof Function&&(t=e,e={start:{line:0,offset:0},end:{line:s=this.length()-1,offset:this.getLine(s).length()}});var o,a,l,s,u=(s=e.start).line,c=s.offset,d=(s=e.end).line,f=s.offset;for(i=u;i<=d;i++)(o=this.getLine(i))&&(a=i===u?c:0,l=i===d?f:o.length(),r.push.apply(r,I(o.getEntities({start:a,end:l},t,n))))}return r},t.getAttributes=function(e,t){t=this.getEntities({start:e,end:t},void 0,this._getInternalZoneEntities);var n,r,i,o,a=Qe();if(!t||!t.length)return a;try{for(var l=y(t),s=l.next();!s.done;s=l.next()){var u=s.value.attributes;if(u)try{for(var c=(i=void 0,y(Object.entries(u))),d=c.next();!d.done;d=c.next()){var f=w(d.value,2),h=f[0],p=f[1];a.push([h,String(p)])}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return a},t.length=function(){return this.lines.length},t.getZoneId=function(){return this._content.zoneId},Object.defineProperty(t,"content",{get:function(){return this._getContent()},enumerable:!1,configurable:!0}),t._getContent=function(e){void 0===e&&(e=!1);var t=(n=this._content).zoneId,n=n.zoneType,r=this._content.create({zoneId:t,zoneType:n,ops:[]});return this.lines.forEach((function(t,n){var i=(t=t._getOps()).length;t.forEach((function(t,o){e&&Q(t)&&(0===o&&0!==n||o===i-1)?r.insert(t.insert,t.attributes):r.ops.push(t)}))})),r},t.getContent=function(e){return this._getContent(e=void 0!==e&&e)},t.isEmpty=function(){var e;return!(1!==this.length()||null===(e=this.getLine(0))||void 0===e||!e.isEmpty())},t.apply=function(t,n){var r=this,i=this.lines.slice(0),o=t.zoneType,a=e.mutators[o];if(!a)throw new Error("can not find zoneType of "+o+", you need call ZoneState.register("+o+") before apply");var l=this.cloneEmptyState();l._allText=this._allText,l.linesWidth=I(this.linesWidth);var s=new a({getParent:function(){return r},getZoneId:function(){return r.getZoneId()},getZoneType:function(){return o},splice:function(e,t,r){var o=i.slice(e,e+t);i.splice.apply(i,I([e,t],r)),l._updateAllText(e,o,r),n(e,o,r)},length:function(){return i.length},get:function(e){return i[e]},map:function(e){return i.map((function(t,n,r){return e(t,n,r)}))}});return t.forEach((function(e){e.delete?s.delete(e.delete):e.retain?s.retain(e.retain,e.attributes):e.insert&&("string"==typeof e.insert&&(e.insert=It(e.insert)),s.insert(e.insert,e.attributes))})),s.close(),l.lines=i,l._node=this._node,l._updateLineStateInfos(),l.parent=this.parent,l._status=new Map(this._status),l},t.cloneEmptyState=function(){var t=this._content.create({zoneType:this.type,zoneId:this.zoneId});return(t=new e(this.getZoneId(),t)).type=this.type,t.zoneId=this.zoneId,t._node=this._node,t.placeholder=this.placeholder,t._status=new Map(this._status),t},t[Symbol.iterator]=function(){return this.lines.values()},t.setPlaceholder=function(e){this.placeholder=e},t._setLine=function(e,t){this.lines[e]=t},t._setParent=function(e){this.parent=e},t._getZoneDelta=function(){return this.content},t._indexOf=function(e){return e?e.index:0},t.pointToOffset=function(e){var t=e.line;e=e.offset;return(t=this.getLine(t))?t._offsetStart+e:null},t.offsetToPoint=function(e){var t=xt(e,0,this.lines.length,this.lines),n=this.zoneId;if(null===t)return{zoneId:n,line:0,offset:0};var r=this.lines[t];return e===r._offsetEnd&&t!==this.lines.length-1?{zoneId:n,line:t+1,offset:0}:{zoneId:n,line:t,offset:e-r._offsetStart}},t.totalWidth=function(){return this.lines.reduce((function(e,t){return e+t.length()}),0)},e.mutators={},e}();function xt(e,t,n,r){var i=Math.floor((t+n)/2);return n<t||!r.length||e>r[r.length-1]._offsetEnd||e<0?null:e>=r[i]._offsetStart&&e<=r[i]._offsetEnd?i:e>r[i]._offsetEnd?xt(e,i,n,r):e<r[i]._offsetStart?xt(e,t,i,r):null}Et.register("Z",kt);var Mt=function(e){function t(t){var n=e.call(this)||this;n.ops=[];var r=t.zoneId,i=t.ops,o=t.zoneType;return n.zoneId=r,n.zoneType=o,i&&i.length>0&&(n.ops=i),n}E(t,e);var n=t.prototype;return n.insert=function(t,n){if(!t)return this;var r={id:t};return e.prototype.insert.call(this,r,n,!1)},n.create=function(e){return e.zoneType=e.zoneType||this.zoneType,new t(e)},t}(ie),St=function(e){function t(t){return e.call(this,S({zoneType:M.Row},t))||this}return E(t,e),t}(Mt),Tt=function(e){function t(t){return e.call(this,S({zoneType:M.Column},t))||this}return E(t,e),t}(Mt);ie.registerCreator(M.Row,St),ie.registerCreator(M.Column,Tt);var At=function(){function e(e){this.mutateStart=0,this.mutatee=e}var t=e.prototype;return t.insert=function(e,t){var n=e;e=(e=this.mutatee.get(0))||new Ct(this.createDelta(),this.mutatee.getParent()),t=this.createDelta().retain(this.mutateStart).insert(n.id,t),t=e.compose(t);this.mutatee.splice(0,1,[t]),this.mutateStart+=K({insert:n})},t.retain=function(e,t){t&&(t=this.createDelta().retain(this.mutateStart).retain(e,t),t=this.mutatee.get(0).compose(t),this.mutatee.splice(0,1,[t])),this.mutateStart+=e},t.delete=function(e){var t=this.createDelta();e=this.mutatee.get(0).compose(t.retain(this.mutateStart).delete(e));this.mutatee.splice(0,1,[e])},t.createDelta=function(){var e=this.mutatee.getZoneType(),t=this.mutatee.getZoneId();return new("R"===e?St:Tt)({zoneId:t})},t.close=function(){},e}(),Nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t}(Et);Nt.register("R",At),Nt.register("C",At);var Lt,Dt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function zt(e){void 0===e&&(e=20);for(var t="",n=0;n<e;n++){var r=Math.floor(Math.random()*Dt.length);t+=Dt[r]}return t}!function(e){e.DID_PASTE="didPaste",e.RESIZE="resize",e.RECT_CHANGE="rectchange",e.SELECTION_CHANGE="selectionchange",e.SELECTION_CHANGE_AND_DOM_UPDATE="editorUpdateDomSelection",e.CONTENT_WILL_CHANGE="contentWillChange",e.CONTENT_CHANGE="contentchange",e.EDITABLE_CHANGE="editablechange",e.PAINT="paint",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.WILL_DELETE_FROM_CUT="willDeleteFromCut",e.INPUT="input",e.BEFORE_INPUT="beforeinput",e.KEYDOWN="keydown",e.KEYPRESS="keypress",e.KEYUP="keyup",e.EXEC_COMMAND="execCommand",e.ERROR="error",e.DELETE_KEY="keyDelete",e.FOCUS="focus",e.BLUR="blur",e.SCROLL_END="scrollend",e.SCROLL="scroll",e.KEYBAORDCHANGE="keyboardchange",e.COMPOSITION_END="compositionend",e.COMPOSITION_START="compositionstart",e.COMPOSITION_UPDATE="compositionupdate"}(Lt=Lt||{});var Ot="undo",Rt="redo",_t=function(e){var t=e.id,n=e.type,r=e.deltaSet;e=e.selection;this.id=t,this.type=n,this.deltaSet=r,this.selection=e};function jt(){}jt.prototype=Object.create(Array.prototype,{clear:{value:function(){this.splice(0,this.length)}},getNthFromTop:{value:function(e){return null!==(e=this[this.length-1-(e=void 0===e?0:e)])&&void 0!==e?e:null}},getNthFromBottom:{value:function(e){return null!==(e=this[e=void 0===e?0:e])&&void 0!==e?e:null}}}),jt.prototype.constructor=jt;var Pt=function(){function e(e){this.name="undoModule",this.uuid=zt(6),this.undoDispatcher=null,this.undoStack=new jt,this.redoStack=new jt,this.batchedUndoCursors=[],this.didRecord=!1,this.selectionBeforeApply=null,this.editor=e,this.bindEvents(),this.registerCommands()}var t=e.prototype;return t.registerCommands=function(){var e=this,t=this.editor;t.registerCommand(Ot,(function(){e.undo()})),t.registerCommand(Rt,(function(){e.redo()}))},t.bindEvents=function(){this.editor.on(Lt.CONTENT_WILL_CHANGE,this.handleContentWillChange),this.editor.on(Lt.CONTENT_CHANGE,this.handleContentChange),this.editor.on(Lt.INPUT,this.handleInputEvent,100)},t.unbindEvents=function(){this.editor.off(Lt.CONTENT_WILL_CHANGE,this.handleContentWillChange),this.editor.off(Lt.CONTENT_CHANGE,this.handleContentChange),this.editor.off(Lt.INPUT,this.handleInputEvent)},t.handleInputEvent=function(e){var t=!1;"historyUndo"===e.nativeEvent.inputType?(this.undo(),t=!0):"historyRedo"===e.nativeEvent.inputType&&(this.redo(),t=!0),t&&(e.preventDefault(),e.stopEvent())},t.isApplyByMyself=function(){var e=this.editor.getContentState().contentApplyRuntime;return!!e.atRuntime&&(e=e.runtimeStack[0].type,[Ot,Rt].includes(e))},Object.defineProperty(t,"inBatching",{get:function(){return 0<this.batchedUndoCursors.length},enumerable:!1,configurable:!0}),t.handleContentWillChange=function(){this.selectionBeforeApply=this.editor.selection.getSelection()},t.handleContentChange=function(e){var t=e.previous,n=e.deltaSet,r=(e=(r=e.options).nonundoable,r.type);if(this.isApplyByMyself())return(r=(r===Ot?this.redoStack:this.undoStack).getNthFromTop(0))?void(r.selection=this.selectionBeforeApply):void 0;e?this.recordNonUndoable(n):(e=this.editor.getContentState().contentApplyRuntime,this.record(n,t.toDeltaSet(),g(g({},e.currentRuntime),{selection:this.selectionBeforeApply})))},t.startBatchedUndo=function(){this.inBatching&&this.consumeBatchedUndo(this.batchedUndoCursors[this.batchedUndoCursors.length-1]);var e=this.undoStack.getNthFromTop(0);this.batchedUndoCursors.push((null==e?void 0:e.id)||null)},t.closeBatchedUndo=function(){var e;this.inBatching&&(e=this.batchedUndoCursors.pop(),this.consumeBatchedUndo(e),this.inBatching&&(this.batchedUndoCursors.pop(),this.startBatchedUndo()))},t.consumeBatchedUndo=function(e){var t=w(e?this.getRecordEntryByID(e):[-1],1)[0];void 0!==t&&((e=this.undoStack.slice(t+1)).length&&this.didRecord&&(this.didRecord=!1,null!==(t=this.undoDispatcher)&&void 0!==t&&t.do(this.uuid)),1<e.length&&this.mergeRecords.apply(this,I(e)))},t.record=function(e,t,n){var r=n.id,i=n.type;n=n.selection,t=e.invert(t);this.undoStack.push(new _t({id:r,type:i,deltaSet:t,selection:n})),this.redoStack.clear(),this.inBatching?this.didRecord=!0:null!==(n=this.undoDispatcher)&&void 0!==n&&n.do(this.uuid)},t.recordNonUndoable=function(e){this.transform(this.undoStack,e),this.transform(this.redoStack,e)},t.transform=function(e,t){for(var n=e.length-1;0<=n;n--){var r=e[n].deltaSet;e[n].deltaSet=t.transform(r),t=r.transform(t)}},t.conversion=function(e,t,n){var r;e.length&&(r=e.pop(),e=this.editor.getContentState().toDeltaSet(),e=r.deltaSet.invert(e),t.push(new _t(g(g({},r),{deltaSet:e}))),this.editor.getContentState().apply(r.deltaSet,n),this.editor.selection.setSelection(r.selection))},t.performUndo=function(){this.conversion(this.undoStack,this.redoStack,{type:"undo"})},t.performRedo=function(){this.conversion(this.redoStack,this.undoStack,{type:"redo"})},t.getRecordEntryByID=function(e){var t,n;try{for(var r=y(this.undoStack.entries()),i=r.next();!i.done;i=r.next()){var o=w(i.value,2),a=o[0],l=o[1];if(l.id===e)return[a,l]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return[]},t._mergeRecord=function(e,t){var n=e.id,r=e.type,i=t.id,o=(e=w(this.getRecordEntryByID(n),2))[0];t=e[1],i=(e=w(this.getRecordEntryByID(i),2))[0],e=e[1];if(t&&e&&void 0!==o&&void 0!==i){var a=e.deltaSet;e=t.deltaSet;if(o<i)for(var l=i-1;o<l;l--)a=this.undoStack.getNthFromBottom(l).deltaSet.transform(a);else for(l=i+1;l<o;l++)a=this.undoStack.getNthFromBottom(l).deltaSet.transform(a);e=a.compose(e),this.undoStack.splice(o,1,new _t({id:n,type:r,deltaSet:e,selection:t.selection})),this.undoStack.splice(i,1)}},t.batchedUndo=function(e){this.startBatchedUndo(),e(),this.closeBatchedUndo()},t.setUndoDispatcher=function(e,t){this.undoDispatcher=e,null!=t&&t.id&&(this.uuid=null==t?void 0:t.id),this.undoDispatcher.register(g({id:this.uuid,undo:this.performUndo,redo:this.performRedo},t))},t.undo=function(){this.undoDispatcher?this.undoDispatcher.undo():this.performUndo()},t.redo=function(){this.undoDispatcher?this.undoDispatcher.redo():this.performRedo()},t.mergeRecords=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{for(var n=e.length-1;0<n;n--)this._mergeRecord(e[n-1],e[n])}catch(e){this.editor.log("mergeRecords failed",e.stack)}},Object.defineProperty(t,"undoable",{get:function(){return 0<this.undoStack.length},enumerable:!1,configurable:!0}),Object.defineProperty(t,"redoable",{get:function(){return 0<this.redoStack.length},enumerable:!1,configurable:!0}),t.markNonundoable=function(e){var t=w(this.getRecordEntryByID(e.id),1)[0];void 0!==t&&(e=w(this.undoStack.splice(t,1),1)[0].deltaSet.invert(this.editor.getContentState().toDeltaSet()),this.transform(this.undoStack.slice(0,t),e))},t.getNthUndoRecordFromTop=function(e){return this.undoStack.getNthFromTop(e=void 0===e?0:e)},t.getNthUndoRecordFromBottom=function(e){return this.undoStack.getNthFromBottom(e=void 0===e?0:e)},t.getNthRedoRecordFromTop=function(e){return this.redoStack.getNthFromTop(e=void 0===e?0:e)},t.getNthredoRecordFromBottom=function(e){return this.redoStack.getNthFromBottom(e=void 0===e?0:e)},t.clearUndoStack=function(){this.undoStack.clear()},t.clearRedoStack=function(){this.redoStack.clear()},t.clear=function(){this.clearRedoStack(),this.clearUndoStack()},t.destroy=function(){var e;this.unbindEvents(),null!==(e=this.undoDispatcher)&&void 0!==e&&e.unregister(this.uuid)},v([Fe],e.prototype,"handleInputEvent",null),v([Fe],e.prototype,"handleContentWillChange",null),v([Fe],e.prototype,"handleContentChange",null),v([Fe],e.prototype,"performUndo",null),v([Fe],e.prototype,"performRedo",null),v([Fe],e.prototype,"batchedUndo",null),e}();function Bt(e,t,n){var r,i,o,a,l,s,u=0,c=!1,d=!1,f=!0,h=!t&&0!==t&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function g(e,t){return h?(window.cancelAnimationFrame(l),window.requestAnimationFrame(e)):setTimeout(e,t)}function v(e){return u=e,l=g(b,t),c?p(e):a}function m(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=o}function b(){var e=Date.now();if(m(e))return y(e);l=g(b,function(e){var n=e-u,r=t-(e-s);return d?Math.min(r,o-n):r}(e))}function y(e){return l=void 0,f&&r?p(e):(r=i=void 0,a)}function w(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=Date.now(),u=m(o);if(r=e,i=this,s=o,u){if(void 0===l)return v(s);if(d)return l=g(b,t),p(s)}return void 0===l&&(l=g(b,t)),a}return t=+t||0,"object"==typeof n&&(c=!!n.leading,o=(d="maxWait"in n)?Math.max(+n.maxWait||0,t):o,f="trailing"in n?!!n.trailing:f),w.cancel=function(){void 0!==l&&function(e){if(h)return window.cancelAnimationFrame(e);clearTimeout(e)}(l),u=0,r=s=i=l=void 0},w.flush=function(){return void 0===l?a:y(Date.now())},w.pending=function(){return void 0!==l},w}function Ft(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return"object"==typeof n&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Bt(e,t,{leading:r,trailing:i,maxWait:t})}var Ht=window.User&&window.User.userAgent||navigator.userAgent||"";function Zt(e){return(e=Ht.match(e))&&1<e.length&&e[1]||""}function Wt(){if(function(){var e=navigator.userAgent;return 0<e.indexOf("iPhone")||0<e.indexOf("iPad")||0<e.indexOf("iPhone")}()){var e=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return e?{major:+e[1],minor:+e[2]}:null}return null}function Ut(){var e=Wt();return!!e&&e.major<12}var Kt,Yt,Gt,Vt=Zt(/(ipod|iphone|ipad)/i).toLowerCase(),Qt=/windows phone/i.test(Ht),Xt=/nexus\s*[0-6]\s*/i.test(Ht),qt=/like android/i.test(Ht),Jt=!Qt&&/windows/i.test(Ht),$t=/chrome|crios|crmo/i.test(Ht),en=/firefox|iceweasel|fxios/i.test(Ht),tn=/safari|applewebkit/i.test(Ht)&&!$t&&!en,nn=(Gt=/edg([ea]|ios)\/(\d+(\.\d+)?)/i,(Gt=Ht.match(Gt))&&1<Gt.length&&Gt[2]||""),rn=!nn&&Qt||/msie|trident/i.test(Ht),on=/silk/i.test(Ht),an=!Vt&&!on&&/macintosh/i.test(Ht),ln=!Qt&&Vt,sn=/Firefox/i.test(Ht),un=/iPad/i.test(Ht),cn=Qt&&nn||/edg([ea]|ios)/i.test(Ht),dn=/Edge/i.test(Ht),fn=/tablet/i.test(Ht)&&!/tablet pc/i.test(Ht),hn=!qt&&-1<Ht.indexOf("Android")||-1<Ht.indexOf("Adr"),pn=!fn&&/[^-]mobi/i.test(Ht)||"iphone"===Vt||"ipod"===Vt||hn||Xt,gn=/feishu/i.test(Ht)||/lark/i.test(Ht),vn=!!Ht.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),mn=/Docs/i.test(Ht),bn={modernIE:!1,isAndroid:hn,lark:gn,isIOS:vn,android:hn,windows:Jt,firefox:en,safari:tn,msie:rn,isMac:an,ios:ln,isFF:sn,isIPad:un,msedge:cn,chrome:$t,isEdge:dn,oldIE:!1,mobile:pn,isBytedanceApp:gn||mn,isIOSBelow12:Ut(),getIOSVersion:Wt};rn&&(Kt="",Qt&&!nn?Kt=Zt(/iemobile\/(\d+(\.\d+)?)/i):/msie|trident/i.test(Ht)&&(Kt=Zt(/(?:msie |rv:)(\d+(\.\d+)?)/i)),Yt=parseInt(Kt,10),bn.oldIE=Yt<11,bn.modernIE=11<=Yt);var yn=function(e){return e instanceof Node},wn=function(e){return yn(e)&&e.nodeType===Node.TEXT_NODE},In=function(e){return yn(e)&&e.nodeType===Node.COMMENT_NODE},Cn=function(e){return yn(e)&&e.nodeType===Node.ELEMENT_NODE},kn=function(e,t,n){if(!(e instanceof HTMLElement)||"br"===e.tagName.toLowerCase()||!e.childNodes[t]||e.classList.contains(De))return null;for(var r=e.childNodes,i=r[t],o=t,a=!1,l=!1;(In(i)||Cn(i)&&0===i.childNodes.length||Cn(i)&&"false"===i.getAttribute("contenteditable")&&!i.getAttribute(Ee))&&(!a||!l);)o>=r.length?(a=!0,o=t-1,n="backward"):o<0?(l=!0,o=t+1,n="forward"):(i=r[o],o+="forward"===n?1:-1);return i},En=function(e){var t=e.node,n=e.offset;if(Cn(t)&&t.hasChildNodes()){var r=(n=Math.min(n,t.childNodes.length))===t.childNodes.length,i=r?"backward":"forward";for(t=t.childNodes[r?n-1:n];t instanceof HTMLElement&&t.childNodes.length;){var o=r?t.childNodes.length-1:0;t=kn(t,o,i)}if(!t)return e;n=r&&null!=t.textContent?t.textContent.length:0}return{node:t,offset:n}};function xn(e){if(!e)return null;var t=e;return(t=e.nodeType===window.Node.TEXT_NODE?e.parentNode:t)&&t.closest?t.closest("[data-node]"):null}function Mn(e,t){void 0===t&&(t=[]);for(var n=0,r=e.childNodes.length;n<r;n++){var i,o=e.childNodes[n];o.nodeType===Node.TEXT_NODE?t.push(o.textContent):void 0!==(i=Tn(o))?t.push(i):o.childNodes&&Mn(o,t)}return t}function Sn(e,t){void 0===t&&(t=[]);for(var n=0,r=e.childNodes.length;n<r;n++){var i,o=e.childNodes[n];o.hasAttribute&&o.hasAttribute(we)&&!o.hasAttribute(Ie)?t.push(o.textContent):void 0!==(i=Tn(o))?t.push(i):o.childNodes&&Sn(o,t)}return t}function Tn(e){if(!(e instanceof HTMLElement))return"";var t=e.hasAttribute(Ee),n=e.hasAttribute(ge),r=e.hasAttribute(Me),i=e.hasAttribute(Te),o=e.hasAttribute(Ie);return t?e.getAttribute(Ee):n?(null===(n=e.textContent)||void 0===n?void 0:n.replace(new RegExp("​","g"),""))||"":r?e.querySelectorAll("[data-zone-id]").length?" ":"":o?((null===(e=e.textContent)||void 0===e?void 0:e.replace(new RegExp("​","g"),""))||"")+"\n":i?"":void 0}function An(e){e.querySelectorAll("[data-enter]").forEach((function(e){e.textContent&&(e.textContent=function(e){return e.replace(new RegExp("​|\\n","g"),"")}(e.textContent))}))}function Nn(e){return Array.from(e.querySelectorAll("[data-string], [data-fake-text], [data-zero-space]")).filter((function(e){var t;return!(e instanceof HTMLElement&&"string"==typeof(null===(t=e.dataset)||void 0===t?void 0:t.fakeText))||(null===(e=null===(e=e.dataset)||void 0===e?void 0:e.fakeText)||void 0===e?void 0:e.length)})).filter((function(t){return t=t.parentElement&&t.parentElement.closest("[data-fake-text]"),!e.contains(t)})).filter((function(t){return t=t.parentElement&&t.parentElement.closest("[data-zone-container]"),!e.contains(t)}))}function Ln(e){if(wn(e)||!e.hasChildNodes())return[e];if(Dn(e)){var t=Fn(e);if(t&&t.firstChild)return[t.firstChild]}return Array.from(e.childNodes).reduce((function(e,t){return e.push.apply(e,I(Ln(t))),e}),[])}function Dn(e){return!!zn(e)}function zn(e){return On(e,"[data-fake-text]")}function On(e,t){return e&&(e=e instanceof HTMLElement?e:e.parentElement)?(t=e.closest(t),e=xn(e),t&&e&&e.contains(t)?t:null):null}function Rn(e,t){var n=e.anchorNode,r=e.focusNode;if(!n||!r||e.rangeCount<=t)return null;if(r=null,bn.safari)try{r=e.getRangeAt(t)}catch(e){r=null}else e.getRangeAt&&(r=e.getRangeAt(t));return r||((r=document.createRange()).setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset)),r}function _n(e,t){var n,r,i,o=document.createRange(),a=e.node,l=e.offset;e=t.node,t=t.offset;return a&&(r=jn(Ln(a)[0]),i=Math.min(l,(null===(n=r.textContent)||void 0===n?void 0:n.length)||0),o.setStart(r,i)),e&&(l=jn(Ln(e)[0]),r=(n=Dn(e))&&Fn(e),e=(null===(e=l.textContent)||void 0===e?void 0:e.length)||0,i=!n||r?Math.min(t,e):e,o.setEnd(l,i)),o}function jn(e){return bn.safari&&e instanceof HTMLElement&&"BR"===e.tagName?e.closest("span[data-leaf]"):e}function Pn(e){return e&&(e instanceof HTMLElement?e.hasAttribute(ge):null===(e=e.parentElement)||void 0===e?void 0:e.hasAttribute(ge))}function Bn(e){return!!Fn(e)}function Fn(e){return e&&e instanceof Element?e.hasAttribute(ge)?e:e.querySelector("[data-zero-space]"):null}function Hn(e){return e&&e instanceof Element&&e.hasAttribute("data-fake-text")?e.getAttribute("data-fake-text"):null}function Zn(e,t,n){void 0===n&&(n=!1);var r=e._getViewModel(),i=r.getModel(t);if(!i){var o=t.closest("[data-zone-container]");if(!o)return null;if(!(l=o.querySelectorAll("[data-node]")).length)return null;if(!(o=(null==(a=r.getModel(o))?void 0:a.getZoneId())||o.getAttribute("[data-zone-id]")))return null;var a=a||e.getContentState().getZoneState(o),l=Array.from(l).indexOf(t);if(!(a=null==a?void 0:a.getLine(l)))return null;i=a}return Array.isArray(i)&&(l=i[0],a=i[i.length-1],i=n?a:l),i}function Wn(e,t){var n;if(!e)return!1;if(!(e=e instanceof HTMLElement?e:e.parentElement)||!e.textContent||t!==e.textContent.length)return!1;for(var r=e.closest("[data-leaf]");(null==r||!r.nextElementSibling)&&null!==(n=null==r?void 0:r.parentElement)&&void 0!==n&&n.hasAttribute(me);)r=r.parentElement;return null===(e=null==r?void 0:r.nextElementSibling)||void 0===e?void 0:e.querySelector("[data-fake-text]")}var Un=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff\\ufe0e\\ufe0f]");var Kn="[\\ud800-\\udfff]",Yn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",Gn="\\ud83c[\\udffb-\\udfff]",Vn="[^\\ud800-\\udfff]",Qn="(?:\\ud83c[\\udde6-\\uddff]){2}",Xn="[\\ud800-\\udbff][\\udc00-\\udfff]",qn="(?:"+Yn+"|"+Gn+")"+"?",Jn="[\\ufe0e\\ufe0f]?",$n=Jn+qn+("(?:\\u200d(?:"+[Vn,Qn,Xn].join("|")+")"+(Jn+qn)+")*"),er="(?:"+[""+Vn+Yn+"?",Yn,Qn,Xn,Kn].join("|")+")",tr=RegExp(Gn+"(?="+Gn+")|"+(er+$n),"g");function nr(e){return function(e){return Un.test(e)}(e)?function(e){return e.match(tr)||[]}(e):e.split("")}function rr(e){return(e.length<2?e:nr(e)[0]).length}function ir(e){return e.length<2?e.length:(e=nr(e))[e.length-1].length}var or,ar,lr=/[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u1FFF\u3040-\u9FFF\uF900-\uFDFF\uFE70-\uFEFE\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDC]/,sr=function(e){var t=e.keyCode;e=e.ctrlKey;return[pe.Left,pe.Right,pe.Up,pe.Down].includes(t)||bn.isMac&&e&&t===pe.B||bn.isMac&&e&&t===pe.F},ur=function(e){var t=e.keyCode;return!e.charCode&&[pe.Shift,pe.Alt,pe.Ctrl,pe.CapsLock,pe.Meta,pe.BracketRightKeyDown].includes(t)},cr=function(e){return e.className.includes("ace-line")},dr=function(e){return e.getAttribute(Ee)||e.getAttribute("data-faketext")},fr=function(e){return e.className.includes("editor-kit-container")},hr=function(e){for(;e;){if(dr(e))return!0;if(cr(e)||fr(e))return!1;e=e.parentElement}return!1},pr=function(e){return lr.test(e)},gr=function(e){var t=e.offset;return ir((e=e.lineText).slice(0,t))},vr=function(e){var t=e.offset;return rr((e=e.lineText).slice(t))},mr=function(e){var t=e.lineMarker;return e.offset-t},br=function(e){var t=e.offset;return e.lineText.length-1-t},yr=function(e){var t=e.lineMarker,n=e.offset,r=e.lineText;if(1<(e=gr(e)))return e;for(var i=n-1;t<i&&pr(r[i-1]);)i--;return n-i},wr=function(e){var t=e.offset,n=e.lineText;if(1<(e=vr(e)))return e;for(var r=t+1;r<n.length-1&&pr(n[r]);)r++;return r-t},Ir=((or={})[pe.Enter]="_handleReturnKey",or[pe.Delete]="_handleDeleteKey",or[pe.BackSpace]="_handleDeleteKey",or);!function(e){e.FlushInput="flushInput",e.Composition="composition",e.DeleteForward="deleteForward",e.DeleteBackward="deleteBackward",e.DeleteToLineStart="deleteToLineStart",e.DeleteToLineEnd="deleteToLineEnd",e.DeleteEntireWordBackward="deleteEntireWordBackward",e.DeleteEntireWordForward="deleteEntireWordForward",e.DeleteRange="deleteRange",e.Return="doReturnKey",e.KeyEvent="handleKeyEvent"}(ar=ar||{});var Cr=[ar.FlushInput,ar.DeleteForward,ar.DeleteBackward,ar.Return],kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._handleReturnKey=function(e){this._flushInput();var t=this.editor,n=(l=t.getContentState()).getActiveZone().getZoneId(),r=(o=t.selection.getSelection()).start.line,i=(a=o.toPosition()).start,o=a.len,a=l.getZoneState(n).getLine(r).getLineAttributes().toMap(),l={evt:e,delta:new ae({zoneId:n}),editor:t};return t.callAll("doReturnKey",{}),t.pluginManager.call("editorWillDoReturnKey",l),n=new ae({zoneId:n}),l.delta.ops.length?n=n.compose(l.delta):n.retain(i).delete(o).insertEnter().insertLineMarker(a),this._apply(n,{type:ar.Return}),t.callAll("editorAfterDoReturnKey",{theLine:r}),e.preventDefault(),this._mergeInputRecord(),null},t}(function(){function e(e,t){var n=this;this._isFirefoxCompositionEnded=!1,this.inheritMatcher=null,this.timeout=null,this.inputLength=0,this.recordQueue=[],this.debounceFlush=0,this.lineDomInComposition=null,this.minLenInComposition=-1,this.unusualInputFromIPad=!1,this._handleKeyDown=this._withBatchedUndo((function(e){var t,r,i,o,a,l,s,u,c,d=e.evt,f=d.nativeEvent;ur(f)||(sr(f)&&n._flushInput(),t=f.keyCode,c=f.ctrlKey,u=f.metaKey,s=f.altKey,r=ar.KeyEvent,i=!1,sr(f)||n.editor.getStatus("isComposing")||(a=!1,o=null,t===pe.Enter?(o=n._handleReturnKey(f),a=!0):t===pe.BackSpace&&(c||u)?(o=n._handleDeleteKey(f,!0,mr),r=ar.DeleteToLineStart,a=!0):t===pe.Delete&&(c||u)||c&&t===pe.K&&(bn.isMac||bn.isIOS)?(o=n._handleDeleteKey(f,!1,br),r=ar.DeleteToLineEnd,a=!0):t===pe.BackSpace&&s?(o=n._handleDeleteKey(f,!0,yr),r=ar.DeleteEntireWordBackward,a=!0):t===pe.Delete&&s?(o=n._handleDeleteKey(f,!1,wr),r=ar.DeleteEntireWordForward,a=!0):t===pe.BackSpace||c&&t===pe.H&&(bn.isMac||bn.isIOS)?(o=n._handleDeleteKey(f,!0,gr),r=ar.DeleteBackward,a=!0):t===pe.Delete||c&&t===pe.D&&(bn.isMac||bn.isIOS)?(o=n._handleDeleteKey(f,!1,vr),r=ar.DeleteForward,a=!0):t===pe.Insert?n._flushInput():(t===pe.A||t===pe.E)&&c&&bn.isMac?(a=!0,s=(u=(e=(l=n.editor.selection).getSelection()).start).line,c=u.zoneId,u=n.editor.getContentState().getZoneState(c).getLine(s),c={line:s,offset:t===pe.A?u.getLineMarker():u.length()-1,zoneId:c},l.setSelection({start:c,end:c,isBackward:e.isBackward},!0)):i=!0,a&&f.preventDefault(),o&&(n._apply(o,{type:r}),n._mergeInputRecord())),n.triggerAceKeyEvent("editorKeyDown",d,!i))})),this._mergeInputRecord=Ft((function(){for(var e=n.recordQueue.length-1,t=e-1;0<=t&&0<=e;){var r=n.recordQueue[e],i=n.recordQueue[t];r.type===i.type&&Cr.includes(r.type)?(n.editor.undoModule.mergeRecords(i,r),t=(e=t)-1):t=(e=t-1)-1}n.recordQueue=[]}),1e3,{leading:!1}),this.editor=e,this.debounceFlush=null!==(t=t.debounceFlush)&&void 0!==t?t:0,e.on("beforeinput",this._handleBeforeInput,0),e.on("compositionstart",this._handleCompositionEvent,0),e.on("compositionupdate",this._handleCompositionEvent,0),e.on("compositionend",this._handleCompositionEvent,0),e.on("mousedown",this._handleMouseDown,0),e.on("contentchange",this._handleContentChange,0)}var t=e.prototype;return t._withBatchedUndo=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.editor.undoModule.batchedUndo((function(){e.apply(t,n)}))}},t._handleKeyPressAndUp=function(e){var t,n=e.evt;ur(n.nativeEvent)||(t=n.keyCode,e=n.type,t=Ir[t],hr(n.target)||this.editor.isFocusOnBlock()||(this.triggerAceKeyEvent("aceKeyEvent",n),this[t]&&n.preventDefault(),"keypress"===e?this.triggerAceKeyEvent("editorKeyPress",n):"keyup"===e&&this.triggerAceKeyEvent("editorKeyUp",n)))},t.triggerAceKeyEvent=function(e,t,n){var r=t.nativeEvent,i=t.type,o=this.editor,a="keydown"===i;i="keypress"===i,i=bn.msie||bn.isEdge||bn.safari||bn.chrome?a:i;return t.originalEvent=r,o.callAll(e,{editor:o,editorInfo:o,evt:t,isTypeForCmdKey:i,isTypeForSpecialKey:i,specialHandled:n})},t._handleMouseDown=function(){this._flushInput()},t._handleContentChange=function(){var e=this.editor.getContentState().contentApplyRuntime;this.recordQueue.push(e.currentRuntime)},t._handleBeforeInput=function(e){var t,n,r,i,o,a=this.editor;a.getStatus("isComposing")||(o=e.inputType,t=void 0===(i=e.data)?"":i,n=void 0===(r=e.dataTransfer)?null:r,o.startsWith("delete")||o.startsWith("deleteBy")||(i=w(e.nativeEvent.getTargetRanges(),1)[0],r=getSelection(),(i=i||null!=r&&r.isCollapsed?i:null==r?void 0:r.getRangeAt(0))&&!i.collapsed&&(i=a.selection._toModelRange(i),wt.isRangeEqual(a.selection.getSelection(),i)||a.selection.setSelection(i,!0)),("insertText"===o&&t&&-1<t.indexOf("\n")&&!bn.isAndroid||"insertReplacementText"===o&&t||"insertReplacementText"===o&&null!=n&&n.getData("text"))&&(o=a.selection.getSelection(),a.getContentState().replaceText(o,t||(null==n?void 0:n.getData("text"))||""),e.preventDefault())))},t._handleInput=function(e){var t,n,r=this,i=this.editor;!bn.isIPad||"deleteCompositionText"!==e.inputType||i.getStatus("isComposing")?"deleteContentBackward"!==e.inputType?bn.isFF&&this._isFirefoxCompositionEnded&&!1===e.nativeEvent.isComposing?this._isFirefoxCompositionEnded=!1:this.editor.getStatus("isComposing")||hr(e.target)||i.isFocusOnBlock(e.target)||bn.isIPad&&"deleteContentForward"===e.nativeEvent.inputType||(this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null),this.inputLength++,i.selection.getSelection().toPosition().len||!this.debounceFlush?this._doInput(ar.FlushInput):(this.editor.setStopUpdateSelection(!0),this.timeout=window.setTimeout((function(){r._flushInput()}),this.debounceFlush))):(this._flushInput(),(t=i.selection.getSelection()).isCollapsed()?(n=this._doDefaultDelete(!0,1))&&this._apply(n,{type:ar.DeleteBackward}):(i=(e=t.toPosition()).start,t=e.len,e=e.zoneId,n=new ae({zoneId:e}).retain(i).delete(t),this._apply(n,{type:ar.DeleteRange}))):this.unusualInputFromIPad=!0},t._flushInput=function(e){this.editor._resetCursorStatus(),!this.editor.getStatus("isComposing")||e?this.timeout&&(window.clearTimeout(this.timeout),this.editor.setStopUpdateSelection(!1),this.timeout=null,this._doInput(ar.FlushInput)):this.editor.log("[Input][_flushInput] _flushInput return in composition")},t._doInput=function(e){var t,n,r,i,o=this.editor,a=o.selection.getSelection(),l=a.start,s=a.end,u=o._getViewModel(),c=o.getContentState(),d=c.getActiveZone().getZoneId(),f=c.getZoneState(d);f&&(t=f.getLine(l.line),i=u.getView(t),n=Number(t.hasLineMarker()),c=(a=t.getText()).slice(0,a.length-1),t=(d=Mn(i).join("")).replace(/\n/g,""),a=l.offset-n,c=s.offset+t.length-c.length-n,s.line>l.line&&(f=(n=f.getLine(s.line)).getText()||"",r=Number(n.hasLineMarker()),r=f.slice(0,f.length-1).length-(s.offset-r),o.getContainer().contains(i)&&t||(i=u.getView(n),a=0),c=bn.isEdge?t.length:t.length-r),r=d,d=Sn(i).join(""),i=t.slice(a,c).replace(String.fromCharCode(8203),""),c=this._getInheritAttributesAndsetStatus(),r!==d&&l.line===s.line?(o.setStatus("dangerousInput",!0),this._performInput(i,c,{refresh:!0,type:e})):0===i.length&&l.line===s.line&&l.offset===s.offset?(i=t.substr(a,this.inputLength),this._performInput(i,c,{overtype:!0,type:e})):this._performInput(i,c,{overtype:!1,type:e}),this.inputLength=0)},t._getInheritAttributesAndsetStatus=function(){var e=this;return this.getInheritAttributes((function(){e.editor.setStatus("dangerousInput",!0)}))},t.getInheritAttributes=function(e){var t,n,r=this.editor,i=r.getContentState(),o=r._getInlineAttributesOfPreviousPosition(),a=r.selection.getSelection().toPosition(),l=(a=i.getInlineStyleOverride(a),{});try{for(var s=y(o),u=s.next();!u.done;u=s.next()){var c=w(u.value,2),d=c[0],f=c[1],h=this._getInheritableMatchers();if(null!=h&&h.test(d)){var p=r.getContentState().schema.get(d);if(p&&!1===p.tailInherit&&r._getInlineAttributesOfNextPosition().toMap()[d]!==f){null!=p&&p.refresh&&e&&e();continue}l[d]=f}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return g(g({},l),a)},t._getInheritableMatchers=function(){var e,t;if(this.inheritMatcher)return this.inheritMatcher;var n=this.editor.getContentState().schema,r=[];try{for(var i=y(Object.keys(n.schemas)),o=i.next();!o.done;o=i.next()){var a=o.value;n.schemas[a].mark&&r.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r.length?(this.inheritMatcher=new RegExp(r.join("|")),this.inheritMatcher):null},t._handleReturnKey=function(e){return console.warn("unexpected _handleReturnKey"),null},t._handleDeleteKey=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=1),this._flushInput();var r=this.editor;if(r.triggerEditorEvent(Lt.DELETE_KEY,{e,isBackward:t}),e.defaultPrevented)return null;var i=r.getContentState(),o=i.getActiveZone().getZoneId(),a=(c=(d=r.selection.getSelection()).start).line,l=c.offset,s=d.toPosition(),u=s.start,c=s.len,d={evt:e,deltaSet:(new J).compose(new ae({zoneId:o})),editor:r};if(t&&r.pluginManager.call("editorWillDoDeleteKey",d),r.callAll("aceDoDeleteKey",{editor:r,evt:e,caretLine:r.selection.getSelection().start.line}),s=[],c?(c=new ae({zoneId:o}).retain(u).delete(c),c=d.deltaSet.compose(c),this._apply(c,{type:ar.DeleteRange}),s=[!0]):t&&(l={editor:this.editor,evt:e,lineMarker:null===(i=null===(i=i.getZoneState(o))||void 0===i?void 0:i.getLine(a))||void 0===i?void 0:i.hasLineMarker(),zoneId:o,theLine:a,col:l},s=r.callAll("editorDoDeleteKey",l)),s.includes(!0))return r.callAll("editorAfterDoDeleteKey",{editor:r,theLine:a,evt:e}),null;var f=!1;return d.deltaSet.forEach((function(e){0<e.ops.length&&(f=!0)})),f?d.deltaSet:(n=this._doDefaultDelete(t,n))?d.deltaSet.compose(n):null},t._doDefaultDelete=function(e,t){void 0===t&&(t=1);var n=this.editor.selection.getSelection(),r=this.editor.getContentState(),i=(c=n.start).offset,o=c.zoneId,a=n.toPosition().start,l=new ae({zoneId:o}),s=n.start.line;if(!(d=r.getZoneState(o)))return null;var u,c=d.getLine(s),d=(r=Number(c.hasLineMarker()),o=n.start.offset===r,c.length()-n.start.offset==1);n=c.nextSibling(),c=c.getModelText();return!n&&d&&!e||o&&e&&0===s?null:(e?o?l.retain(a-1-r).delete(r+1):(u="function"==typeof t?t({lineText:c,offset:i,lineMarker:r}):t,l.retain(a-u).delete(u)):d?(n=Number(n.hasLineMarker()),l.retain(a).delete(1+n)):(u="function"==typeof t?t({lineText:c,offset:i,lineMarker:r}):t,l.retain(a).delete(u)),l)},t._handleCompositionEvent=function(e){var t=e.type,n=this.editor;"compositionstart"===t?this._handleCompositionstart(e):"compositionupdate"===t?this._handleCompositionupdate():"compositionend"===t&&this._handleCompositionend(e),n.callAll("aceCompositionEvent",{evt:e,editor:n}),e.stopPropagation()},t._handleCompositionstart=function(e){this.editor.setStatus("isComposing",!0);e=null===(t=e.nativeEvent)||void 0===t?void 0:t.data;var t=this.editor.selection.getSelection();e&&0<e.length&&t.isCollapsed()&&(n=t.start,r=t.end,this.editor.selection.setSelection({start:g(g({},n),{offset:n.offset-e.length}),end:r}));var n=this.editor;n.callAll("aceAfterCompositionStart"),n.setStopUpdateSelection(!0);var r;e=n.selection.getSelection();bn.isAndroid&&e.isCollapsed()&&(r=e.start,e=n._getViewModel(),r=n.getContentState().getActiveZone().getLine(r.line),this.lineDomInComposition=e.getView(r),this.minLenInComposition=Mn(this.lineDomInComposition).join("").replace(/\n/g,"").length)},t._performCompositionInput=function(){for(var e=this.editor,t=e.selection.getSelection().start,n=e._getViewModel(),r=e.getContentState(),i=(a=r.getActiveZone()).getZoneId(),o=a.getLine(t.line),a=n.getView(o),l=(n=Number(o.hasLineMarker()),(o=o.getText()).slice(0,o.length-1)),s=Mn(a).join("").replace(/\n/g,""),u=t.offset-n,c=u,d=c=-1!==this.minLenInComposition&&this.minLenInComposition<l.length?u-(l.length-this.minLenInComposition):c,f=u-l.length,h=0;h<c;h++)if(l[h]!==s[h]){d=h;break}for(h=0;h<l.length-u;h++)if(l[l.length-h-1]!==s[s.length-h-1]){f=-h;break}e.setStatus("dangerousInput",!0),null!==(r=r.rangePointToOffset({zoneId:i,line:t.line,offset:d+n}))&&(t=l.length+f-d,n=s.slice(d,s.length+f),0==t&&0===n.length||(n=new ae({zoneId:i}).retain(r).delete(t).insert(n,this._getInheritAttributesAndsetStatus()),this._apply(n,{type:ar.Composition})))},t._handleCompositionupdate=function(){var e;bn.isAndroid&&this.lineDomInComposition&&(e=Mn(this.lineDomInComposition).join("").replace(/\n/g,"")).length<this.minLenInComposition&&(this.minLenInComposition=e.length)},t._handleCompositionend=function(e){if(bn.isIPad&&!this.editor.getStatus("isComposing")&&this.unusualInputFromIPad)return this.refreshWhenUnusualCompositionendAtIPad(),void(this.unusualInputFromIPad=!1);this.editor.setStatus("isComposing",!1),bn.isFF&&(this._isFirefoxCompositionEnded=!0),this.editor.setStopUpdateSelection(!1),this.lineDomInComposition=null,hr(e.target)||this.editor.isFocusOnBlock()?this.minLenInComposition=-1:(this.editor.callAll("aceBeforeCompositionEnd"),bn.isAndroid&&this.editor.selection.getSelection().isCollapsed()?this._performCompositionInput():this._doInput(ar.Composition),this.minLenInComposition=-1,this.editor.callAll("aceAfterCompositionEnd",{evt:e}),e.preventDefault())},t.refreshWhenUnusualCompositionendAtIPad=function(){var e=(t=this.editor.selection.getSelection().start).zoneId,t=t.line;this.editor.getContentState()._forceRefresh(e,[t])},t._performInput=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={refresh:!1,overtype:!1,type:ar.FlushInput});var r,i,o,a,l,s,u,c=this.editor;!e&&c.selection.getSelection().isCollapsed()||(i=(r=c.getContentState().getActiveZone()).getZoneId(),a=(u=(o=c.selection.getSelection()).toPosition()).start,s=l=u.len,u=o.start.line,(u=r.getLine(u))&&(c.getContentState()._clearInlineStyleOverride(o.toPosition()),(0<l||null!=u&&u.isEmpty())&&c.setStatus("dangerousInput",!0),0===l&&n.overtype&&(s=e.length),t=new ae({zoneId:i}).retain(a).delete(s).insert(e,t),this._apply(t,{type:n.type}),this._mergeInputRecord()))},t._apply=function(e,t){return this.editor.getContentState().apply(e,t)},t.destroy=function(){this._flushInput()},v([Fe],e.prototype,"_handleMouseDown",null),v([Fe],e.prototype,"_handleContentChange",null),v([Fe],e.prototype,"_handleBeforeInput",null),v([Fe],e.prototype,"_handleInput",null),v([Fe],e.prototype,"_handleCompositionEvent",null),v([Fe],e.prototype,"_handleCompositionstart",null),e}()),Er=function(){function e(){}var t=e.prototype;return t.match=function(e,t){return!1},t.renderLine=function(e){return e.children},t.render=function(e){return e.children},t.serialize=function(e){return e},t.deserialize=function(e){return e.deltaSet},e}(),xr=[/[\b]/g,new RegExp(String.fromCharCode(8203),"g")];function Mr(e){var t=e;return xr.forEach((function(e){return t=t.replace(e,"")})),t}function Sr(e){return e.replace(/\r/g," ").replace(/\xa0/g," ").replace(/\t/g," ".repeat(8))}var Tr,Ar=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="TextNodeDeserializer",t}return h(t,e),t.prototype.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId,i=e.text,o=e.types;if(o.includes("text/html")){if(wn(t)){var a=null!==(e=t.nodeValue)&&void 0!==e?e:"",l="",s=0,u=!1;if(0===a.trim().length&&"body"===(null===(e=t.parentElement)||void 0===e?void 0:e.tagName.toLowerCase()))return n.concat(new ae({zoneId:r}));for(var c=t.parentNode;c;){if(c instanceof HTMLElement){var d=c.tagName,f=c.style;if("pre"===d.toLowerCase()){u=!0;break}if(f.whiteSpace){u=f.whiteSpace.startsWith("pre");break}}c=c.parentNode}t=new J;for(var h,p,g=new ae({zoneId:r});0<a.length;)u?(h=a.includes("\n"),s=(p=a.split("\n",1)[0]).length+1,l=a.substring(s),g.insert(Sr(Mr(a=p))),a=l,h&&g.insertEnter()):(l="",a=(a=a.replace(/\r\n/g," ").replace(/[\r\n]/g," ")).replace(/\s{2,}/g,(function(e){return e.replace(/[^\u00a0]+/g," ")})),g.insert(Sr(Mr(a))),a=l);return t.concat(g)}}else if(o.includes("text/plain")&&i)return(new J).concat((new ae).insert(Sr(It(Mr(i)))));return n},t}(Er);!function(e){e.LEAF="leaf",e.LINE="line",e.ROOT="root"}(Tr=Tr||{});var Nr="application/x-editor-kit-fragment",Lr="application/x-editor-kit-business-key",Dr={underline:"u",bold:"b",blockquote:"blockquote",italic:"i",strikethrough:"s"},zr="COPY_WITHOUT_PERMISSION",Or="data-multiple-line-wrap",Rr="data-line";var _r=function(){function e(){}var t=e.prototype;return t.getData=function(e,t){return e.getData(t)},t.setData=function(e,t,n){return e.setData(t,n)},t.getTypes=function(e){return e.types},e}(),jr=function(){function e(e){void 0===e&&(e=new _r),this.proxyClipboard=e}var t=e.prototype;return t.getTypes=function(e){return this.proxyClipboard.getTypes(e)},t.getData=function(e,t){return void 0===t&&(t="text/html"),bn.modernIE?this.proxyClipboard.getData(e,"text"):this.proxyClipboard.getData(e,t)},t.setData=function(e,t){var n=t.text,r=t.html;(n||r)&&(t=null===(t=null===(t=null===(t=window.lark)||void 0===t?void 0:t.biz)||void 0===t?void 0:t.clipboard)||void 0===t?void 0:t.setContent,bn.modernIE?this.proxyClipboard.setData(e,"text",r):this.proxyClipboard instanceof _r&&t&&(Ut()||bn.isBytedanceApp&&bn.isIPad||bn.isAndroid&&r.length&&!n.length)?function(e,t){window.lark.biz.clipboard.setContent({text:e,html:t})}(n,r):(this.proxyClipboard.setData(e,"text/html",r),this.proxyClipboard.setData(e,"text/plain",n)))},t.setDataWithoutEvent=function(e){var t=this,n=function(r){r.preventDefault(),r.stopImmediatePropagation&&r.stopImmediatePropagation();var i=e.html,o=e.text;document.createElement("div").innerHTML=i,r=r.clipboardData||window.clipboardData,bn.modernIE?t.proxyClipboard.setData(r,"text",i):(t.proxyClipboard.setData(r,"text/html",i),t.proxyClipboard.setData(r,"text/plain",o)),e.customCopyDatas&&t.setCustomData(r,e.customCopyDatas),document.removeEventListener("copy",n)},r=document.createElement("textarea");document.body.appendChild(r),document.addEventListener("copy",n),r.style.opacity="0",r.value=" ",bn.mobile&&(r.readOnly=!0);var i=window.scrollX,o=window.scrollY;r.focus({preventScroll:!0}),r.select(),bn.isAndroid&&window.scrollTo(i,o),bn.lark&&bn.isIOS?window.lark.biz.navigation.handleCopyMenuClick():document.execCommand("copy"),document.body.removeChild(r)},t.setCustomData=function(e,t){var n,r,i=this;e&&e.setData&&(bn.isAndroid?(n=this.proxyClipboard.getData(e,"text/html"),r="",t.forEach((function(e){var t=e.key;e=e.data;r+='<span id="custom-clipboard-data-'+t+'" data-custom-clipboard="'+encodeURIComponent(e)+'"></span>'})),this.proxyClipboard.setData(e,"text/html",n+r)):t.forEach((function(t){i.proxyClipboard.setData(e,t.key,t.data)})))},t.getCustomData=function(e,t){if(!e||!e.setData)return"";if(bn.isAndroid){var n=this.proxyClipboard.getData(e,"text/html");n=(new DOMParser).parseFromString(n,"text/html").getElementById("custom-clipboard-data-"+t);return decodeURIComponent((null==n?void 0:n.getAttribute("data-custom-clipboard"))||"")}return this.proxyClipboard.getData(e,t)},e}();function Pr(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,32<=(t=10===t?13:t)||13===t?t:0}function Br(e,t,n,r){Object.keys(t).forEach((function(i){var o=t[i];!function(e){return"function"==typeof e&&"number"!==e.nodeType}(o)?e[i]="target"===i?r:n[i]:e[i]=o(n)}))}var Fr={type:null,target:null,currentTarget:null,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hr={propertyName:null,elapsedTime:null,pseudoElement:null},Zr={animationName:null,elapsedTime:null,pseudoElement:null},Wr={view:null,detail:null},Ur=0,Kr=0,Yr=!1,Gr=!1,Vr={screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:null,button:null,buttons:null,relatedTarget:null,movementX:function(e){if("movementX"in e)return e.movementX;var t=Ur;return Ur=e.screenX,Yr?"mousemove"===e.type?e.screenX-t:0:(Yr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Kr;return Kr=e.screenY,Gr?"mousemove"===e.type?e.screenY-t:0:(Gr=!0,0)}},Qr={dataTransfer:null},Xr={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null},qr={key:null,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:null,charCode:function(e){return"keypress"===e.type?Pr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Pr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}},Jr={clipboardData:function(e){return("clipboardData"in e?e:window).clipboardData},data:{}},$r={relatedTarget:null},ei={data:null,dataTransfer:null,inputType:null},ti={data:null},ni=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Br(r,{},t,n),r}return h(t,e),t}(function(){function e(e,t){this.nativeEvent=e,this.type="",Br(this,Fr,e,t),e=null!==e.defaultPrevented&&void 0!==e.defaultPrevented?e.defaultPrevented:!1===e.returnValue,this.isDefaultPrevented=e?Ke:Ye,this.isPropagationStopped=Ye}var t=e.prototype;return t.preventDefault=function(){this.defaultPrevented=!0,this.nativeEvent.preventDefault(),this.isDefaultPrevented=Ke},t.stopPropagation=function(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=Ke},e}()),ri=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.stopEvent=function(){},r.preventEvent=function(){},Br(r,{},t,n),r}return h(t,e),t}(ni),ii=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Br(r,Jr,t,n),r}return h(t,e),t}(ri);var oi=Symbol.isConcatSpreadable;function ai(e){return Array.isArray(e)||function(e){return j(e)&&"[object Arguments]"===_(e)}(e)||!(!e||!e[oi])}function li(e,t,n,r,i){var o,a;if(void 0===n&&ai,void 0===r&&!1,void 0===i&&[],null==e)return i;try{for(var l=_e(e),s=l.next();!s.done;l.next()){var u=s.value;t>0&&n(u)?t>1?li(u,t-1,n,r,i):i.push.apply(i,Pe(u)):r||(i[i.length]=u)}}catch(e){({error:e})}finally{try{s&&!s.done&&l.return&&a.call(l)}finally{if(o)throw o.error}}return i}Array.prototype.flat;var si=function(){function e(e){this.pasteTimes=0,this.fromBusinessKey="",this.editor=e}var t=e.prototype;return e.isBlob=function(e){var t=e.types,n=e.files,r=1===t.length&&n&&n.length;e=2===t.length&&t.includes("text/plain")&&t.includes("Files"),n=2===t.length&&t.includes("text/html")&&t.includes("Files"),t=bn.safari&&t.includes("Files")&&t.includes("text/uri-list");return r||e||n||t},t.callHook=function(e,t,n){var r=!1;(n=void 0===n?{}:n).canPrevent&&(t.preventDefault=function(){r=!0}),n.pickKey&&(i=function(e,t){return t&&(e[n.pickKey]=t),e});var i=this.editor.pluginManager.call(e,t,i);return g(g({},i),{defaultPrevented:r})},t.onPaste=function(t){var n=t.clipboardData;if(n){var r=this.editor,i=new ii(t,t.target),o=null,a=this.editor.clipboard.dataHelper,l=a.getCustomData(n,Nr);this.fromBusinessKey=a.getCustomData(n,Lr);var s,u=/data-editor-unique-id="([0-9a-zA-Z]+)"/;l?(o=function(e){try{return JSON.parse(e)}catch(e){console.error("Warning: JSON parse failed. "+e.message)}}(l))&&(s=o.editorUniqueId):a.getTypes(n).includes("text/html")&&u.test(a.getData(n,"text/html"))&&(s=u.exec(a.getData(n,"text/html"))[1]),(u=this.fromBusinessKey&&this.fromBusinessKey===r.businessKey)||r.log('[Paste][onPaste] Copy from different business "'+this.fromBusinessKey+'"'),!(u=u||r.clipboard.canInternalPasteWhitelist.includes(this.fromBusinessKey))&&this.fromBusinessKey&&console.warn('if want to accept the internal clipboard data from "'+this.fromBusinessKey+'",\n        you can config it into the editor.canInternalPasteWhitelist '+r.clipboard.canInternalPasteWhitelist),this.updatePasteInfo(s);try{this.editor.triggerEditorEvent(Lt.PASTE,i)}catch(t){r.error({e:t,message:"[Paste][onPaste][Warning] call paste event failed.",level:p.ERROR})}if(!i.isDefaultPrevented()){if(n={text:a.getData(n,"text/plain"),types:a.getTypes(n),files:e.isBlob(n)?n.files:void 0,fromBusinessKey:this.fromBusinessKey},o&&u){var c=o.deltas;return this.applyPaste(t,new J(c),g(g({},n),{isInternalPaste:!0}))}o=(u=this.normalizeClipboardData(t)).node,c=u.defaultPrevented,u=u.clipboardHasElement,c||(u=this.deserialize(g({node:o},n),u),r.log("[Paste][onPaste] paste node is:",o),this.applyPaste(t,u,g(g({},n),{isInternalPaste:!1})))}}},t.updatePasteInfo=function(e){e===this.editor.editorUniqueId?this.pasteTimes++:(this.editor.clipboard.from=null,this.pasteTimes=0)},t.getPasteInfo=function(){return{pasteFrom:this.editor.clipboard.from,pasteTimes:this.pasteTimes}},t.normalizeClipboardData=function(e){var t,n=(a=e.clipboardData).types,r=a.files,i=(t=this.editor.clipboard.dataHelper).getData(e.clipboardData,"text/html"),o=t.getData(e.clipboardData,"text/plain"),a=i;i=!!(t=(new DOMParser).parseFromString(a,"text/html").body).firstElementChild;return yi(t),r={UNSAFE_HTML:a,node:t,text:o,files:r},e=this.callHook("UNSAFE_editorNormalizePasteNode",{types:n,data:r,event:e},{canPrevent:!0}),{node:r.node,defaultPrevented:e.defaultPrevented,clipboardHasElement:i}},t.applyPaste=function(e,t,n){e.stopImmediatePropagation(),e.preventDefault();var r,i=this.editor,o=i.selection.getSelection(),a=(r=o.start).zoneId,l=r.line;if(r=null===(u=i.getContentState().getZoneState(a))||void 0===u?void 0:u.getLine(l)){var s,u=Object.keys(t.deltas);u[0]!==fe&&1===u.length&&(s=t.get(u[0]),t=t.replace(u[0],s.create(g(g({},s),{zoneId:fe})))),t.get(fe)||((s=function(e){var t=null;return Object.keys(e.deltas).forEach((function(n){var r;(n=e.get(n))instanceof ae&&!t&&(r=!1,n.forEach((function(e){(null===(e=e.attributes)||void 0===e?void 0:e.zoneId)&&!t&&(r=!0)})),r&&(t=n.zoneId))})),t}(t))?(c=t.get(s),t=t.replace(s,c.create(g(g({},c),{zoneId:fe})))):console.warn("can not find container zone when paste, debug info:",Object.keys(t.deltas).join("|")));var c=t.get(fe);a!==fe&&c&&t.replace(fe,new ae({zoneId:a,ops:c.ops}));var d=t.get(a);if(pi(d,"\n")&&(c=d.reduce((function(e,t,n){return n===d.ops.length-1&&t.insert?e.insert(t.insert.slice(0,-1),t.attributes):e.push(t)}),new ae({zoneId:a})),t.replace(a,c)),e={deltaSet:t,zoneId:a,lineState:r,event:e,isInternalPaste:n.isInternalPaste},!this.callHook("editorWillPaste",e,{canPrevent:!0,pickKey:"deltaSet"}).defaultPrevented){e=function(e,t,n){var r=(a=e.toPosition()).start,i=a.len,o=a.zoneId;if(!t.hasLineMarker())return(new J).concat(new ae({zoneId:o}).retain(r).delete(i)).concat(n);var a=!(null===(l=null===(a=null===(l=n.get(o))||void 0===l?void 0:l.ops[0])||void 0===a?void 0:a.attributes)||void 0===l||!l.lmkr),l=t.hasLineMarker()&&1===e.start.offset;if(a&&l){var s=new ae({zoneId:o}),u=(l=t.slice(0,e.start.offset))._getOps().slice(1);return e=n.reduce((function(e,n){if(n.zoneId!==o||!(n instanceof ae))return e.concat(n);var r=t._getOps()[0].attributes;return s.insertLineMarker(g(g({},r),n.ops[0].attributes)),u.forEach((function(e){return s.push(e)})),n.ops.slice(1).forEach((function(e){return s.push(e)})),e.concat(s)}),new J),l=new ae({zoneId:o}).retain(r-l.length()).delete(i+l.length()),(new J).concat(l).concat(e)}return(new J).concat(new ae({zoneId:o}).retain(r).delete(i)).concat(n)}(o,r,e.deltaSet),i.log("[Paste][applyPaste] paste apply delta:",e),i.getContentState().apply(e,{type:"applyPaste"});try{i.call(Lt.DID_PASTE,{deltaSet:e,UNSAFE_text:n.text,isInternalPaste:n.isInternalPaste})}catch(e){i.error({e,level:p.ERROR,message:"[Paste][applyPaste] "+e.message})}}}else i.error({message:"[Paste][applyPaste][Warning] can't get lineState! zone: "+a+" line: "+l,level:p.ERROR})},t.deserialize=function(e,t){var n=e.node,r=e.html,i=e.text;return"files"in e&&e.files?this.handleBlob(e.files,e.types):n&&(n.hasChildNodes()||t)?this.traverse(n):null!=(r=(r=r&&function(e){var t="<([^>\\/]+)>",n="<\\/([^>]+)>",r=new RegExp(t+"\\n+"+t,"g");t=new RegExp(n+"\\n+"+t,"g"),n=new RegExp(n+"\\n+"+n,"g");return e.replace(r,"<$1><$2>").replace(t,"</$1><$2>").replace(n,"</$1></$2>")}(r))?(new DOMParser).parseFromString(r,"text/html"):null)&&r.body&&r.body.hasChildNodes()?(yi(r.body),this.traverse(r.body)):i?this.handleText(i):(new J).concat(new ae)},t.traverse=function(e){var t=this;if(!e.childNodes.length){var n=(new J).concat(new ae);return this.callHook("deserialize",{node:e,zoneId:fe,deltaSet:n,types:["text/html"],fromBusinessKey:this.fromBusinessKey},{pickKey:"deltaSet"}).deltaSet}return n=Array.from(e.childNodes).reduce((function(e,n){return t.traverse(n).compose(e,!0,!1)}),new J),this.callHook("deserialize",{node:e,zoneId:fe,deltaSet:n,types:["text/html"],fromBusinessKey:this.fromBusinessKey},{pickKey:"deltaSet"}).deltaSet},t.handleText=function(e){var t=(new J).compose(new ae);return this.callHook("deserialize",{text:e,zoneId:fe,deltaSet:t,types:["text/plain"],fromBusinessKey:this.fromBusinessKey},{pickKey:"deltaSet"}).deltaSet},t.handleBlob=function(e,t){var n=(new J).compose(new ae);return this.callHook("deserialize",{files:e,zoneId:fe,deltaSet:n,types:t,fromBusinessKey:this.fromBusinessKey},{pickKey:"deltaSet"}).deltaSet},e}(),ui=function(){function e(e){this.editor=e}var n=e.prototype;return n.onCopy=function(e,t){var n=this.editor;return n.copyable?this._onCopy(e,t):(n.call(zr),e.preventDefault(),void e.stopImmediatePropagation())},n.onCut=function(e,t){var n=this.editor;return n.copyable?n.isEditable()?this._onCopy(e,t,!0):void 0:(n.call(zr),e.preventDefault(),void e.stopImmediatePropagation())},n.slice=function(e){var t=this.editor,n=e.start,r=e.end;e=t.getContentState().getZoneState(n.zoneId),t=new J;return e&&e&&n.zoneId===r.zoneId?(r=new ae({zoneId:n.zoneId,ops:Ci(e,n,r)}),t.add(n.zoneId,r),t):t},n.fixSelectionWithLmkr=function(e){if(e.isCollapsed())return e;var t=(r=e.start).zoneId,n=r.line,r=r.offset;return(n=null===(n=null==(t=this.editor.getContentState().getZoneState(t))?void 0:t.getLine(n))||void 0===n?void 0:n.getLineMarker())&&r===n&&(e.start.offset-=n),e},n._onCopy=function(e,t,n){void 0===n&&(n=!1);var r=this.editor;t=t||this.fixSelectionWithLmkr(r.selection.getSelection());var i,o,a,l,s,u=[];this.editor.pluginManager.call("shouldPreventCopy",{e,html:""},(function(e,t){return u.push(t),e})),u.includes(!0)||(bn.isAndroid&&r.isEditable()&&r.selection.updateBrowserSelection(),s=new ii(e,e.target),r.triggerEditorEvent(e.type,s),s.isDefaultPrevented()||(e.preventDefault(),e.stopImmediatePropagation(),i={deltaSet:this.slice(t),range:t,customCopyDatas:[]},this.callPluginsWillSerialize(i),o={zoneId:(t=i.range).start.zoneId,deltaSet:i.deltaSet,node:null,customCopyDatas:i.customCopyDatas},r.clipboard.from=n?Lt.CUT:Lt.COPY,r.clipboard.resetPasteTimes(),this.serialize(o),a=function(e){return Array.from(e.childNodes).reduce((function(e,t){return e+ki(t)}),"").slice(0,-1)}(o.node),bn.windows&&(a=a.replace(/\n/g,"\r\n")),s=g(g({},o),{text:a}),this.callPluginsDidSerialize(s),i=s.node,o=s.customCopyDatas,a=s.text,l=s.deltaSet,s=e.clipboardData||window.clipboardData,e=r.clipboard.dataHelper,i&&0<i.childElementCount&&e.setData(s,{text:a,html:wi(bi(i))}),0!==o.length&&e.setCustomData(s,o),function(e){if(!e)return!0;var t=e.deltas,n=Object.keys(t);return 0===n.length||!n.some((function(e){return!re(t[e])}))}(l)||(e.setCustomData(s,[{key:Nr,data:JSON.stringify({deltas:l.deltas,editorUniqueId:this.editor.editorUniqueId})}]),e.setCustomData(s,[{key:Lr,data:r.businessKey}])),!0===n&&(r.triggerEditorEvent(Lt.WILL_DELETE_FROM_CUT).shouldPrevent||(t=(n=t||r.selection.getSelection()).start,n=n.end,r.getContentState().deleteText({start:t,end:n},{type:"handleCut"})))))},n.serialize=function(e){var n=this,r=e.deltaSet,i=e.zoneId,o=r.get(i);if(!o)return console.warn("[copy]: zoneDelta  miss, zoneId: "+i),e;var a=document.createDocumentFragment();return o.eachLine((function(r,l,s){var u=document.createDocumentFragment(),c=n.editor.modulesContainer.get(t.ZoneState);c=n.editor.getContentState().getZoneState(i)||new c(i,r),c={lineState:new Ct(r,c),index:s};n.editor.callAll("_editorLineStateWillRender",c),c.lineState.getOps().forEach((function(t){var i;Q(t)&&!ce(t)&&(i=t.insert.replace(/\n/g,"")||"",i=document.createTextNode(i),t=n.callPluginsSerialize(Object.assign(e,{type:Tr.LEAF,node:i,op:t,lineDelta:r})),u.appendChild(t.node))})),(c=document.createElement("div")).style.whiteSpace="pre-wrap",l=n.callPluginsSerialize(Object.assign(e,{type:Tr.LINE,node:u,lineNode:c,lineAttributes:l,lineDelta:r})),c.appendChild(l.node),c.dataset.zoneId=o.zoneId,c.dataset.lineIndex=String(s),c.setAttribute(Rr,"true"),a.appendChild(c)})),r=this.callPluginsSerialize(mi(Object.assign(e,{type:Tr.ROOT,node:a}),{tagAttribute:""})),Object.assign(e,{node:r.node})},n.callPluginsSerialize=function(e){return this.editor.pluginManager.call("serialize",e,(function(t){return e=t})),e},n.callPluginsWillSerialize=function(e){return this.editor.pluginManager.call("editorWillCopy",e)},n.callPluginsDidSerialize=function(e){return this.editor.pluginManager.call("editorWillSetClipboard",e)},v([Fe],e.prototype,"onCopy",null),v([Fe],e.prototype,"onCut",null),v([Fe],e.prototype,"slice",null),e}(),ci=C((function(e){this.editor.error(e)}))(p.ERROR),di=function(){function e(e,t){this.from=null,this.canInternalPasteWhitelist=[],this.editor=e,this.dataHelper=new jr(t),this.pasteModule=new si(e),this.copyModule=new ui(e)}var t=e.prototype;return t.deserialize=function(e,t){return this.pasteModule.deserialize(e,t)},t.serialize=function(e){return this.copyModule.serialize(e)},t.onCopy=function(e){return this.copyModule.onCopy(e)},t.onPaste=function(e){this.pasteModule.onPaste(e)},t.slice=function(e){return this.copyModule.slice(e)},t.onCut=function(e){return this.copyModule.onCut(e)},t.resetPasteTimes=function(){this.pasteModule.pasteTimes=0},t.getPasteInfo=function(){return this.pasteModule.getPasteInfo()},t.setCanInternalPasteWhitelist=function(e){this.canInternalPasteWhitelist=e},t.setDataToClipboard=function(e){var t=e.data,n=e.type;t&&t.html&&(e=g(g({},t),{type:n}),this.editor.callAll("beforeSetDataToClipboard",e),this.from=n,this.resetPasteTimes(),this.dataHelper.setDataWithoutEvent(Object.assign({},t,{html:this.addUniqueIdIntoHTML(e.html)})))},t.copyRange=function(e){this.handleCopyOrCutRange(e,"copy")},t.cutRange=function(e){this.handleCopyOrCutRange(e,"cut")},t.handleCopyOrCutRange=function(e,t){function n(n){if(r.editor){switch(n.stopPropagation(),n.stopImmediatePropagation(),t){case"copy":r.copyModule.onCopy(n,e);break;case"cut":r.copyModule.onCut(n,e)}n.preventDefault()}}var r=this,i=this.editor,o=document.createElement("textarea");(i=bn.isIPad?i.getOuterContainer():document.body).appendChild(o),o.addEventListener(t,n),o.style.position="fixed",o.style.left="-10000000px",o.value=" ",o.focus(),o.select(),document.execCommand(t),o.removeEventListener(t,n),i.removeChild(o)},t.addUniqueIdIntoHTML=function(e){return e?((e=$((new DOMParser).parseFromString(e,"text/html").body)).children().first().attr("data-editor-unique-id",this.editor.editorUniqueId),e.html()):e},v([ci],e.prototype,"deserialize",null),v([ci],e.prototype,"serialize",null),v([ci],e.prototype,"onCopy",null),v([ci],e.prototype,"onPaste",null),v([ci],e.prototype,"onCut",null),v([ci],e.prototype,"setDataToClipboard",null),v([ci],e.prototype,"copyRange",null),v([ci],e.prototype,"cutRange",null),e}();function fi(e,t,n,r){void 0===r&&(r=!0);var i=new J;return e.forEach((function(e,o){i=o===t?(o=e.create({zoneId:o}),o=e.reduce((function(e,t){var i;if(!t.insert||null!==(i=t.attributes)&&void 0!==i&&i.lmkr)return e.push(t);var o=r?g(g({},t.attributes),n):g(g({},n),t.attributes);if("string"!=typeof t.insert)e.insert(t.insert.id,o);else for(var a=t.insert;0<a.length;){var l=a.includes("\n"),s=a.split("\n",1)[0],u=a.substring(s.length+1);e.insert(a=s,o),a=u,l&&e.insertEnter(t.attributes)}return e}),o),i.concat(o)):i.concat(e)})),i}function hi(e,t,n,r){void 0===r&&(r=!0);var i=new J;return e.forEach((function(e,o){var a;i=o===t&&e instanceof ae?(a=new ae({zoneId:o}),e.eachLine((function(e){e.ops.forEach((function(e,t){0===t?(t=null!==(t=e.attributes)&&void 0!==t?t:{},ee(e)?a.insert("*",r?g(g({},t),n):g(g({},n),t)):a.insertLineMarker(n).push(e)):a.push(e)}))})),i.concat(a)):i.concat(e)})),i}function pi(e,t){for(var n="",r=e.ops.length-1;0<=r&&n.length<t.length;--r){var i=e.ops[r];if("string"!=typeof i.insert)break;n=i.insert+n}return n.slice(-1*t.length)===t}function gi(e,t){var n=e.type,r=e.node,i=e.op,o=t.tagAttribute;return n===Tr.LEAF&&i&&i.attributes&&i.attributes[o]?(o=t.wrapTag||Dr[o],(o=document.createElement(o)).appendChild(r),Object.assign(e,{node:o})):e}function vi(e){var t=[];try{t=JSON.parse(e.getAttribute(Or)||"[]")}catch(e){t=[]}return t}function mi(e,t){var n,r,i=e.type,o=e.node,a=e.lineAttributes,l=t.tagAttribute,s=t.wrapNodesInfo;a=a&&a[l],l=t.wrapTag||Dr[l]||a;if(i===Tr.LINE&&a&&(o instanceof Element||((a=document.createElement("div")).appendChild(o),o=a),l&&!s&&(s=[{tag:l}]),o.setAttribute(Or,JSON.stringify(I(s,vi(o))))),i===Tr.ROOT){var u=[];i=Array.from(o.querySelectorAll("[data-line]"));try{for(var c=y(i),d=c.next();!d.done;d=c.next())!function(e){var t=e.querySelectorAll("["+Or+"]")[0];if(!t)return u=[];var n=vi(t);if(n.length){t.removeAttribute(Or);var r=[],i=document.createElement(n[0].tag);n.reduce((function(e,o,a){var l,s,c,d=o.tag,f=o.style,h=o.attributes,p=(o=o.split,document.createElement(d));if(f)try{for(var g=(l=void 0,y(Object.entries(f))),v=g.next();!v.done;v=g.next()){var m=w(v.value,2),b=m[0],I=m[1];p.style[b]=I}}catch(e){l={error:e}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(l)throw l.error}}if(h)try{for(var C=(x=void 0,y(Object.entries(h))),k=C.next();!k.done;k=C.next()){var E=w(k.value,2);b=E[0],I=E[1];p.setAttribute(b,I)}}catch(e){x={error:e}}finally{try{k&&!k.done&&(c=C.return)&&c.call(C)}finally{if(x)throw x.error}}var x=u[a];return!o&&x&&x.tagName.toLowerCase()===d.toLowerCase()?!(p=x).getAttribute("start")&&null!=h&&h.start&&p.setAttribute("start",h.start):u=[],r.push(p),0===a?i=p:e.appendChild(p),a===n.length-1&&p.appendChild(t),p}),i),u=r,e.parentNode.insertBefore(i,e),e.hasChildNodes()||e.parentNode.removeChild(e)}}(d.value)}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}return Object.assign(e,{node:o})}function bi(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}function yi(e){try{Array.from(e.querySelectorAll("style")).forEach((function(t){var n,r;t.textContent&&/\}?(\S+)\s*{[\s\S]*?white-space\s*:\s*pre[\s\S]*?}/.test(t.textContent)&&(!(n=/\}?(\S+)\s*{[\s\S]*?white-space\s*:\s*pre[\s\S]*?}/.exec(t.textContent.replace(/<!--[\s\S]*?-->/,"")))||(t=/white-space\s*:\s*pre.*?(?=;| |})/.exec(n[0]))&&(r=t[0].split(":")[1],Array.from(e.querySelectorAll(n[1])).forEach((function(e){e instanceof HTMLElement&&(e.style.whiteSpace=r.trim())}))))}))}catch(n){console.error(n)}var t,n=[".ignore-collect",".ignore-dom","style","script"];Array.from(e.querySelectorAll(n.join(","))).forEach((function(e){e.innerHTML=""})),t=e,Array.from(t.childNodes).forEach((function(e){var t;e.nodeType!==Node.TEXT_NODE&&e.nodeType!==Node.ELEMENT_NODE&&null!==(t=e.parentNode)&&void 0!==t&&t.removeChild(e)}))}function wi(e){return e.replace(/<(?:img|iframe)[^>]*(data-no-request-)src=[^>]*>/g,(function(e,t){return e.replace(t,"")}))}var Ii=function(e,t,n){var r=[],i=0;return e.getOps().forEach((function(e){var o,a,l;null!=e&&e.insert&&"string"==typeof e.insert&&(o=K(e),i<=n&&t<=i+o&&(a=Math.max(0,t-i))<(l=Math.min(o,n-i))&&r.push({insert:e.insert.slice(a,l),attributes:g({},e.attributes)}),i+=o)})),r},Ci=function(e,t,n){for(var r=[],i=Math.max(0,t.line),o=Math.min(n.line,e.length()-1),a=i;a<=o;a++){var l=e.getLine(a);t.line===o?r.push.apply(r,I(Ii(l,t.offset,n.offset))):a===i?r.push.apply(r,I(Ii(l,t.offset,l.length()))):a===o?r.push.apply(r,I(Ii(l,0,n.offset))):r.push.apply(r,I(Ii(l,0,l.length())))}return r};function ki(e){if(e instanceof Text)return e.textContent;if(!(e instanceof Element))return"";var t="";return e.childNodes.forEach((function(e){t+=ki(e)})),e.getAttribute(Rr)&&(t+="\n"),t}function Ei(e){return["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","th","tr","ul","video"].includes(e.nodeName.toLowerCase())}function xi(e){return e.hasChildNodes()||e.textContent||"img"===e.nodeName.toLowerCase()}var Mi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="BlockElementDeserializer",t}return h(t,e),t.prototype.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;e=n.get(r)instanceof ae;if(t instanceof Element&&e){var i=new J;return n.forEach((function(e,n){var o;e instanceof ae&&n===r?"BR"!==(n=t.tagName)||pi(e,"\n")?Ei(t)?"DIV"===n&&!t.hasChildNodes()&&t.nextSibling&&Ei(t.nextSibling)&&t.nextSibling.hasChildNodes()?i.concat(e):(o=new ae(e),function(e){for(var t=e.previousSibling;t;){if(Ei(t))return!1;if(xi(t))return!0;t=t.previousSibling}return!1}(t)&&t.hasChildNodes()&&(o=new ae({zoneId:r}).insertEnter().concat(e)),pi(e,"\n")||o.insertEnter(),i=i.concat(o)):i=i.concat(e):((o=e.create(e)).insertEnter(),i=i.concat(o)):i=i.concat(e)})),i}return n},t}(Er),Si=i.createContext(null),Ti=function(e){return i.forwardRef((function(t,n){return i.createElement(Si.Consumer,null,(function(r){return i.createElement(e,g({},t,{editor:r,ref:n}))}))}))},Ai=new(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.eventTypes=new Map,t.extractEvents=function(e){return"change"===e.type?new ni(e,e.target):null},t}return h(t,e),t}((function(){}))),Ni=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.view=null,r.detail=0,Br(r,Wr,t,n),r}return h(t,e),t}(ni),Li=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.screenX=0,r.screenY=0,r.clientX=0,r.clientY=0,r.pageX=0,r.pageY=0,r.ctrlKey=!1,r.shiftKey=!1,r.altKey=!1,r.metaKey=!1,r.getModifierState=function(){return!1},r.button=0,r.buttons=0,r.relatedTarget=null,r.movementX=0,r.movementY=0,Br(r,Vr,t,n),r}return h(t,e),t}(Ni);var Di="abort",zi="animationend",Oi="animationiteration",Ri="animationstart",_i="blur",ji="canplay",Pi="canplaythrough",Bi="click",Fi="compositionend",Hi="compositionstart",Zi="compositionupdate",Wi="contextmenu",Ui="copy",Ki="dblclick",Yi="auxclick",Gi="drag",Vi="dragend",Qi="dragenter",Xi="dragexit",qi="dragleave",Ji="dragover",$i="dragstart",eo="drop",to="durationchange",no="emptied",ro="encrypted",io="ended",oo="error",ao="focus",lo="gotpointercapture",so="keydown",uo="keypress",co="keyup",fo="loadstart",ho="loadeddata",po="loadedmetadata",go="lostpointercapture",vo="mousedown",mo="mousemove",bo="mouseout",yo="mouseover",wo="mouseup",Io="paste",Co="pause",ko="play",Eo="playing",xo="pointercancel",Mo="pointerdown",So="pointermove",To="pointerout",Ao="pointerover",No="pointerup",Lo="progress",Do="ratechange",zo="scroll",Oo="seeked",Ro="seeking",_o="stalled",jo="suspend",Po="timeupdate",Bo="touchcancel",Fo="touchend",Ho="touchmove",Zo="touchstart",Wo="transitionend",Uo="volumechange",Ko="waiting",Yo="wheel",Go=new function(){var e=this;this.eventTypes=new Map,this.extractEvents=function(t){return e.eventTypes.get(t.type)?new Li(t,t.target):null},[bo,yo].forEach((function(t){return e.eventTypes.set(t,!0)}))},Vo=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Br(r,ti,t,n),r}return h(t,e),t}(ni),Qo=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.key="",r.location=0,r.ctrlKey=!1,r.shiftKey=!1,r.altKey=!1,r.metaKey=!1,r.repeat=!1,r.locale="",r.charCode=0,r.keyCode=0,r.which=function(){return 0},Br(r,qr,t,n),r}return h(t,e),t}(ri),Xo=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Br(r,$r,t,n),r}return h(t,e),t}(Ni),qo=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.deltaX=0,r.deltaY=0,r.deltaZ=0,r.deltaMode=0,Br(r,Xr,t,n),r}return h(t,e),t}(Li),Jo=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Br(r,Zr,t,n),r}return h(t,e),t}(ni),$o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.propertyName="",r.elapsedTime=0,r.pseudoElement="",Br(r,Hr,t,n),r}return h(t,e),t}(ni),ea=[_i,"cancel",Bi,"close",Wi,Ui,"cut",Yi,Ki,Vi,$i,eo,ao,"input","invalid",so,uo,co,vo,wo,Io,Co,ko,xo,Mo,No,Do,"reset",Oo,"submit",Bo,Fo,Zo,Uo,Hi,Zi,Fi],ta=[Gi,Qi,Xi,qi,Ji,mo,bo,yo,So,To,Ao,zo,"toggle",Ho,Yo],na=[Di,zi,Oi,Ri,ji,Pi,to,no,ro,io,oo,lo,"load",ho,po,fo,go,Eo,Lo,Ro,_o,jo,Po,Wo,Ko],ra=[new function(){var e=this;this.eventTypes=new Map,this.extractEvents=function(t){var n;if(!e.eventTypes.get(t.type))return null;switch(t.type){case uo:case so:case co:n=Qo;break;case _i:case ao:n=Xo;break;case Bi:case Yi:case Ki:case vo:case mo:case wo:case bo:case yo:case Wi:n=Li;break;case Gi:case Vi:case Qi:case Xi:case qi:case Ji:case $i:case eo:console.error("view组件暂不支持拖拽事件, 事件类型:",t.type),n=ni;break;case Bo:case Fo:case Ho:case Zo:console.error("view组件暂不支持touch事件, 事件类型:",t.type),n=ni;break;case zi:case Oi:case Ri:n=Jo;break;case Wo:n=$o;break;case zo:n=Ni;break;case Yo:n=qo;break;case Ui:case"cut":case Io:n=ii;break;case lo:case go:case xo:case Mo:case So:case To:case Ao:case No:console.error("view组件暂不支持pointer事件, 事件类型:",t.type),n=ni;break;case Hi:case Fi:case Zi:n=Vo;break;default:n=ni}return new n(t,t.target)},ea.concat(ta).concat(na).forEach((function(t){return e.eventTypes.set(t,!0)}))},Go,Ai];function ia(e){return e.slice(2).toLowerCase()}function oa(e,t){return e?t.selection._toModelRange({startContainer:e,startOffset:0,endContainer:e,endOffset:e.childNodes.length}):null}function aa(e){var t=function(e){for(var t=null,n=0;n<ra.length;n++){var r=ra[n].extractEvents(e);if(r){t=r;break}}return t||(console.warn("正在使用未被支持的合成事件"),t=new ni(e,e.target)),t}(e.nativeEvent),n=t.preventDefault,r=t.stopPropagation;return t.preventDefault=function(){n.call(t),e.preventDefault()},t.stopPropagation=function(){r.call(t),e.stopPropagation()},t.currentTarget=e.currentTarget,t.target=e.target,t}var la,sa=["select","deselect"],ua=I(sa,["enterviewport","leaveviewport"]),ca=[].concat(ua),da=["focusevent","mouseevent","touchevent","pointerevent"];!function(e){e.IMG="img",e.TEXT="span",e.VIEW="div"}(la=la||{});var fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editor=t.context,t.option={},t._events={},t._selected=!1,t._ref=i.createRef(),t._prevSel=null,t._handleEditorSelectionChange=function(){if(t.option.selectEventEnabled){var e,n,r,i,o=null;try{o=oa(t._ref.current,t.editor)}catch(e){}o&&(r=!(n=t.editor.selection.getSelection(o.start.zoneId))||!t._prevSel&&n.isCollapsed()||(null===(e=t._prevSel)||void 0===e?void 0:e.isCollapsed())&&n.isCollapsed(),t._prevSel=n,r||(e=n.start,r=n.end,n=o.start,o=o.end,(r=e.zoneId===n.zoneId&&e<=n&&o<=r)&&!t._selected?(i=t._events.select,t._selected=!0,null!=i&&i.call(i)):!r&&t._selected&&(i=t._events.deselect,t._selected=!1,null!=i&&i.call(i))))}},t}h(t,e);var n=t.prototype;return n.componentDidMount=function(){this.updateEventCb(),this.editor=this.context,this._bindEditorEvents()},n.componentDidUpdate=function(e){this.updateEventCb()},n.componentWillUnmount=function(){this.editor.off(Lt.SELECTION_CHANGE_AND_DOM_UPDATE,this._handleEditorSelectionChange)},n.updateEventCb=function(){var e=this;this._events=Object.keys(this.props).filter((function(e){return e.startsWith("on")})).reduce((function(t,n){return t[ia(n)]=e.props[n],t}),{})},n._bindEditorEvents=function(){var e=this;this.option.selectEventEnabled&&sa.find((function(t){return e._events[t]}))&&this.editor.on(Lt.SELECTION_CHANGE_AND_DOM_UPDATE,this._handleEditorSelectionChange)},n._triggerEventCallback=function(e,t){var n=this._events[e.type],r=aa(e);n&&(da.includes(function(e){var t=/^\[object (\S+)\]/i;return e=e.toString().toLocaleLowerCase(),t.test(e)?t.exec(e)[1]:(console.error("can not get event classification"),"")}(t))&&(e=oa(e.currentTarget,this.editor),r.evtTargetSelection=e),n.call(n,r))},n._handleSynthesisEvents=function(e){this._triggerEventCallback(e,e.nativeEvent)},n.render=function(){var e=this,t=this.tagName,n=Object.keys(this.props).reduce((function(t,n){return n.startsWith("on")?t[n]=ca.includes(ia(n))?void 0:e._handleSynthesisEvents:t[n]=e.props[n],t}),{});return i.createElement(t,g({ref:this._ref},n),this.props.children)},t.contextType=Si,v([Fe],t.prototype,"_bindEditorEvents",null),v([Fe],t.prototype,"_triggerEventCallback",null),v([Fe],t.prototype,"_handleSynthesisEvents",null),t}(i.PureComponent),ha=i.forwardRef((function(e,t){return i.createElement("span",g({ref:t,"data-zero-space":!0},e),ve)}));var pa="priority";function ga(e){return function(t,n,r){return t[n+"_"+pa]=e,r}}function va(e,t){return I(e).sort((function(e,n){return ma(e,t)-ma(n,t)}))}function ma(e,t){return"number"==typeof e[t+"_"+pa]?e[t+"_"+pa]:1e3}var ba,ya,wa=function(){return[]},Ia=function(){function e(e,t){var n=this;this._plugins=[],this._matchCache=new Map,this._indexMap=new Map,this._pluginsWithPriorityMapCache=new Map,this._pluginConstructorSet=new Set,this._zoneToPlugins=new Map,this._init=function(){var e=n.editor;return n._registerPlugin(e).forEach((function(e){n.register(e)})),n._pluginsWithPriorityMapCache.clear(),n._plugins},this._registerPlugin=null!=t?t:wa,this.editor=e}var t=e.prototype;return t.setPluginToZoneMap=function(e,t){var n=null!==(n=this._zoneToPlugins.get(t=void 0===t?"all":t))&&void 0!==n?n:new Set;n.add(e),this._zoneToPlugins.set(t,n)},t.resetPluginToZoneMap=function(e){e?this._zoneToPlugins.delete(e):this._zoneToPlugins=new Map},t.isPluginInZone=function(e,t){return(null===(t=this._zoneToPlugins.get(t))||void 0===t?void 0:t.has(e.constructor))||(null===(t=this._zoneToPlugins.get("all"))||void 0===t?void 0:t.has(e.constructor))},t.register=function(e,t){if(Array.isArray(e)){var n=(r=w(e,2))[0],r=r[1];if(this.setPluginToZoneMap(n,t),this._pluginConstructorSet.has(n))return;e=new n(r)}else if(n=e.constructor,this.setPluginToZoneMap(n,t),this._pluginConstructorSet.has(n))return;this.process(e,this._plugins.length)},t.process=function(e,t){this._pluginsWithPriorityMapCache.clear(),this._plugins.push(e),this._indexMap.set(e,t),this._pluginConstructorSet.add(e.constructor)},t.call=function(e,t,n,r){var i=this;return void 0===n&&(n=function(e,t){return e}),this.getPluginsWithPriority(e,r).reduce((function(t,r){var o=r[e];if(o&&"function"==typeof o){try{return n(t,o.call(r,t))}catch(t){r="Warning: call hook failed. hook: "+e+". plugin: "+r.name,i.editor.error({e:t,level:Ne.ERROR,message:r})}return t}return t}),t)},t.getPluginsWithPriority=function(e,t){var n=this,r=[];return this._pluginsWithPriorityMapCache.has(e)?r=this._pluginsWithPriorityMapCache.get(e):(r=va(this._plugins,e),this._pluginsWithPriorityMapCache.set(e,r)),t?r.filter((function(e){return n.isPluginInZone(e,t)})):r},t.getPlugins=function(e){var t=this;return e?this._plugins.filter((function(n){return t.isPluginInZone(n,e)})):this._plugins},t._matchPlugin=function(e,t,n){var r,i,o=e+t,a=this._matchCache.get(o);if(!a)try{for(var l=y(this._plugins),s=l.next();!s.done;s=l.next()){var u=s.value;try{if(u.match&&u.match(e,t)){this._matchCache.set(o,u),a=u;break}}catch(e){var c="Warning: call hook failed. hook: match. plugin: "+u.name;this.editor.error({e,level:Ne.ERROR,message:c})}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!a||n&&!this.isPluginInZone(a,n)?null:a},t.getPlugin=function(e,t){var n,r;try{for(var i=y(this._plugins),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.name===e)return!t||this.isPluginInZone(a,t)?a:null}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null},t._indexOf=function(e){return null!==(e=this._indexMap.get(e))&&void 0!==e?e:-1},t.destroy=function(){this.call("destroy",{}),this._plugins=[],this._registerPlugin=null,this._matchCache.clear(),this._indexMap.clear(),this._pluginsWithPriorityMapCache.clear(),this._pluginConstructorSet.clear(),this._zoneToPlugins.clear()},e}(),Ca=function(){function e(e){var t=e.wrappers,n=e.content;e=e.key;this.key=e||this.hashKey(n),this.wrappers=t,this.content=n}var t=e.prototype;return t.hashKey=function(e){var t="",n=e.length;return e.forEach((function(e){var r=e.getKey();e=r.length;t+=r.slice(0,Math.max(Math.ceil(8/n),1))+r[Math.floor(e/2)-1]+r.slice(Math.min(Math.ceil(-12/n),-1))})),t},t._refreshKey=function(){this.key=this.hashKey(this.content)},t.compare=function(t){if(!t||this.key!==t.getKey())return e.UNEQUAL;var n=this.content.length===t.content.length;if(n)for(var r=0,i=this.content.length;r<i;r++)if(this.content[r]!==t.content[r]){n=!1;break}return n?e.EQUAL:e.UDPATE},t.isEmpty=function(){return 0===this.content.length},t.getKey=function(){return this.key},t.isInvisible=function(){return this.content.every((function(e){return e._invisible}))},e.EQUAL=dt.EQUAL,e.UNEQUAL=dt.UNEQUAL,e.UDPATE=dt.UPDATE,e}();function ka(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.set(i.getKey(),{data:i,index:n})}return t}function Ea(e,t,n,r){return t?t.index<e?{op:ba.MOVE,oldIndex:e,newIndex:n}:t.data.compare(r)===dt.EQUAL?{op:null,oldIndex:t.index+1}:{op:ba.UPDATE,oldIndex:t.index,newIndex:n}:{op:ba.INSERT,oldIndex:e,newIndex:n}}(ya=ba=ba||{})[ya.DELETE=-1]="DELETE",ya[ya.DONE=0]="DONE",ya[ya.INSERT=1]="INSERT",ya[ya.UPDATE=2]="UPDATE",ya[ya.MOVE=3]="MOVE";var xa=function(e){function t(t){var n=e.call(this,t)||this;return n.prevContent=[],n._node=null,n.state={data:t.data},n}h(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){this.state.data.compare(e.data)!==dt.EQUAL&&this.setState({data:e.data})},n.update=function(e,t){this.prevContent=this.state.data.content,this.setState({data:e},t)},n.render=function(){var e=(r=this.props).renderContent,t=r.extraProps,n=r.elements,r=this.state.data.content,o={};return this.prevContent.length&&function(e,t){for(var n=ka(e),r=[],i=0,o=0,a=t.length;o<a;o++){var l=t[o],s=n.get(l.getKey());i=(l=Ea(i,s,o,l)).oldIndex,l.op&&r.push(l),s&&n.delete(s.data.getKey())}return n.forEach((function(e){r.push({op:ba.DELETE,oldIndex:e.index,newIndex:e.index})})),r}(this.prevContent,r).forEach((function(e){e.op===ba.INSERT&&(o[e.newIndex]=!0)})),r=r.map((function(n,r){return e(n,o[r]?g({},t):t)})),n.reduceRight((function(e,t){return i.cloneElement(t,void 0,e)}),r)},t}(i.PureComponent),Ma=function(e){function t(t){var n=e.call(this,t)||this;n.wrapperCache={},n.viewRefs={},n.handleContentChange=function(e){var t,r,i,o=e.deltaSet,a=e.previous,l=n.editor;e=n.content.getZoneId();o.deltas[e]&&((l=l.getContentState().getZoneState(e))&&(n.content=l),t=n.formatRenderContent(),r=n.state.dataSource,(e=a.getZoneState(e))&&n.updateZoneViewModel(e),n.task&&(n.task.canceled=!0),i=Promise.resolve().then((function(){i.canceled||(n.editor.setStatus("isPainting",!0),n.setState({dataSource:n.fixRenderContent(t,r)}))})),n.task=i)},n.preventNextRender=function(e){e=e.zoneId,n.task&&e===n.content.getZoneId()&&(n.task.canceled=!0)},n.handleRefresh=function(e){var t=e.zoneId,r=n.editor;(e=n.content.getZoneId())===t&&((e=r.getContentState().getZoneState(e))&&(n.content=e),n.editor.setStatus("isPainting",!0),n.setState({dataSource:n.formatRenderContent()}))},n.initRefs=function(e,t){if(t)for(var r=(n.viewRefs[e]=t)._node,i=r&&r.parentElement,o=n.editor.getContainer();i;){if(i.hasAttribute(xe)||i===o){r.root=i;break}i=i.parentElement}},n.updateItem=function(e,t,r){var i=e.getKey();(i=n.viewRefs[i])&&i.update(e,r)},n.handleDidPaint=function(e,t){var r,i,o;void 0===t&&(t={}),!1!==n.editor.mounted&&(r=(o=n.props).editor,i=o.onDidPaint,o=o.zoneId,i&&i(e,t),r.call(Lt.PAINT,{data:e,zoneId:o}),r.selection.getSelection().start.zoneId!==o||r.getStatus("isPerforming")||r.getStatus("preventUpdateDomSelection")||!r.isFocus()||r.selection.updateBrowserSelection(),n.editor.setStatus("contentChanged",!1),r.call("dirtyDomWithoutChangeset"))},n.updateZoneViewModel=function(e){var t=n.editor._getViewModel(),r=t.getView(e);t._deleteNode(e),r&&t._setNode(n.content,r)};t=(r=n.props).editor;var r=r.zoneId;return(r=t.getContentState().getZoneState(r))&&(n.content=r),n.editor=t,n.state={dataSource:n.formatRenderContent()},t.on(Lt.CONTENT_CHANGE,n.handleContentChange,{priority:100,zoneId:n.content.getZoneId()}),t.on("_preventNextRender",n.preventNextRender),t.on("_forceRefresh",n.handleRefresh),n}h(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e,t,n,r,i=this.state.dataSource,o={};try{for(var a=y(i),l=a.next();!l.done;l=a.next())o[l.value.getKey()]=!0}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}try{for(var s=y(Object.keys(this.viewRefs)),u=s.next();!u.done;u=s.next()){var c=u.value;o[c]||delete this.viewRefs[c]}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},n.componentWillUnmount=function(){this.editor.off("_forceRefresh",this.handleRefresh),this.editor.off("_preventNextRender",this.preventNextRender),this.editor.off(Lt.CONTENT_CHANGE,this.handleContentChange),this.task&&(this.task.canceled=!0)},t.defaultProps={onDidPaint:function(){return null},height:1/0,onMount:function(){return null}},t}(i.PureComponent),Sa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isMounted=!1,t.keyToNode=new Map,t.keyToData=new Map,t.renderLineView=function(e){var n=e.getKey();t.isDirty(e)&&(n+=Math.random());var r={};return e instanceof Ca&&(r={id:n,ref:function(t){return t&&(e._node=t)}}),i.createElement("div",g({key:n},r),t.props.renderItem(e))},t}h(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.dispatchPaintEvent(),this.props.dataSource.forEach((function(t){var n=t.getKey();e.keyToNode.set(n,t._node),e.keyToData.set(n,t)}))},n.componentDidUpdate=function(){var e=this,t=this.props.editor;t.getStatus("isPainting")&&(t.setStatus("isPainting",!1),this.dispatchPaintEvent(),this.keyToNode.clear(),this.keyToData.clear(),this.props.dataSource.forEach((function(t){var n=t.getKey();e.keyToNode.set(n,t._node),e.keyToData.set(n,t)})))},n.componentWillUnmount=function(){this._isMounted=!1,this.keyToNode.clear(),this.keyToData.clear()},n.dispatchPaintEvent=function(){var e=this;Promise.resolve().then((function(){e._isMounted&&e.props.onDidPaint(e.props.dataSource.map((function(e,t){return{data:e,originIndex:t}})))}))},n.isDirty=function(e){return!(!(e=this.keyToNode.get(e.getKey()))||document.contains(e)&&1===e.childNodes.length)},n.render=function(){return this.props.dataSource.map(this.renderLineView)},t}(i.PureComponent),Ta=function(e,t){function n(n){var r,i,o,a,l,s,u=e.getContentState(),c=u.getZoneState(t);if(c)try{for(var d=y(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.addedNodes.length)try{for(var p=(o=void 0,y(Array.from(h.addedNodes))),g=p.next();!g.done;g=p.next()){var v=g.value;if(v.nodeType===Node.TEXT_NODE&&v.textContent){var m,b,w=0;if(v.nextSibling){if(!(v.nextSibling instanceof HTMLElement))continue;var I=v.nextSibling;if(!(I=v.nextSibling.hasAttribute(ye)?I:v.nextSibling.querySelector("[data-node]")))continue;var C=e._getViewModel().getModel(I);if(!C)continue;w=C.index}else w=c.length();-1===w||null!==(m=0===w?0:c.pointToOffset({line:w-1,offset:((null===(l=c.getLine(w-1))||void 0===l?void 0:l.length())||1)-1}))&&(null!==(s=v.parentNode)&&void 0!==s&&s.removeChild(v),b=new ae({zoneId:t}).retain(m),b=0===w?b.insert(v.textContent).insertEnter():b.insertEnter().insert(v.textContent),u.apply(b))}}}catch(n){o={error:n}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}}catch(n){r={error:n}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}(0,i.useLayoutEffect)((function(){var r=null===(r=e.getContentState().getZoneState(t))||void 0===r?void 0:r._node;if(r){var i=function(e,t,n){return(n=new MutationObserver(n)).observe(e,t),n}(r,{childList:!0},n);return function(){i.disconnect()}}}),[e,t])};function Aa(){var e="";return!bn.mobile||bn.isIPad&&!bn.isBytedanceApp||(e+=" editor-kit-mobile ",bn.isAndroid?e+=" android ":bn.isIOS&&(e+=" ios ")),bn.isIPad&&(e+=" ipad "),e}function Na(e,t){t=function(e,t){void 0===t&&(t=!1),e=e.parentElement;var n=[],r=document.scrollingElement||document.documentElement;!t&&e&&(r=e);for(var i=e;i&&i!==r;)(i.offsetHeight<i.scrollHeight||i.offsetWidth<i.scrollWidth)&&n.push([i,i.scrollTop,i.scrollLeft]),i=i.parentElement;return n.push([r,r.scrollTop,r.scrollLeft]),n}(e,t=void 0!==t&&t),e.focus({preventScroll:!0}),function(e){for(var t=0;t<e.length;t++)e[t][0].scrollTop=e[t][1],e[t][0].scrollLeft=e[t][2];e=[]}(t)}var La=function(){function e(e){var t=e.editor;e=e.range;this.ranges=[],this.prevRanges=[],this.updateDomSelectionTimes=0,this.preDomSelection=null,this.editor=t,e&&(this.ranges.push(e),this.prevRanges.push(e))}var n=e.prototype;return Object.defineProperty(n,"range",{get:function(){return this.ranges[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n,"prevRange",{get:function(){return this.prevRanges[0]},enumerable:!1,configurable:!0}),n.updateDomSelectionFlags=function(e,t){this.updateDomSelectionTimes=e,this.preDomSelection=t},n.resetDomSelectionFlags=function(){this.updateDomSelectionFlags(0,null)},n.getRootNodeOfZone=function(e){return e&&(null===(e=this.editor.getContentState().getZoneState(e))||void 0===e?void 0:e.getContainer())||null},n.focus=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=null===(i=this.range)||void 0===i?void 0:i.start.zoneId,i=!1;"boolean"==typeof(e=void 0!==e&&e)?(i=e,n=t):(r=e,i=t),!r||!n&&this.hasFocus(r)||(r=this.getRootNodeOfZone(r))&&(Na(r,i),this.setSelection(this.ranges,!0))},n.hasFocus=function(e){var t=null!=e?e:null===(t=this.range)||void 0===t?void 0:t.start.zoneId;return!!t&&this.editor.isFocus(t)},n.getSelection=function(e,t){var n=this.range;return"string"==typeof e?n=this.ranges.find((function(t){return t.start.zoneId===e}))||null:t=e,t=t||this.editor.getContentState(),n&&t.getZoneState(n.start.zoneId)?n.clone(t):n},n.getMultipleSelection=function(){var e=this;return this.ranges.map((function(t){return e.editor.getContentState().getZoneState(t.start.zoneId)?t.clone():t}))},n.isZoneInSelection=function(e){for(var t=!1,n=0,r=this.ranges.length;n<r;++n)if(this.ranges[n].start.zoneId===e){t=!0;break}return t},n._calcCompleteModelRange=function(e){var n=this.editor,r=this.editor.modulesContainer.get(t.Range),i=null;switch(typeof e.start){case"number":i=new mt(g(g({},e),{editor:n})).toRange();break;case"object":i=new r(g(g({},e),{editor:n}))}return i},n._correctModelRange=function(e){return new(this.editor.modulesContainer.get(t.Range))({editor:this.editor,start:this.fixRangePoint(e.start),end:this.fixRangePoint(e.end),isBackward:e.isBackward})},n._replaceSingleRangeModel=function(e,t){void 0===t&&(t=!1);var n,r=this._calcCompleteModelRange(e);!r||(e=-1===(n=this.ranges.findIndex((function(e){return e.start.zoneId===(null==r?void 0:r.start.zoneId)})))?null:this.ranges[n])&&(this.prevRanges=this.ranges,!t&&yt.isRangeEqual(e,r)||(r=this._correctModelRange(r),(e=this.ranges.slice(0))[n]=r,this.ranges=e))},n._setSelectionModel=function(e,t){var n,r,i=this;void 0===t&&(t=!1);e=Array.isArray(e)?e:[e];var o=[];try{for(var a=y(e),l=a.next();!l.done;l=a.next()){var s=l.value,u=this._calcCompleteModelRange(s);u&&o.push(u)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.prevRanges=this.ranges,!t&&yt.isRangesEqual(this.ranges,o)||(o=o.map((function(e){return i._correctModelRange(e)})),this.ranges=o)},n.setSelection=function(e,t){void 0===t&&(t=!1),this._setSelectionModel(e),this._dispatchEvent(t),t&&this.updateBrowserSelection()},n._dispatchEvent=function(e){var t=this.ranges,n=this.prevRanges;!e&&yt.isRangesEqual(n,t)||this.range&&this.editor.call(Lt.SELECTION_CHANGE,{previousRanges:n,currentRanges:t,previous:this.prevRange,current:this.range,attributes:this.editor.getContentState().getAttributes(this.range.start,this.range.end)})},n.updateBrowserSelection=function(e){if(this.range&&!(1<this.ranges.length)&&(e||!this.editor.getStatus("isMouseDown")))if(e=this._toDOMRange(this.range)){try{this._updateDOMSelection(e)}catch(e){this.editor.error({message:"[Selection][updateBrowserSelection] range:"+this.range+" _updateDOMSelection occur error",level:p.ERROR})}this.editor.call(Lt.SELECTION_CHANGE_AND_DOM_UPDATE,{selection:this.range})}else this.editor.error({message:"[Selection][updateBrowserSelection] range:"+this.range+" _toDOMRange faild",level:p.ERROR})},n.selectAll=function(e){void 0===e&&(e=fe);var n,r,i=this.editor.getContentState().getZoneState(e);i&&(n=i.getLine(0),(r=i.getLine(i.length()-1))&&n&&(e=new(this.editor.modulesContainer.get(t.Range))({editor:this.editor,start:{line:0,offset:n.hasLineMarker()?1:0,zoneId:e},end:{line:i.length()-1,offset:r.length()-1,zoneId:e}}),this.setSelection(e),this.updateBrowserSelection()))},n.isSelectingAll=function(e){void 0===e&&(e=fe);var t=this.getSelection(e);if(!t)return!1;var n=t.start,r=t.end,i=this.editor.getContentState().getZoneState(e);return!!i&&(t=i.length()-1,e=i.getLine(0),!(!(i=i.getLine(t))||!e)&&0===n.line&&n.offset===(e.hasLineMarker()?1:0)&&r.line===t&&r.offset===i.length()-1)},n.fixRangePoint=function(e){var t=this.editor,n=e.zoneId;return(t=t.getContentState().getZoneState(n))?(n=t.length()-1,e.line=Math.max(0,e.line),e.line>n&&(e.line=n,e.offset=t.getLine(n).getModelText().length-1),t=t.getLine(e.line),e.offset=Math.min(t.getModelText().length-1,e.offset),e.offset<=0&&(e.offset=t.hasLineMarker()?1:0),e):e},n._handleDOMSelectionChange=function(){var e,t,n,r,i=window.getSelection();null!==i&&(bn.ios&&null===i.focusNode&&this.editor.isFocus()&&(this.editor.setStopUpdateSelection(!1),this.setSelection(this.getSelection(),!0)),this.editor.getStatus("stopUpdateSelection")||(n=Rn(i,0))&&(e=n.startContainer,r=n.endContainer,t=n.collapsed,!(n=this.editor.getContainer()).contains(e)||!t&&!n.contains(r)||Dn(e)&&Dn(r)||(r=this._toModelRange(i))&&(i=!(bn.isAndroid&&!r.isCollapsed()),this.setSelection(r,i))))},n.toDOMRange=function(e,t){return this._toDOMRange(e,t=void 0===t?{ignoreNormalize:!1}:t)},n._toDOMRange=function(e,t){void 0===t&&(t={ignoreNormalize:!1});var n=e.start,r=e.end;n=this._toDOMRangePoint(n),r=this._toDOMRangePoint(r);return n.node&&r.node?t.ignoreNormalize?_n(n,r):_n(e=(r=this._normalizeDOMRange(n,r,e)).start,r=r.end):null},n._normalizeDOMRange=function(e,t,n){var r=e.node,i=e.offset,o=t.node,a=t.offset,l=n.start,s=n.end,u=Dn(r),c=Dn(o),d=(null===(f=Hn(r))||void 0===f?void 0:f.length)||0,f=(null===(h=Hn(o))||void 0===h?void 0:h.length)||0,h=Pn(r);if(!u&&!c&&r&&r===o&&e.offset===t.offset&&(m=r instanceof Element?r:r.parentElement)&&m.closest("[data-enter]"))return{start:p={node:m,offset:(null===(p=null==m?void 0:m.textContent)||void 0===p?void 0:p.length)||0},end:p};if(u&&Bn(r)&&r===o&&l<s)return{start:e,end:t};if(u&&0===i&&Bn(r)&&c&&a===f&&Bn(o))return{start:e,end:t};if(u&&c&&r!==o&&!Bn(r)&&!Bn(o)){var p=this._getDOMLine(l.zoneId,l.line),v=this._getDOMLine(s.zoneId,s.line);return{start:this._amendDOMPoint(e,p,1),end:this._amendDOMPoint(t,v,1)}}if(n.isCollapsed()&&u&&i===d){var m,b=this._getDOMLine(l.zoneId,l.line);return(m=(y=this._amendDOMPoint(e,b,1)).node instanceof Element?y.node:null===(v=y.node)||void 0===v?void 0:v.parentElement)&&m.closest("[data-enter]")&&(y.offset=1),{start:y,end:y}}if(n.isCollapsed()&&u&&0===i)return b=this._getDOMLine(l.zoneId,l.line),{start:y=this._amendDOMPoint(e,b,-1),end:y};if(u&&c&&r!==o&&n.isBackward){var y;b=this._getDOMLine(s.zoneId,s.line);return{start:e,end:y=this._amendDOMPoint(t,b,1)}}return h&&c&&(null==r?void 0:r.nextSibling)===o&&Fn(o)&&!this.editor.getStatus("isMouseDown")?{start:g(g({},t),{offset:0}),end:t}:u&&0===i?(b=this._getDOMLine(l.zoneId,l.line),{start:this._amendDOMPoint(e,b,-1),end:t}):c&&0===a?(b=this._getDOMLine(s.zoneId,s.line),{start:e,end:this._amendDOMPoint(t,b,-1)}):u&&i===d&&c&&n.toPosition().len<=((null===(o=Hn(o))||void 0===o?void 0:o.length)||0)?{start:g(g({},t),{offset:0}),end:t}:u&&i===d?(b=this._getDOMLine(l.zoneId,l.line),{start:this._amendDOMPoint(e,b,1),end:t}):c&&a===f?(b=this._getDOMLine(s.zoneId,s.line),{start:e,end:this._amendDOMPoint(t,b,1)}):{start:e,end:t}},n._amendDOMPoint=function(e,t,n){var r=e.node;if(!(t&&r instanceof Element))return e;var i=Nn(t),o=i.indexOf(r);return(o=i[o+n]||r).hasAttribute(Ee)?(r=Fn(o))?{node:r,offset:!(0<n)&&(null===(r=r.textContent)||void 0===r?void 0:r.length)||0}:this._amendDOMPoint(g(g({},e),{node:o}),t,1):o.closest("[data-enter]")?{node:o,offset:(null===(t=o.textContent)||void 0===t?void 0:t.length)||0}:{node:o,offset:!(0<n)&&(null===(o=o.textContent)||void 0===o?void 0:o.length)||0}},n._toDOMRangePoint=function(e){var t=e.zoneId,n=e.line,r=e.offset;return(e=this._getDOMLine(t,n))&&(n=null===(t=this.editor.getContentState().getZoneState(t))||void 0===t?void 0:t.getLine(n))?this.toDOMPoint(e,Math.max(r-(null!=n&&n.hasLineMarker()?1:0),0)):{node:null,offset:0}},n.toDOMPoint=function(e,t){var n,r,i;if(wn(e))return{node:e,offset:t};if(!e||!e.querySelectorAll)return{node:e,offset:0};var o=Nn(e),a=0;try{for(var l=y(o),s=l.next();!s.done;s=l.next()){var u,c=s.value,d=(null===(i=c.textContent)||void 0===i?void 0:i.length)||0;if(c.hasAttribute(Ee)&&(d=(u=c.getAttribute(Ee))?Math.min(u.length,t-a):0),!((a+=d=c.hasAttribute(ge)?0:d)<t))return{node:c,offset:Math.max(d+t-a,0)}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return{node:e,offset:0}},n._getDOMLine=function(e,t){var n,r=this.editor._getViewModel();if(!(t=null===(n=this.editor.getContentState().getZoneState(e))||void 0===n?void 0:n.getLine(t)))return null;if(r=r.getView(t))return r;var i=e===fe?this.editor.getContainer():document.querySelector('[data-zone-id="'+e+'"]');return Array.from((null==i?void 0:i.querySelectorAll(".ace-line"))||[]).filter((function(e){return e.closest("[data-zone-container]")===i}))[t.index]||null},n._calcModelRangeFromDom=function(e){var n=e.start,r=e.end,i=e.isBackward,o=e.zoneId,a=this._toModelRangePoint(n,!1,o);e=this._toModelRangePoint(r,!0,o);if(!a||!e)return this.editor.error({message:"[Selection][_calcModelRangeFromDom] startPoint: "+a+", endPoint: "+e,level:p.ERROR}),null;if(!o&&a.zoneId!==e.zoneId)return null;if(o&&a.zoneId!==e.zoneId){if(!(n=this.editor.getContentState().getZoneState(o)))return null;if(r=n.length()-1,!(n=n.getLine(r)))return null;o===a.zoneId?e={line:r,offset:n.length()-1,zoneId:o}:o===e.zoneId?a={line:0,offset:0,zoneId:o}:(a={line:0,offset:0,zoneId:o},e={line:r,offset:n.length()-1,zoneId:o})}return new(this.editor.modulesContainer.get(t.Range))({start:a,end:e,isBackward:i,editor:this.editor})},n.toModelRange=function(e,t){return this._toModelRange(e,t)},n._toModelRange=function(e,t){var n=!1;if("selection"===function(e){var t=Object.prototype.toString.call(e);if(t){var n=t.split(" ")[1];if(n)return n.slice(0,-1).toLowerCase()}return""}(e)){var r=e.anchorNode,i=e.anchorOffset,o=e.focusNode,a=e.focusOffset;if(!(c=Rn(e,0)))return null;var l=(e=c).startContainer,s=e.startOffset,u=e.endContainer,c=e.endOffset;n=r!==l||o!==u||i!==s||a!==c}return u=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,null!=(c=this._calcModelRangeFromDom({start:{node:u,offset:i},end:{node:s,offset:a},isBackward:n,zoneId:t}))&&c.isCollapsed()&&!e.collapsed&&(a=(s=this._normalizeDOMRange({node:u,offset:i},{node:s,offset:a},c)).start,s=s.end,c=this._calcModelRangeFromDom({start:a,end:s,isBackward:n,zoneId:t})),c},n._toModelRangePoint=function(e,t,n){void 0===t&&(t=!1);var r=(o=En(e)).node,i=o.offset,o=xn(r);if(!r||!o||!Zn(this.editor,o,t)){if(!n)return null;var a=this.editor.getContentState().getZoneState(n);if(!a)return null;var l=a.length()-1,s=a.getLine(l);return s?t?{line:l,offset:s.length()-1,zoneId:n}:{line:0,offset:0,zoneId:n}:null}l=(a=Zn(this.editor,o,t)).getZoneId(),s=a.index,n=0,(o=r instanceof HTMLElement?zn(r):zn(r.parentElement))&&(i=0),o&&t&&(n=(null===(u=o.getAttribute(Ee))||void 0===u?void 0:u.length)||0);var u=function(e){return On(e,"[data-void]")}(r);return u&&(n=i=0,o=u),(o=o||(r instanceof HTMLElement?r.closest("[data-string]"):null===(r=r.parentElement)||void 0===r?void 0:r.closest("[data-string]")))?(o.hasAttribute(Ie)&&(i=0),a=(o&&(null===(o=this.editor._getViewModel().getLeafModel(o))||void 0===o?void 0:o.start)||0)+i+n+(a.hasLineMarker()?1:0),{line:s,offset:Math.max(a,0),zoneId:l}):(e=((e=function(e){var t,n,r,i=En(e),o=i.node,a=i.offset;if(e=xn(o),!o||!e)return null;(i=document.createRange()).setStart(e,0),i.setEnd(o,a),a=i.cloneContents(),i=Array.from(a.querySelectorAll("[data-fake-text],[data-zero-space],[data-zone-container],[data-void]"));try{for(var l=y(i),s=l.next();!s.done;s=l.next()){var u,c,d,f,h,p,g=s.value,v=g.parentNode;v&&(u=g.hasAttribute(Ee),c=g.hasAttribute(ge),d=g.hasAttribute(Me),u?(f=g.getAttribute(Ee),(h=document.createElement("span")).setAttribute(Ee,f),h.textContent=f,v.insertBefore(h,g),v.removeChild(g)):c?g.textContent=(null===(r=g.textContent)||void 0===r?void 0:r.replace(new RegExp("​","g"),""))||null:d?(p=g.querySelectorAll("[data-zone-id]"),g.textContent=p.length?" ":""):v.removeChild(g))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a}(e))?function(e){return e&&(e instanceof Element||e instanceof DocumentFragment)&&(An(e),function(e){e.querySelectorAll(".ignore-collect").forEach((function(e){e.parentElement.removeChild(e)}))}(e)),(e=e.textContent)?e.length:0}(e):0)+(a.hasLineMarker()?1:0)+n,{line:s,offset:Math.max(e,0),zoneId:l})},n._updateDOMSelection=function(e){var t=this,n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=document.getSelection();if(this.updateDomSelectionTimes>=100&&null!==this.preDomSelection&&this.preDomSelection===a){var l="[Selection][_updateDOMSelection] 'update too many times: "+this.updateDomSelectionTimes+"，\n        range:"+this.range;return 100===this.updateDomSelectionTimes&&setTimeout((function(){t.resetDomSelectionFlags(),console.warn(l)}),200),void this.updateDomSelectionTimes++}if(null!==a){if(null===n||null===i)return a.removeAllRanges(),this.editor.getContainer().blur(),void this.resetDomSelectionFlags();this.hasFocus()||(c=this.getRootNodeOfZone(null===(u=this.range)||void 0===u?void 0:u.start.zoneId))&&Na(c);var s,u=Rn(a,0);if(u&&this._isDOMRangeEqual(e,u))this.resetDomSelectionFlags();else{if(a.anchorNode!==a.baseNode||a.focusNode!==a.extentNode){var c=void 0;c=function(e,t){return!!t&&e.focusNode===t.startContainer&&e.focusOffset===t.startOffset&&e.anchorNode===t.endContainer&&e.anchorOffset===t.endOffset}(a,u)?{startContainer:a.extentNode,startOffset:a.extentOffset,endContainer:a.baseNode,endOffset:a.baseOffset}:{startContainer:a.baseNode,startOffset:a.baseOffset,endContainer:a.extentNode,endOffset:a.extentOffset};if(this._isDOMRangeEqual(e,c))return void this.resetDomSelectionFlags()}this.updateDomSelectionFlags(this.updateDomSelectionTimes+1,a),a.collapse&&a.extend?n===i&&r===o?a.collapse(n,r):null!==(s=this.range)&&void 0!==s&&s.isBackward?(a.collapse(i,o),a.extend(n,r)):(a.collapse(n,r),a.extend(i,o)):((s=document.createRange()).setStart(n,r),s.setEnd(i,o),a.removeAllRanges(),a.addRange(s))}}else this.resetDomSelectionFlags()},n._isDOMRangeEqual=function(e,t){return e.startContainer===t.startContainer&&e.endContainer===t.endContainer&&e.startOffset===t.startOffset&&e.endOffset===t.endOffset},n._getNextStep=function(e,t,n,r){if(!(a=this._getDOMLine(e.zoneId,e.line)))return 0;e=t.hasAttribute(ge)||t.hasAttribute(Ie);var i=r?null===(i=t.textContent)||void 0===i?void 0:i.slice(n):null===(o=t.textContent)||void 0===o?void 0:o.slice(0,n),o=r?1:-1;n=0;if(i&&i.length&&!e)n=(r?rr:ir)(i);else{a=Nn(a),t=zn(t)||t;var a;t=a.indexOf(t);if(!(a=r?a.slice(t+1).find((function(e){return!Pn(e)})):a.slice(0,t).reverse().find((function(e){return!Pn(e)}))))return o;n=zn(a)?(null===(t=Hn(a))||void 0===t?void 0:t.length)||1:(r?rr:ir)(a=a.textContent||"")}return o*Math.max(n,1)},n._fixOffsetOverload=function(e){var t=g({},e),n=e.zoneId,r=e.line,i=e.offset,o=this.editor.getContentState().getZoneState(n);if(!o)return e;var a=o.getLine(r);if(!a)return e;var l=a.hasLineMarker()?1:0;n=a.length()-1;if(i<l)if(0<r){if(--t.line,!(a=o.getLine(t.line)))return e;t.offset=a.length()-1}else t.offset=l;return n<i&&(r<o.length()-1?(t.line+=1,t.offset=null!==(o=o.getLine(t.line))&&void 0!==o&&o.hasLineMarker()?1:0):t.offset=n),t},n.handleArrowKey=function(e){var n,r,i,o,a,l,s,u,c,d,f,h,p,v=e.evt,m=v.keyCode,b=v.shiftKey,y=v.metaKey,w=v.altKey,I=v.ctrlKey;"keydown"===v.type&&(n=m===pe.Right||bn.isMac&&I&&m===pe.F,!(m===pe.Left||bn.isMac&&I&&m===pe.B)&&!n||y||w||this.editor.getStatus("stopUpdateSelection")||1<this.ranges.length||null===(f=window.getSelection())||(p=Rn(f,0))&&(d=p.startContainer,r=p.startOffset,c=p.endContainer,i=p.endOffset,o=p.collapsed,l=null==(a=d instanceof Element?d:d.parentElement)?void 0:a.hasAttribute(ge),s=Wn(a,r),e=null==(u=c instanceof Element?c:c.parentElement)?void 0:u.hasAttribute(ge),m=Wn(c,i),w=(y=this.getSelection()).start,f=y.end,p=y.isBackward,y=null===(c=(d=this.editor.getContentState()).getZoneState(w.zoneId))||void 0===c?void 0:c.getLine(w.line),d=null===(c=d.getZoneState(f.zoneId))||void 0===c?void 0:c.getLine(f.line),c=w.offset===((null==y?void 0:y.length())||0)-1,y=w.offset===Number(null==y?void 0:y.hasLineMarker()),d=f.offset===((null==d?void 0:d.length())||0)-1,(e||d||l||c||y||s||m)&&(b&&!I&&p&&(l||c||s)&&a&&(w=this._fixOffsetOverload(g(g({},w),{offset:w.offset+=this._getNextStep(w,a,r,n)}))),b&&!I&&!p&&(e||d||m)&&u&&(f=this._fixOffsetOverload(g(g({},f),{offset:f.offset+=this._getNextStep(f,u,i,n)}))),!b&&o&&a&&(h=this._getNextStep(w,a,r,n),f=w=this._fixOffsetOverload(g(g({},w),{offset:w.offset+=h}))),!b&&!o&&a&&l&&e&&(h=this._getNextStep(w,a,r,n),f=w=this._fixOffsetOverload(g(g({},w),{offset:w.offset+=h}))),(p=new(this.editor.modulesContainer.get(t.Range))({editor:this.editor,start:w,end:f,isBackward:p}))&&this.range&&!yt.isRangeEqual(p,this.range)&&(this.setSelection(p,!0),v.preventDefault()))))},v([Fe],e.prototype,"updateBrowserSelection",null),v([Fe],e.prototype,"_handleDOMSelectionChange",null),v([Fe],e.prototype,"handleArrowKey",null),e}(),Da={click:"_handleClickEvent",keydown:"_handleKeyEvent",keypress:"_handleKeyEvent",keyup:"_handleKeyEvent",input:"_handleInputEvent",beforeinput:"_handleBeforeInput",compositionstart:"_handleCompositionEvent",compositionupdate:"_handleCompositionEvent",compositionend:"_handleCompositionEvent",copy:"_handleCopy",cut:"_handleCut",paste:"_handlePaste",drop:"_handleDrag",dragenter:"_handleDrag",dragover:"_handleDrag",dragleave:"_handleDrag",focus:"_handleFocusEvent",blur:"_handleFocusEvent"},za=["copy","cut","paste","keydown","keypress","keyup","beforeinput","input","drop","dragenter","dragover","dragleave","resize","compositionstart","compositionupdate","compositionend","focus","blur"];const Oa=function(){function e(){this._listenersMap={}}var t=e.prototype;return t.on=function(e,t,n){this._addEventListener(e,t,!1,n)},t.once=function(e,t,n){this._addEventListener(e,t,!0,n)},t.off=function(e,t){this._removeEventListener(e,t)},t.removeEventListener=function(e,t){this._removeEventListener(e,t)},t.trigger=function(e,t){this._triggerEvent(e,t)},t.reset=function(){this._listenersMap={}},t.removeListener=function(e,t){this._removeEventListener(e,t)},t.getListeners=function(e){return Array.from(this._listenersMap[e]||[])},t._addEventListener=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=1e3),t||console.warn("bind event with invalid cb, event: "+e),this._listenersMap[e]||(this._listenersMap[e]=[]),this._listenersMap[e].find((function(e){return e.listener===t}))||(this._listenersMap[e].push({listener:t,isOnce:n,priority:r}),this._listenersMap[e].sort((function(e,t){return e.priority-t.priority})))},t._removeEventListener=function(e,t){var n=(this._listenersMap[e]||[]).findIndex((function(e){return e.listener===t}));-1<n&&this._listenersMap[e].splice(n,1)},t._triggerEvent=function(e,t){var n=this;void 0===t&&(t=[]),(this._listenersMap[e]||[]).slice(0).forEach((function(r){var i=r.listener;r.isOnce&&n._removeEventListener(e,i),i.apply(i,t)}))},e}();var Ra=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.inputType="",Br(r,ei,t,n),r}return h(t,e),t}(ri),_a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.dataTransfer=null,r.evtTargetSelection=null,Br(r,Qr,t,n),r}return h(t,e),t}(Li),ja="selectionchange",Pa=new(function(){function e(){var e=this;this.fastListener=new WeakMap,this.hasBindMap=new WeakMap,this.dispatchNativeEvent=function(t){var n=t.type,r=null;if(t.type===ja){var i=window.getSelection();if(!i||!i.rangeCount)return;r=(null===(i=i.getRangeAt(0).startContainer.parentElement)||void 0===i?void 0:i.closest("[contenteditable]"))||null}for(var o=e.getListenersByNode(n,r||t.target),a=0,l=o.length;a<l;a++){var s=(u=o[a]).dom,u=u.handle;e.shouldDispatchEvent(t,s,r)&&u(t)}},this.on=function(t,n,r,i){var o=void 0===(i=(a=void 0===i?{}:i).priority)?0:i,a=a.customizedDelegateDom;e.bindNativeEvent(t,n,a||null);var l={dom:n,handle:r,priority:o},s=e.fastListener.get(n);s||e.fastListener.set(n,s={}),s[t]||(s[t]=[]);for(var u=0;u<s[t].length;u++)if(s[t][u].priority>o)return void s[t].splice(u,0,l);s[t].push(l)},this.off=function(t,n,r){var i=e.fastListener.get(n);i&&i[t]&&I(i[t]).forEach((function(e,n){e.handle===r&&i[t].splice(n,1)}))}}var t=e.prototype;return t.bindNativeEvent=function(e,t,n){var r;switch(e){case"resize":r=n||window;break;case"focus":case"blur":r=n||t instanceof HTMLElement&&t.closest("[contenteditable]")||document;break;default:r=n||document}var i=this.hasBindMap.get(r);i||(i=new Map,this.hasBindMap.set(r,i)),i.has(e)||(r.addEventListener(e,this.dispatchNativeEvent),i.set(e,!0))},t.getListenersByNode=function(e,t){for(var n=[];t;){var r=this.fastListener.get(t);r&&r[e]&&n.push.apply(n,I(r[e])),t=t.parentNode}return n.sort((function(e,t){return e.priority-t.priority}))},t.shouldDispatchEvent=function(e,t,n){if(e.defaultPrevented)return!1;if(e.type===ja){if(t instanceof HTMLElement)return t.hasAttribute("contenteditable")?t.contains(n):!(!(n=window.getSelection())||!n.rangeCount)&&t.contains(n.getRangeAt(0).startContainer);if(t instanceof Document)return t===e.target}return!(!e.target||!e.target.contains)&&(t===e.target||t.contains(e.target))},e}()),Ba=function(){function e(){this.modules=new Map}var n=e.prototype;return n.get=function(e){var t=this.modules.get(e);if(!t)throw Error("modules undefined, type is "+e);return t},n.set=function(e,n){var r,i,o=this;"object"==typeof e?(r=e,Object.keys(r).forEach((function(e){t[e]||console.warn("modules not in "+t+", type is "+e),o.set(e,r[e])}))):"string"==typeof e&&n?(this.modules.get(i=e)&&console.warn("modules repeat, type is "+i),this.modules.set(i,n)):console.error("set modules param error",e,n)},n.getInstance=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.get(e);return new(r.bind.apply(r,I([void 0],t)))},e}(),Fa=function(){function e(){this.NODE_TO_DOM=new WeakMap,this.DOM_TO_NODE=new WeakMap,this.DOM_TO_LEAF=new WeakMap}var t=e.prototype;return t._setNode=function(e,t){document.contains(t),e._node=t,this._deleteNode(e),this._deleteNode(t),this.NODE_TO_DOM.set(e,t),this.DOM_TO_NODE.set(t,e)},t._resetNode=function(e){e._node=null},t._deleteNode=function(e){var t;e instanceof HTMLElement?((t=this.DOM_TO_NODE.get(e))&&this.NODE_TO_DOM.delete(t),this.DOM_TO_NODE.delete(e)):((t=this.NODE_TO_DOM.get(e))&&this.DOM_TO_NODE.delete(t),this.NODE_TO_DOM.delete(e))},t.getModel=function(e){return this.DOM_TO_NODE.get(e)},t.getView=function(e){return this.NODE_TO_DOM.get(e)},t._setLeaf=function(e,t){this.DOM_TO_LEAF.set(e,t)},t._deleteLeaf=function(e){this.DOM_TO_LEAF.delete(e)},t.getLeafModel=function(e){return this.DOM_TO_LEAF.get(e)},t.destroy=function(){this.NODE_TO_DOM=new WeakMap,this.DOM_TO_NODE=new WeakMap,this.DOM_TO_LEAF=new WeakMap},e}();function Ha(e,t,n){var r=e.parentElement;if(!t)return r;for(;r;){if(n&&r.matches(n))return null;if(r.matches(t))return r;r=r.parentElement}return null}var Za=function(){function e(e){this.maxLoopTime=100,this.editor=e}var t=e.prototype;return t.isZoneContainer=function(e){var t=!1;return this.editor.getContentState().getContent().forEach((function(n){n._node===e&&(t=!0)})),t},t.getZoneFromNode=function(e){var t=null;return this.editor.getContentState().getContent().forEach((function(n){var r;null!==(r=n._node)&&void 0!==r&&r.contains(e)&&(t=n.getZoneId())})),t},t.getLineStateFromNode=function(e){return null!=(e=Ha(e,".ace-line",".editor-kit-container"))&&e.classList.contains(".ace-line")&&(e=this.editor._getViewModel().getModel(e))||null},t.getLineStateInParentZone=function(e){var t=this.getLineStateFromNode(e);return null!==(e=null==t?void 0:t.parent)&&void 0!==e&&e.parent?t.parent.parent:null},t.getLineStateInRootZone=function(e){for(var t=0,n=this.getLineStateInParentZone(e);t<this.maxLoopTime&&n&&n.getZoneId()!==fe;)t++,n=this.getLineStateInParentZone(e);return n},t.isNodeInEditor=function(e,t){return e===t||(null===(e=null==e?void 0:e.parentElement)||void 0===e?void 0:e.closest(".editor-kit-container"))===t},t.isNodeInOuterControlledZone=function(e){return!(null===(e=null==e?void 0:e.closest(".editor-kit-container"))||void 0===e||!e.classList.contains("outer-controlled-zone"))},t.isNodeInInnerZone=function(e){return!(null==e||!e.closest(".zone-container:not(.editor-kit-container)"))},e}();function Wa(e,t){return{left:e.left-t.left,right:e.right-t.left,top:e.top-t.top,bottom:e.bottom-t.top}}function Ua(e,t){var n;void 0!==t.line&&(n=e.length()-1,t.line=Math.max(Math.min(n,t.line),0),void 0!==t.offset&&(e=e.getLine(t.line).getModelText().length-1,t.offset=Math.max(Math.min(e,t.offset),0)))}function Ka(e){return{left:e.left,top:e.top,bottom:e.bottom,right:e.right,width:e.width,height:e.height}}function Ya(e,t){return[e.zoneId,e.line,e.offset,t].filter((function(e){return void 0!==e})).join("-")}var Ga=function(){function e(e){this.cache=new Map,this.name="rect",this.editor=e}var n=e.prototype;return n.getCaretRect=function(e,t){return void 0===t&&(t=fe),this.getPositionRect(e,t)},n.getLineRect=function(e,t){return void 0===t&&(t=fe),this.getPositionRect(g(g({},e),{offset:void 0}),t)},n.getZoneRect=function(e,t){return void 0===t&&(t=fe),this.getPositionRect({zoneId:e},t)},n.getRawCaretRect=function(e){return this._getRawRect(e,{ignoreNormalize:!1})},n.getRangeRect=function(e,t){return void 0===t&&(t=fe),t=this.editor.getContentState().getZoneState(t),e=this._getRawRect(e,{ignoreNormalize:!1}),null!=t&&t._node?(t=Ka(t._node.getBoundingClientRect()),g(g({},e),Wa(e,t))):(this.editor.error({message:"zoneState._node undefined, zoneId: "+(null==t?void 0:t.getZoneId()),level:Ne.ERROR}),e)},n._getRawRect=function(e,n){var r,i=this.editor.modulesContainer.get(t.Range),o="zoneId"in e?new i({editor:this.editor,start:e,end:e}):"toPosition"in e?e:new i({editor:this.editor,start:e.start,end:e.end});if(!(s=this.editor.getContentState().getZoneState(o.start.zoneId)))return console.warn("point zoneId is invalid!"),{left:0,right:0,top:0,bottom:0,width:0,height:0};if(Ua(s,o.start),o.start!==o.end&&Ua(s,o.end),!(l=this.editor.selection._toDOMRange(o,{ignoreNormalize:n.ignoreNormalize})))return console.warn("to can find dom point"),{left:0,right:0,top:0,bottom:0,width:0,height:0};i=l.startContainer,e=l.startOffset;var a,l,s=l.endContainer;n=l.endOffset;return 0===(a=(l=this.getRectContainer(i,s))?l.getBoundingClientRect():(bn.isIOS&&(null===(r=bn.getIOSVersion())||void 0===r?void 0:r.major)<13&&(n=(e=Math.max(e-1,0))+1),a=document.createRange(),(null===(r=i.textContent)||void 0===r?void 0:r.length)===e&&o.start.offset!==o.end.offset?a.setStartAfter(i):a.setStart(i,e),a.setEnd(s,n),n=a.getClientRects(),bn.safari&&1<n.length?n[1]:a.getBoundingClientRect())).bottom&&0===a.height&&0===a.left&&0===a.right&&0===a.top&&0===a.width&&0===a.x&&0===a.y&&(i instanceof HTMLElement?a=i.getBoundingClientRect():i.parentElement instanceof HTMLElement&&(a=i.parentElement.getBoundingClientRect())),Ka(a)},n.getRawLineRect=function(e){var t=this.editor.getContentState().getZoneState(e.zoneId);return t?(Ua(t,e),(e=null===(e=null===(e=t.getLine(e.line))||void 0===e?void 0:e._node)||void 0===e?void 0:e.getBoundingClientRect())?Ka(e):{left:0,right:0,top:0,bottom:0,width:0,height:0}):(console.warn("point zoneId is invalid!"),{left:0,right:0,top:0,bottom:0,width:0,height:0})},n.clearCache=function(){this.cache.clear()},n.clearZoneRect=function(e){var t=this,n=[];this.cache.forEach((function(t,r){r.startsWith(e)&&n.push(r)})),n.forEach((function(e){return t.cache.delete(e)}))},n.getPositionRect=function(e,t){void 0===t&&(t=fe);var n=(r=this.editor.getContentState()).getZoneState(e.zoneId);if(!n)return console.warn("point zoneId is invalid!"),{left:0,right:0,top:0,bottom:0,width:0,height:0};if(Ua(n,e),s=this.cache.get(Ya(e,t)))return s;var r,i=void 0===e.line,o=void 0!==e.line&&void 0===e.offset,a=void 0!==e.line&&void 0!==e.offset,l={left:0,right:0,top:0,bottom:0,width:0,height:0},s={left:0,right:0,top:0,bottom:0,width:0,height:0};if(!(r=null===(r=r.getZoneState(t))||void 0===r?void 0:r._node))return this.editor.error({message:"relativeZoneNode undefined, relativeZone: "+t,level:Ne.ERROR}),l;if(i){if(!n._node)return this.editor.error({message:"zoneState._node undefined, zoneId: "+e.zoneId,level:Ne.ERROR}),l;l=Ka(n._node.getBoundingClientRect()),s=Ka(r.getBoundingClientRect())}else o?(l=this.getRawLineRect(e),s=Ka(r.getBoundingClientRect())):a&&(l=this.getRawCaretRect(e),s=Ka(r.getBoundingClientRect()));return i&&e.zoneId===t?l:(s=g(g({},l),Wa(l,s)),this.cache.set(Ya(e,t),s),s)},n.getRectContainer=function(e,t){return e.parentElement&&e.parentElement===t.parentElement&&Ha(e,"[data-rect-container]",".editor-kit-container")},e}(),Va=C((function(e){this.error(e)}))(p.ERROR),Qa=["input","beforeinput","keyup","keydown","keypress","compositionstart","compositionupdate","compositionend"],Xa=function(){function e(e){var n=this;this.props=e,this.version="editor-kit@4.52.0-rc.1 - October 27, 2022 20:52:04",this.log=null!==(r=this.props.onLog)&&void 0!==r?r:console.log.bind(console)||console.log,this.copyable=null===(r=this.props.copyable)||void 0===r||r,this.businessKey=this.props.businessKey,this.mounted=!1,this.editorUniqueId=zt(6),this._hydrateMap=new Map,this._dir=this.props.dir,this._hackMacCompositionInput=this.props.hackMacCompositionInput,this.isError=!1,this.rootContainer=this.props.container,this.contentEditableTemp=Boolean(this.props.editable),this.rect={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},this.editable=null===(r=this.props.editable)||void 0===r||r,this.contentEditableLock=!1,this.containerContentEditableLock=!1,this._setRectRaf=null,this._listenerToZone=new WeakMap,this.togglePlaceHolder=Bt((function(e,t){var r,i,o;"string"!=typeof e?n.props.placeholder&&(r=n.getContainer(),"",i=!1===e||!0!==e&&!n.isEmpty()?"":n.props.placeholder,(o=r.getAttribute("data-placeholder"))!==i&&(i?r.setAttribute("data-placeholder",i):o&&r.removeAttribute("data-placeholder"))):n._toggleZonePlaceHolder(e,t)}),30),this.isFocus=function(e){return!!document.hasFocus()&&n.isSelectionInEditor(e)},this._handleContainerResize=Ft((function(){n.rectModule.clearCache();var e=n.getRect();n.setRect();var t=n.getRect();Z(e,t)||n.call("editorRectChange",{prev:e,next:t})})),this.eventEmitter=new Oa,this.dom=new Za(this),this.rectModule=new Ga(this),this.modulesContainer=new Ba,this.modulesContainer.set(e.modules);var r=this.modulesContainer.get(t.UndoModule);this.undoModule=new r(this),this._viewModel=new Fa,this.clipboard=new di(this,e.proxyClipboard);r=this.modulesContainer.get(t.InputModel);this.inputModel=new r(this,{debounceFlush:e.debounceFlush}),this._contentState=e.contentState||this.initContentState(this.props.initData,this.props.schema),this.bindContentStateEvents(),this.rootContainer&&(this._setRectRaf=requestAnimationFrame(this.setRect)),this._status={isPerforming:!1,contentChanged:!1,preventScrolling:!1,dangerousInput:!1,stopUpdateSelection:!1,preventUpdateDomSelection:!1,isComposing:!1,isClick:!1,isMouseUp:!1,isMouseDown:!1,isSelectionChange:!1,isPainting:!1},this.initPluginManager(this.props.register),null!==(e=(r=this._contentState).init)&&void 0!==e&&e.call(r),this.delegator=null!==(r=this.props.eventDelegator)&&void 0!==r?r:Pa}var n=e.prototype;return Object.defineProperty(n,"scrollModule",{get:function(){var e,t;return null===(t=null===(e=null===(t=this.getContentState())||void 0===t?void 0:t.getZoneManager)||void 0===e?void 0:e.call(t))||void 0===t?void 0:t.getScrollModuleByZoneId(fe)},enumerable:!1,configurable:!0}),Object.defineProperty(n,"getViewPortPadding",{get:function(){return this.props.getViewPortPadding},enumerable:!1,configurable:!0}),n.init=function(e){e=e.element,!this.rootContainer&&e&&(this._setRectRaf=requestAnimationFrame(this.setRect)),this.rootContainer=e,this.rootContainer.zoneId={value:"0"},this.bindEditorEvent(),this.setDocAttribute(this.rootContainer),this.initBrowserEnv(),this.togglePlaceHolder()},n.initContentState=function(e,n){var r,i=e instanceof ae?(new J).add(fe,e):e;return i.get(fe)||(r="[Editor][constructor] invalid initDeltaSet: "+i+', initDeltaSet must has zone "0"',e=new Error(r),this.error({e,message:r,level:p.FATAL})),new(this.modulesContainer.get(t.ContentState))({deltaSet:i,schema:n,modulesContainer:this.modulesContainer})},n.bindContentStateEvents=function(){var e=this,t=this._contentState;t._onWillApply(this._handleContentWillApply),t.onWillChange(this._handleContentWillChange),t.onChange(this._handleContentChange),t._onRefresh((function(t){e.call("_forceRefresh",t)})),t._onError((function(t){var n=t.e,r=t.message;t=t.level;e.error({e:n,message:r,level:t})}))},n.initPluginManager=function(e){this.pluginManager&&this.pluginManager.destroy(),this.pluginManager=new Ia(this,e),this.pluginManager._init()},n.call=function(e,t){var n,r=this;"error"!==e||this.isError||(this.isError=!0,n=null===(n=null==t?void 0:t.e)||void 0===n?void 0:n.stack,t=g(g({},t),{errorStack:new Error("editor oops").stack,originErrorStack:n})),this.eventEmitter.getListeners(e).slice(0).forEach((function(n){var i,o=n.listener,a=n.isOnce;o.plugin?null!=t&&t.changes?(i=Object.assign(g({},t),{changes:{},deltaSet:new J}),Object.keys(null==t?void 0:t.changes).forEach((function(e){i.changes[e]=t.changes[e],i.deltaSet.add(e,t.deltaSet.get(e))})),o.call(o,i),a&&r.off(e,o)):r.selection.getMultipleSelection().forEach((function(n){n=n.start.zoneId,r.pluginManager.isPluginInZone(o.plugin,n)&&(o.call(o,t),a&&r.off(e,o))})):r._listenerToZone.has(o)?(n=r._listenerToZone.get(o),e===Lt.CONTENT_WILL_CHANGE?t.deltaSet.get(n)&&(o.call(o,t),a&&r.off(e,o)):e===Lt.CONTENT_CHANGE?n in t.changes&&(o.call(o,t),a&&r.off(e,o)):e===Lt.PAINT?n===(null==t?void 0:t.zoneId)&&(o.call(o,t),a&&r.off(e,o)):r.selection.isZoneInSelection(n)&&(o.call(o,t),a&&r.off(e,o))):(o.call(o,t),a&&r.eventEmitter.removeEventListener(e,o))}))},n.getRect=function(e){if(!e)return this.rect;var t=this.getContentState().getZoneState(e);return t&&(null==(t=null!==(e=this._getViewModel().getView(t))&&void 0!==e?e:t._node)?void 0:t.getBoundingClientRect())||this.rect},n.setRect=function(){this.rootContainer&&(this.rect=this.rootContainer.getBoundingClientRect())},n.getRootContainer=function(){var e=this.rootContainer||null;return e||console.warn("editor root container is not exist"),e},n.getContainer=function(){return this.rootContainer},n.setMounted=function(e){this.mounted=e},n.getStatus=function(e){return this._status[e]},n.getDelegator=function(){return this.delegator},n._getInlineAttributesOfPreviousPosition=function(){var e=(o=this._contentState.getActiveZone()).getZoneId(),t=this.selection.getSelection(e),n=o.getLine(t.start.line),r=n.getLineMarker(),i=t.start,o=t.start;return r===t.start.offset&&n.length()>r?o=new mt({start:t.toPosition().start+1,editor:this,len:0,zoneId:e}).toRange().start:t.start.offset>r&&(i=new mt({start:t.toPosition().start-1,editor:this,len:0,zoneId:e}).toRange().start),this._contentState.getAttributes(i,o)},n._getInlineAttributesOfNextPosition=function(){var e=this._contentState.getActiveZone().getZoneId(),t=this.selection.getSelection(e),n=null===(r=this._contentState.getZoneState(e))||void 0===r?void 0:r.getLine(t.start.line);if(!n)return Qe();var r=t.start;return t.start.offset<n.length()&&(r=new mt({start:t.toPosition().start+1,editor:this,len:0,zoneId:e}).toRange().start),this._contentState.getAttributes(t.start,r)},n.toggleAttribute=function(e,t,n){var r,i,o,a;void 0===t&&(t="true");var l=(n=n||this.selection.getSelection()).start,s=l.line,u=l.zoneId,c=n.end.line,d=this.getContentState(),f=d.schema;if(null===(l=f.get(e))||void 0===l?void 0:l.lmkr){for(var h=Math.min(s,c),p=Math.max(s,c),g="",v=h;v<=p;v++)d.getLineAttributes(u,v).toMap()[e]!==t&&(g=t);for(v=h;v<=p;v++)this.getContentState().setLineAttributes(u,v,((r={})[e]=g,r))}else if(n.isCollapsed()){var m=n.toPosition();c=this._getInlineAttributesOfPreviousPosition().toMap();(g=null!==(h=this._contentState.getInlineStyleOverride(m,e))&&void 0!==h?h:c[e])===t?this._contentState._setInlineStyleOverride(m,e,""):this._contentState._setInlineStyleOverride(m,e,t)}else{if(g="",m=this._contentState.getEntities(n))try{for(var b=y(m),w=b.next();!w.done;w=b.next()){var I=w.value,C=!0,k=st(f,I.attributes),E=k&&(null===(a=f.get(k))||void 0===a?void 0:a.attributes);if(k&&E&&(C=E instanceof RegExp?E.test(e):E(e,t,k)),"\n"!==I.text&&!("lmkr"in I.attributes)&&C&&I.attributes[e]!==t){g=t;break}}}catch(e){i={error:e}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}this._contentState.setAttributes(n,((n={})[e]=g,n))}},n.on=function(e,t,n){var r,i;"object"==typeof n?(i=n.priority,(r=n.zoneId)&&this._listenerToZone.set(t,r),this.eventEmitter.on(e,t,i)):this.eventEmitter.on(e,t,i=n)},n.once=function(e,t,n){var r,i;"object"==typeof n?(i=n.priority,(r=n.zoneId)&&this._listenerToZone.set(t,r),this.eventEmitter.once(e,t,i)):this.eventEmitter.once(e,t,i=n)},n.off=function(e,t){this._listenerToZone.has(t)&&this._listenerToZone.delete(t),this.eventEmitter.off(e,t)},n.registerCommand=function(e,t){var n=this;this.on(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.inputModel._flushInput(),n.undoModule.batchedUndo((function(){t.apply(n,e)}))}))},n.execCommand=function(e,t){var n=!1,r={name:e,data:t=void 0===t?{}:t,preventEvent:function(){n=!0}};this.call(Lt.EXEC_COMMAND,r),n||this.eventEmitter.trigger(e,[t])},n.getContentState=function(){return this._contentState},n.getContent=function(e){return void 0===e&&(e=!1),this.getContentState().toDeltaSet(e)},n.setContent=function(e,t){void 0===t&&(t={}),this.getContentState().setContent(e,Object.assign({},{type:"setContent"},t))},n.getHTML=function(){var e=this.getContent(),t={zoneId:fe,deltaSet:e,node:this.getContainer(),customCopyDatas:[]};e=this.clipboard.serialize(t);return(t=document.createElement("div")).appendChild(e.node),t.innerHTML},n.setHTML=function(e){e=this.clipboard.deserialize({html:e},!0),this.setContent(e)},n.getText=function(){var e,t,n=this,r=[],i=this.getContentState().getZoneState(fe);if(!i)return"";try{for(var o=y(i),a=o.next();!a.done;a=o.next()){var l=a.value;(l.hasLineMarker()?l.getOps().slice(1):l.getOps()).forEach((function(e){e={text:e.insert,attributes:g({},e.attributes)},n.pluginManager.call("editorCollectText",e),r.push(e.text)}))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r.join("")},n.setText=function(e){e.endsWith("\n")||(console.warn("text should end with \\n"),e+="\n"),this.setContent(new ae({zoneId:fe}).insert(It(e)))},n.isSelectionInEditor=function(e){var t=window.getSelection();return e?!(null==(e=null===(e=this.getContentState().getZoneState(e))||void 0===e?void 0:e._node)||!e.contains((null==t?void 0:t.anchorNode)||null)||null==e||!e.contains((null==t?void 0:t.focusNode)||null)):!!(null!=t&&t.anchorNode&&t.focusNode&&this.dom.isNodeInEditor(t.anchorNode,this.getContainer())&&this.dom.isNodeInEditor(t.focusNode,this.getContainer()))||!!this.dom.isNodeInEditor(document.activeElement,this.getContainer())},n.isEmpty=function(){return!this.getStatus("isComposing")&&this.getContentState().isEmpty()},n.focusAtEnd=function(){var e,t=this.getContentState().getZoneState(fe);t&&(e=t.getModelText().length-1,this.selection.setSelection({start:g({zoneId:fe},t.offsetToPoint(e)),end:g({zoneId:fe},t.offsetToPoint(e))},!0))},n.focus=function(e,t){void 0===t&&(t=!1),"boolean"==typeof(e=void 0!==e&&e)?this.selection.focus(e):this.selection.focus(e,t)},n.blur=function(){var e;null!==(e=this.getContentState().getActiveZone()._node)&&void 0!==e&&e.blur()},n.flushInput=function(){this.inputModel._flushInput()},n.setEditable=function(e,t){this.setContentEditable(e),this.setPluginMode(e,t)},n.isInEmbed=function(){return!1},n.setContentEditable=function(e){var t,n,r;this.contentEditableLock?this.contentEditableTemp=e:((r=(n=this.isEditable())!==e)&&!this.containerContentEditableLock&&null!==(t=this.getRootContainer())&&void 0!==t&&t.setAttribute("contenteditable",String(e)),r&&this.call(Lt.EDITABLE_CHANGE,{previous:n,current:e}),this.callAll("aceChangeContentediable"))},n.scrollToSelection=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return m(this,void 0,void 0,(function(){return b(this,(function(n){return[2,null===(e=this.scrollModule)||void 0===e?void 0:e.scrollIntoViewport.apply(e,I(t))]}))}))},n.scrollTo=function(e){var t;return m(this,void 0,void 0,(function(){return b(this,(function(n){return[2,null===(t=this.scrollModule)||void 0===t?void 0:t.scrollTo(e)]}))}))},n.scrollBy=function(e){var t;return m(this,void 0,void 0,(function(){return b(this,(function(n){return[2,null===(t=this.scrollModule)||void 0===t?void 0:t.scrollBy(e)]}))}))},n.callAll=function(e,t){var n=[];return this.pluginManager.call(e,t||{},(function(e,t){return n.push(t),e})),n},n.destroy=function(){try{this.unBindEvent(),this.inputModel.destroy(),this.undoModule.destroy(),this.rectModule.clearCache(),this.eventEmitter.reset(),this._contentState._clearListener(),this.destroyPlugins(),this._setRectRaf&&cancelAnimationFrame(this._setRectRaf)}catch(e){this.log("[Editor][destroy]"+e)}},n.reset=function(){this.inputModel._flushInput(!0),this.getContentState().clear(),this.callAll("reset"),this.setText(""),this.clearStatus(),this.rectModule.clearCache(),this.undoModule.clear()},n.getScrollContainer=function(){var e;return null===(e=this.scrollModule)||void 0===e?void 0:e.getScroller()},n.isEditable=function(){return!!this.editable},n.isFocusOnBlock=function(e){return!1},n.getOuterContainer=function(){return this.getContainer()&&this.getContainer().parentNode},n._handleShortcuts=function(e){this._maybeSelectAll(e)},n._maybeSelectAll=function(e){var t=e.keyCode,n=e.shiftKey,r=e.metaKey,i=e.altKey,o=e.ctrlKey;n||i||(bn.isMac||bn.isIPad?r:o)&&t===pe.A&&(t=this.selection.getSelection().start.zoneId,this.selection.selectAll(t),e.preventDefault())},n.assignCaretSelection=function(e){var t=e.clientX,n=e.clientY;n=(t=function(e,t){var n,r,i=null;return document.caretPositionFromPoint?(i=document.caretPositionFromPoint(e,t))&&(n=i.offsetNode,r=i.offset):document.caretRangeFromPoint&&(i=document.caretRangeFromPoint(e,t))&&(n=i.startContainer,r=i.startOffset),{range:i,textNode:n,offset:r}}(t=t-window.pageXOffset,n=n-window.pageYOffset)).textNode,t=t.offset;e.evtTargetSelection=this.selection._toModelRange({startContainer:n||null,endContainer:n||null,startOffset:t||0,endOffset:t||0})},n.initBrowserEnv=function(){var e=[];bn.chrome&&e.push("chrome"),bn.isFF&&e.push("mozilla"),bn.safari&&e.push("safari"),bn.msie&&e.push("msie"),bn.windows&&e.push("window");var t=function(){var e=navigator.userAgent.match(/Chrome\/([\d.]+)/i);return e&&e[1]?e[1]:null}();t&&88<=parseInt(t)&&e.push("chrome88"),(t=this.rootContainer.classList).add.apply(t,I(e))},n.destroyPlugins=function(){try{this.pluginManager.destroy()}catch(e){console.error("destroy plugin fail",e)}},n.bindEditorEvent=function(){this.on(Lt.RECT_CHANGE,this._handleEditorRectChange),this.on(Lt.COMPOSITION_UPDATE,this.togglePlaceHolder),this.on(Lt.CONTENT_CHANGE,this.togglePlaceHolder),this.on(Lt.SCROLL,this._handleEditorScroll);var e=this.getContainer(),t=this.delegator;bn.isMac&&(bn.chrome||bn.safari)&&t.on("mousedown",e,this.mouseDownListenerForMac),t.on("dragover",e,this.handleDragOver),t.on("click",e,this._handleClickEvent),t.on("mouseup",document,this._handleMouseUp),t.on("mousedown",e,this._handleMouseDown)},n.unBindEvent=function(){var e=this.delegator;this.off(Lt.RECT_CHANGE,this._handleEditorRectChange),this.off(Lt.COMPOSITION_UPDATE,this.togglePlaceHolder),this.off(Lt.CONTENT_CHANGE,this.togglePlaceHolder),this.off(Lt.SCROLL,this._handleEditorScroll);var t=this.getContainer();bn.isMac&&(bn.chrome||bn.safari)&&e.off("mousedown",t,this.mouseDownListenerForMac),e.off("dragover",t,this.handleDragOver),e.off("click",t,this._handleClickEvent),e.off("mouseup",document,this._handleMouseUp),e.off("mousedown",t,this._handleMouseDown)},n.handleDragOver=function(e){e.preventDefault()},n.mouseDownListenerForMac=function(e){var t=this,n=this.delegator,r=this.getContainer(),i=function(){if(n.off("selectionchange",r,i),!(1<t.selection.getMultipleSelection().length)){var o=t.selection.getSelection();if(o)try{var a=o.start,l=o.end;a.zoneId===l.zoneId&&a.line!==l.line&&(t.selection.setSelection({start:a,end:a}),t.selection.updateBrowserSelection())}catch(o){t.log("mouseDownListenerForMac error",e)}}};2===e.button&&(n.on("selectionchange",r,i),setTimeout((function(){n.off("selectionchange",r,i)}),200))},n.setDocAttribute=function(e){void 0!==this.props.spellCheck&&e.setAttribute("spellCheck",String(this.props.spellCheck)),void 0!==this.props.autoCorrect&&e.setAttribute("autoCorrect",this.props.autoCorrect?"on":"off"),e.classList.add(De,"notranslate")},n.clearStatus=function(){var e,t,n=this._status;try{for(var r=y(Object.keys(n)),i=r.next();!i.done;i=r.next()){var o=i.value;this.setStatus(o,!1)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n._toggleZonePlaceHolder=function(e,t){var n,r;e&&(!(r=this.getContentState().getZoneState(e))||(n=r.getContainer())&&(e="",e=!1===(null==t?void 0:t.show)||!0!==(null==t?void 0:t.show)&&!r.isEmpty()?"":r.placeholder,(r=n.getAttribute("data-placeholder"))!==e&&(e?n.setAttribute("data-placeholder",e):r&&n.removeAttribute("data-placeholder"))))},n.setStatus=function(e,t){this._status[e]=t},n.transformPosition=function(e,t){var n=t.zoneId;if(e.zoneId!==n)return t;var r=t.start,i=t.len;t=e.transform(r),i=e.transform(r+i);return new mt({start:t,len:i-t,zoneId:n,editor:this})},n._handleEditorRectChange=function(){this.rectModule.clearCache(),this.setRect()},n._handleEditorScroll=function(){this.rectModule.clearCache()},n._getViewModel=function(){return this._viewModel},n._correctCompositionIfNecessary=function(e){var t,n,r=this;!0===this.getStatus("isComposing")&&(t=e.type,e=e instanceof Event?e:e.nativeEvent,n=new Vo(new CompositionEvent("compositionend"),this.getContainer()),Qa.includes(t)?e instanceof KeyboardEvent&&!1===e.isComposing&&(this.triggerEditorEvent("compositionend",n),this.log("[Editor][_correctCompositionIfNecessary]\n                   dispatchCompositionEvent because eventType is "+t+" and isComposing is false")):(bn.windows&&"blur"===t?setTimeout((function(){r.triggerEditorEvent("compositionend",n)})):this.triggerEditorEvent("compositionend",n),this.log("[Editor][_correctCompositionIfNecessary] dispatchCompositionEvent because eventType is "+t)))},n._shouldHandleDOMSelectionChange=function(){if(!(i=getSelection()))return!1;var e=i.anchorNode,t=i.focusNode,n=this.dom,r=n.isNodeInOuterControlledZone,i=n.isNodeInInnerZone;return!(null!==(n=null===(n=null==e?void 0:e.parentElement)||void 0===n?void 0:n.closest(".adit-container"))&&void 0!==n&&n.closest(".editor-kit-container")||null!==(n=null===(n=null==t?void 0:t.parentElement)||void 0===n?void 0:n.closest(".adit-container"))&&void 0!==n&&n.closest(".editor-kit-container")||null!=t&&t.parentElement&&r(t.parentElement)&&!i(t.parentElement)||null!=e&&e.parentElement&&r(e.parentElement)&&!i(e.parentElement)||!this.dom.isNodeInEditor(e,this.getContainer())||!this.dom.isNodeInEditor(t,this.getContainer()))},n.__handleDOMSelectionChange=function(){this._shouldHandleDOMSelectionChange()&&this.selection._handleDOMSelectionChange(),this.getStatus("isMouseDown")&&this.setStatus("isSelectionChange",!0);var e=getSelection();this.getStatus("isClick")&&this.getStatus("isMouseDown")&&(this._resetCursorStatus(),!this.getStatus("stopUpdateSelection")&&this.isEditable()&&this.mounted&&null!=e&&e.focusNode&&!this.isFocusOnBlock()&&this.getContainer().contains(e.focusNode)&&this.selection.updateBrowserSelection())},n._setPlaceholder=function(e){this.props.placeholder=e,this.togglePlaceHolder()},n._handleMouseDown=function(e){if((!this.isEditable()||bn.isEdge)&&!this.selection.getSelection().isCollapsed()&&1===e.button){var t=document.caretRangeFromPoint(e.x,e.y);if(!t)return;if(!(r=this.selection._toModelRange(t)))return;var n=r.start,r=(i=this.selection.getSelection()).start,i=i.end;r<=n&&n<=i&&this.selection._updateDOMSelection(t)}if(this._isSafariWithStrangeEventOrder())return this._resetCursorStatus();this.triggerMouseEvent(e),this.mounted&&e.target instanceof Node&&this._isContainedInContainer(e.target)?this.setStatus("isMouseDown",!0):this.setStatus("isMouseDown",!1)},n._isContainedInContainer=function(e){var t=this.dom.isNodeInOuterControlledZone(e),n=this.dom.isNodeInInnerZone(e);e=!!this.dom.isNodeInEditor(e,this.getContainer());return t?n:e},n._isSafariWithStrangeEventOrder=function(){return this.getStatus("isMouseUp")&&!this.getStatus("isMouseDown")},n._handleContentWillApply=function(){this.inputModel._flushInput()},n._handleContentWillChange=function(e){return this.pluginManager.call("editorWillApplyChange",e,(function(t,n){return e.deltaSet=n,e})),this.call(Lt.CONTENT_WILL_CHANGE,e),e.deltaSet},n._handleContentChange=function(e){var t,n,r,i,o,a,l=this,s=e.previous,u=e.current,c=e.options;(f=this._contentState.getZoneState(fe))&&this._getViewModel()._setNode(f,this.getContainer());var d=Object.keys(e.changes).map((function(e){return null===(e=l.selection.getSelection(e,s))||void 0===e?void 0:e.toPosition(s)})).filter(Boolean),f=d.map((function(t){return e.deltaSet.get(t.zoneId)}));e.deltaSet.forEach((function(e){l.rectModule.clearZoneRect(e.zoneId)}));try{for(var h=y(Object.values(e.changes)),p=h.next();!p.done;p=h.next()){var g=p.value;try{for(var v=(r=void 0,y(g)),m=v.next();!m.done;m=v.next()){var b=m.value;try{for(var w=(o=void 0,y(b.deletes)),I=w.next();!I.done;I=w.next()){var C=I.value;b.inserts.includes(C)||this._getViewModel()._deleteNode(C)}}catch(n){o={error:n}}finally{try{I&&!I.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}}}catch(n){r={error:n}}finally{try{m&&!m.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}}}catch(n){t={error:n}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}f.forEach((function(e,t){t=d[t];var n=e&&re(null===(n=u.getZoneState(e.zoneId))||void 0===n?void 0:n.getContent());e&&t&&!n&&(t=l.transformPosition(e,t),l.selection._replaceSingleRangeModel(t))})),this.setStatus("contentChanged",!0),c.preventScrolling&&this.setStatus("preventScrolling",!0),this.call(Lt.CONTENT_CHANGE,e),this.setStatus("preventScrolling",!1),this.selection._dispatchEvent(!1)},n._handleMouseUp=function(e){this.setStatus("isMouseUp",!0),e.target instanceof Node&&this._isContainedInContainer(e.target)||this._resetCursorStatus(),this.triggerMouseEvent(e)},n.triggerMouseEvent=function(e){var t=new Li(e,e.target);this.triggerEditorEvent(e.type,t)},n._handleClickEvent=function(e){var t,n;e.target instanceof Node&&this._isContainedInContainer(e.target)&&(null===(t=e.target.parentElement)||void 0===t?void 0:t.closest(".editor-kit-container"))===this.getContainer()?(n=getSelection(),e.target instanceof Node&&this.isEditable()&&this.mounted&&this.setStatus("isClick",!0),this.getStatus("isMouseDown")&&this.getStatus("isSelectionChange")&&this.getStatus("isClick")&&(this._resetCursorStatus(),!this.getStatus("preventUpdateDomSelection")&&null!=n&&n.focusNode&&!this.isFocusOnBlock()&&this.getContainer().contains(n.focusNode)&&this.selection.updateBrowserSelection()),this.inputModel._flushInput(),t=null,e.target instanceof Node&&(t=oa(e.target,this)),n=new Li(e,e.target),this.triggerEditorEvent(e.type,g(g({},n),{selection:t}))):this._resetCursorStatus()},n._handleKeyEvent=function(e){if(!this.isInEmbed()&&this.isEditable()){var t=new Qo(e,e.target);if(!this.triggerEditorEvent(e.type,t).shouldPrevent)switch(this._handleShortcuts(t.nativeEvent),e.type){case"keydown":this.inputModel._handleKeyDown({evt:t}),this.selection.handleArrowKey({evt:t});break;case"keypress":case"keyup":this.inputModel._handleKeyPressAndUp({evt:t})}}},n._resetCursorStatus=function(){this.setStatus("isSelectionChange",!1),this.setStatus("isMouseUp",!1),this.setStatus("isMouseDown",!1),this.setStatus("isClick",!1)},n._handleInputEvent=function(e){e=new Ra(e,e.target),this.triggerEditorEvent(Lt.INPUT,e).shouldPrevent||this.inputModel._handleInput(e)},n._handleBeforeInput=function(e){var t=new Ra(e,e.target);this.triggerEditorEvent(e.type,t)},n._handleCompositionEvent=function(e){var t=new Vo(e,e.target);this.triggerEditorEvent(e.type,t)},n._handleCopy=function(e){var t=this;this.inputModel._flushInput(),this.undoModule.batchedUndo((function(){t.clipboard.onCopy(e)}))},n._handleCut=function(e){var t=this;this.inputModel._flushInput(),this.undoModule.batchedUndo((function(){t.clipboard.onCut(e)}))},n._handlePaste=function(e){var t=this;this.inputModel._flushInput(),!this.isFocusOnBlock()&&this.isEditable()&&this.undoModule.batchedUndo((function(){t.clipboard.onPaste(e)}))},n._handleDrag=function(e){var t=new _a(e,e.target);this.assignCaretSelection(t),this.triggerEditorEvent(e.type,t)},n._handleFocusEvent=function(e){"focus"===e.type&&!this.getStatus("isPerforming")&&!this.getStatus("preventUpdateDomSelection")&&this.isFocus()&&e.target&&this.dom.isZoneContainer(e.target)&&this.selection.updateBrowserSelection();var t=new Xo(e,e.target);this.triggerEditorEvent(e.type,t)},n._handleResizeEvent=function(e){var t,n,r;r=e instanceof Event?function(e){if(!(e instanceof Element))return{width:0,height:0,left:0,right:0,top:0,bottom:0};var t=window.getComputedStyle(e),n=(parseFloat(t.paddingLeft)||0)+(parseFloat(t.paddingRight)||0),r=(parseFloat(t.paddingTop)||0)+(parseFloat(t.paddingBottom)||0);return t=e.getBoundingClientRect(),{width:e.clientWidth-n,height:e.clientHeight-r,left:t.left,right:t.right,top:t.top,bottom:t.bottom}}(this.getContainer()):{width:(e=e[0].contentRect).width,height:e.height,top:e.top,bottom:e.bottom,left:e.left,right:e.right};var i=this.getRect();i.width===r.width&&i.height===r.height||this.call(Lt.RESIZE,{previous:i,current:r});try{for(var o=y(Object.entries(r)),a=o.next();!a.done;a=o.next()){var l=w(a.value,2),s=l[0],u=l[1];if(i[s]!==u){this.call(Lt.RECT_CHANGE,{previous:i,current:r});break}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},n.triggerEditorEvent=function(e,t){function n(){o=!0}var r=this,i=this.eventEmitter.getListeners(e),o=!1,a=!1;function l(){a=!0}t=t||{};for(var s=this,u=0;u<i.length&&"break"!==function(e){if(o)return"break";var a,u=(e=i[e]).listener;e=e.isOnce;t&&(t.stopEvent=n,t.preventEvent=l,t.evt=t);try{u.plugin?s.selection.getMultipleSelection().forEach((function(e){e=e.start.zoneId,r.pluginManager.isPluginInZone(u.plugin,e)&&u.call(u,t)})):s._listenerToZone.has(u)?(a=s._listenerToZone.get(u),s.selection.isZoneInSelection(a)&&(u.call(u,t),e&&s._listenerToZone.delete(u))):u.call(u,t)}catch(e){s.error({e,message:e.message,level:p.ERROR})}}(u);u++);return{shouldStop:o,shouldPrevent:a}},n.setStopUpdateSelection=function(e){this.setStatus("stopUpdateSelection",e)},n.setPreventUpdateDomSelection=function(e){this.setStatus("preventUpdateDomSelection",e)},n._getAttributesOfPreviousPosition=function(){var e=this._contentState.getActiveZone().getZoneId(),t=this.selection.getSelection(e),n=t.start;return 0<t.start.offset&&(n=new mt({start:t.toPosition().start-1,editor:this,len:0,zoneId:e}).toRange().start),this._contentState.getAttributes(n,t.start)},n._getAttributesOfNextPosition=function(){var e=this._contentState.getActiveZone().getZoneId(),t=this.selection.getSelection(e),n=null===(r=this._contentState.getZoneState(e))||void 0===r?void 0:r.getLine(t.start.line);if(!n)return Qe();var r=t.start;return t.start.offset<n.length()&&(r=new mt({start:t.toPosition().start+1,editor:this,len:0,zoneId:e}).toRange().start),this._contentState.getAttributes(t.start,r)},n.setPluginMode=function(e,t){if(this.editorStatusLocked)this.editableArgTemp={designMode:e,args:t};else{this.editable=e;try{this.editable?this.callAll("pluginReadWrite",t):this.callAll("pluginReadOnly",t)}catch(e){this.log("[Editor][setPluginMode] "+e)}}},n.setEditStatusLock=function(e,t){var n;!(this.editorStatusLocked=e)&&t&&this.editableArgTemp&&(t=(n=this.editableArgTemp).designMode,n=n.args,this.setEditable(t,n)),e&&(this.editableArgTemp={designMode:this.editable,args:{}})},n.setContentEditableLock=function(e){(this.contentEditableLock=e=void 0!==e&&e)||this.setContentEditable(this.contentEditableTemp)},n.setContainerContentEditableLock=function(e){this.containerContentEditableLock=e=void 0!==e&&e},n.unstable_hydrate=function(e,t){this._hydrateMap.set(e,t),this._getViewModel()._setNode(e,t),t[ke]=!0},n._deleteHydrateTask=function(e){this._hydrateMap.delete(e),e._node&&(e._node[ke]=!1)},n.error=function(e){e.e||(e.e=new Error(e.message)),this.call("error",e)},v([Fe],e.prototype,"setRect",null),v([Va],e.prototype,"toggleAttribute",null),v([Va],e.prototype,"setContent",null),v([Va],e.prototype,"setHTML",null),v([Va],e.prototype,"setText",null),v([Fe],e.prototype,"scrollToSelection",null),v([Fe],e.prototype,"scrollTo",null),v([Fe],e.prototype,"handleDragOver",null),v([Fe],e.prototype,"mouseDownListenerForMac",null),v([Fe],e.prototype,"_handleEditorRectChange",null),v([Fe],e.prototype,"_handleEditorScroll",null),v([Fe],e.prototype,"__handleDOMSelectionChange",null),v([Fe],e.prototype,"_handleMouseDown",null),v([Fe],e.prototype,"_handleContentWillApply",null),v([Fe],e.prototype,"_handleContentWillChange",null),v([Fe],e.prototype,"_handleContentChange",null),v([Fe],e.prototype,"_handleMouseUp",null),v([Fe],e.prototype,"_handleClickEvent",null),v([Va],e.prototype,"_handleKeyEvent",null),v([Va],e.prototype,"_handleInputEvent",null),v([Va],e.prototype,"_handleBeforeInput",null),v([Va],e.prototype,"_handleCompositionEvent",null),v([Va],e.prototype,"_handleCopy",null),v([Va],e.prototype,"_handleCut",null),v([Va],e.prototype,"_handlePaste",null),v([Fe],e.prototype,"_handleDrag",null),v([Fe],e.prototype,"_handleFocusEvent",null),v([Fe],e.prototype,"_handleResizeEvent",null),v([Va],e.prototype,"triggerEditorEvent",null),e}();function qa(e,t){if(!e)return function(){};if(window.ResizeObserver){var n=new window.ResizeObserver(t);return n.observe(e),function(){n.disconnect()}}var r=document.createElement("iframe");r.setAttribute("style","\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: -1000%;\n      left: -1000%;\n      user-select: none;\n      visibility: hidden;\n    "),r.addEventListener("resize",t);var i=e.parentElement;return i.appendChild(r),function(){i.removeChild(r),r.removeEventListener("resize",t)}}var Ja,$a=function(e){function t(t){var n=e.call(this,t)||this;return n.editableElem=null,n.removeResizeEvent=function(){},n.listenEvents=za,n.handleFocusin=function(e){var t=n.editor;!t.getStatus("isPerforming")&&!t.getStatus("preventUpdateDomSelection")&&t.isFocus()&&e.target&&t.dom.isZoneContainer(e.target)&&t.selection.updateBrowserSelection()},t.editor?(n.editor=t.editor,t.copyable&&(n.editor.copyable=t.copyable),t.editable&&n.editor.setEditable(t.editable)):n.editor=new Xa(g(g({},n.props),{initData:t.initData})),(t=t.listenEvents)&&(n.listenEvents=t),n.emitScrollWhenWindowScroll=function(){return n.editor.call(Lt.SCROLL)},n}h(t,e);var n=t.prototype;return n.onMount=function(e){var t=this.editor,n=this.props;this.editableElem=e,t.init({element:e}),t.setMounted(!0),t.callAll("editorDidMount");var r=t.getContentState().getZoneState(fe);null!=r&&r.length()?(r=r.getLine(0).getLineMarker(),r=new mt({start:r,len:0,zoneId:fe,editor:t}),t.selection=new La({editor:t,range:r.toRange()})):t.selection=new La({editor:t}),t.togglePlaceHolder(),this.bind(e),null!==(e=n.onInit)&&void 0!==e&&e.call(n,t),null!==(e=n._onInitData)&&void 0!==e&&e.call(n,t)},n.bind=function(e){var t,n,r=this.editor,i=r.getDelegator();i.on("selectionchange",r.getContainer(),r.__handleDOMSelectionChange),i.on("resize",document.body,r._handleContainerResize),i.on("focusin",r.getContainer(),this.handleFocusin),r.on(Lt.SELECTION_CHANGE,this.handleSelectionChange),r.on(Lt.ERROR,this.handleEditorError),window.addEventListener("scroll",this.emitScrollWhenWindowScroll);try{for(var o=y(this.listenEvents),a=o.next();!a.done;a=o.next()){var l=a.value;"resize"===l?this.removeResizeEvent=qa(e,this.editor._handleResizeEvent):"focus"===l||"blur"===l?i.on(l,r.getContainer(),this.handleEvent,{priority:1,customizedDelegateDom:r.getContainer()}):i.on(l,r.getContainer(),this.handleEvent,{priority:1})}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},n.unbind=function(){var e,t,n=this.editor,r=n.getDelegator();n.off(Lt.SELECTION_CHANGE,this.handleSelectionChange),n.off(Lt.ERROR,this.handleEditorError);var i=n.getContainer();try{for(var o=y(this.listenEvents),a=o.next();!a.done;a=o.next()){var l=a.value;r.off(l,i,this.handleEvent)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}r.off("selectionchange",i,n.__handleDOMSelectionChange),this.removeResizeEvent(),r.off("resize",document.body,n._handleContainerResize),r.off("focusin",n.getContainer(),this.handleFocusin),window.removeEventListener("scroll",this.emitScrollWhenWindowScroll)},n.componentDidUpdate=function(e){var t=e.editable,n=void 0===(r=e.copyable)||r,r=void 0===(r=(e=this.props).editable)||r;e=void 0===(e=e.copyable)||e;r!==(void 0===t||t)&&this.editor.setEditable(r),e!==n&&(this.editor.copyable=e)},n.componentWillUnmount=function(){var e=this.editor;this.unbind(),e._getViewModel().destroy(),e.destroy()},n.handleSelectionChange=function(){var e=this.editor.selection.getSelection();this.editor.getContentState().setActiveZone(e.start.zoneId)},n.handleEvent=function(e){var t,n,r=this.editor;r._correctCompositionIfNecessary(e),e instanceof Event&&(!e.currentTarget.contains(e.target)||e.target instanceof Element&&(e.target.closest(".editor-kit-container")!==this.editor.getContainer()||null!==(t=e.target.closest(".adit-container"))&&void 0!==t&&t.closest(".editor-kit-container"))||this.editor.getContainer().classList.contains(Oe)&&e.target instanceof Element&&!e.target.classList.contains(ze)&&null!==(n=e.target.closest(".zone-container"))&&void 0!==n&&n.classList.contains(Oe)||r[Da[e.type]](e))},n.handleEditorError=function(e){var t,n;null!==(n=(t=this.props).onError)&&void 0!==n&&n.call(t,e)},n.UNSAFE_componentWillReceiveProps=function(e){e.placeholder!==this.props.placeholder&&this.editor._setPlaceholder(e.placeholder)},n.componentDidCatch=function(e){this.editor.error({e,level:p.FATAL,message:e.message})},t.defaultProps={editable:!0,placeholder:"",initData:(new J).add(fe,(new ae).insertEnter())},v([Fe],t.prototype,"onMount",null),v([Fe],t.prototype,"handleSelectionChange",null),v([Fe],t.prototype,"handleEvent",null),v([Fe],t.prototype,"handleEditorError",null),t}(i.PureComponent),el={left:void 0,top:void 0},tl=((Ja={})[Lt.SELECTION_CHANGE]={onlyScrollWhenCollapsed:!0},Ja);function nl(e){if(e instanceof Window)return{top:0,left:0,clientWidth:window.innerWidth,clientHeight:window.innerHeight,scrollTop:e.scrollY,scrollLeft:e.scrollX};if(e instanceof Element){var t=e.getBoundingClientRect();return{top:t.top,left:t.left,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}}return console.error("not a valid scroller"),{top:0,left:0,clientHeight:0,clientWidth:0,scrollLeft:0,scrollTop:0}}function rl(e){return"number"==typeof e?{paddingBottom:e,paddingLeft:e,paddingRight:e,paddingTop:e}:{paddingBottom:e.bottom||0,paddingTop:e.top||0,paddingLeft:e.left||0,paddingRight:e.right||0}}function il(e){return 0!==e.height||0!==e.top||0!==e.left||0!==e.right||0!==e.left}function ol(e){return e.left||e.top}Ti(function(e){function t(t){var n=e.call(this,t)||this;return n.tagName=la.TEXT,n._ref=i.createRef(),n._changes={},n.leafModelMap=new WeakMap,(t=n.props.editor).on(Lt.KEYDOWN,n.handleKeyDown,900),t.on(Lt.CONTENT_CHANGE,n.handleContentChange),n}h(t,e);var n=t.prototype;return n.handleContentChange=function(e){this._changes=e.changes,this.editor.once(Lt.PAINT,this.handlePaint)},n.handlePaint=function(){var e,t,n,r=oa(this._ref.current,this.props.editor);r&&this._ref.current&&(t=r.start.zoneId,(n=this._changes[t])&&(e=r.start.line,t=null===(t=this.props.editor.getContentState().getZoneState(t))||void 0===t?void 0:t.getLine(e),n=n.some((function(t){return t.start===e})),t&&n&&this.updateViewModel(this._ref.current,t)))},n.handleKeyDown=function(e){var t,n,r,i,o,a;sr(e.nativeEvent)&&this._ref&&(!(r=(n=(t=this.props.editor.selection).getSelection()).toPosition()).isCollapsed()||e.shiftKey||(i=oa(this._ref.current,this.props.editor))&&(o=i.toPosition(),a=null,r.start===o.start&&n.start.zoneId===i.start.zoneId&&e.keyCode===pe.Right&&(a=g(g({},r),{start:r.start+1})),(a=r.start===o.start+1&&n.start.zoneId===i.start.zoneId&&e.keyCode===pe.Left?g(g({},r),{start:r.start-1}):a)&&(e.preventDefault(),e.stopPropagation(),e.preventEvent(),e.stopEvent(),t.setSelection(a,!0))))},n.handleRef=function(e){var t;e&&((t=null==(t=null===(t=this._ref.current)||void 0===t?void 0:t.closest("[data-leaf]"))?void 0:t.__leafModel)&&(this.props.editor._getViewModel()._setLeaf(e,t),this.leafModelMap.set(e,t)),this._ref.current=e)},n.updateViewModel=function(e,t){var n=null==(r=null===(i=this._ref.current)||void 0===i?void 0:i.closest("[data-leaf]"))?void 0:r.__leafModel,r=(i=n||{}).start,i=i.op;t=null!=t?t:n.lineState,t=r&&i?r+i.insert.length:t.length();this.props.editor._getViewModel()._setLeaf(e,g(g({},n),{start:t}))},n.handleMouseDown=function(){var e;!this._ref||(e=oa(this._ref.current,this.props.editor))&&this.props.editor.selection.setSelection(e,!0)},n.componentWillUnmount=function(){this.editor.off(Lt.KEYDOWN,this.handleKeyDown),this.editor.off(Lt.CONTENT_CHANGE,this.handleContentChange),this.editor.off(Lt.PAINT,this.handlePaint),this._ref&&this._ref.current&&this.props.editor._getViewModel()._deleteLeaf(this._ref.current)},n.render=function(){var e=la.TEXT;return i.createElement(e,g({},((e={})[Te]=!0,e),{contentEditable:!1,ref:this.handleRef,onMouseDown:this.handleMouseDown,style:Object.assign({userSelect:"none"},null!==(e=this.props.style)&&void 0!==e?e:{})}),this.props.children)},v([Fe],t.prototype,"handleContentChange",null),v([Fe],t.prototype,"handlePaint",null),v([Fe],t.prototype,"handleKeyDown",null),v([Fe],t.prototype,"handleRef",null),v([Fe],t.prototype,"handleMouseDown",null),t}(fa));var al="ace-line",ll=function(e){function t(t){var n=e.call(this,t)||this;return n._node=null,n._refreshTimes=1,n._opToView=new Map,n._opToLeaf=new WeakMap,n._lineClass=al,n._opSum=0,n._hackRenderPlugins=[],n._opViewKeyMap=new Map,n.lineStatus={editable:!0},n.mounted=!1,n.renderChild=function(e,t,r,o){var a,l=n._opSum,s=i.createElement(sl,{op:t,lineState:e,editor:n.props.editor,offset:l}),u=(d=n.renderCustomView(e,t,s,r)).view,c=d.renderContext,d=(s=c.style,c.class),f=c.domAttributes,h={className:""};s&&(h.style=s),d&&(h.className=d),null!==(d=t.attributes)&&void 0!==d&&d.displayEnter&&(h.className+=" not-display-enter"),d=Object.keys(f);try{for(var p=y(d),v=p.next();!v.done;v=p.next()){var m=v.value;h[m]=f[m]}}catch(r){b={error:r}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(b)throw b.error}}n._lineClass=c.lineClass,n._opSum+=t.insert.length,r.class="";var b=c.key;return b||(b=JSON.stringify(t.attributes)||"",r=n._opViewKeyMap.has(b)?n._opViewKeyMap.get(b)+1:0,n._opViewKeyMap.set(b,r),b+=r),i.createElement("span",g({key:b},h,((b={})[be]=!0,b),{ref:function(r){var i;r?(n.mounted&&n.removeInvalidTextNode(r),r.__leafModel=i={op:t,start:l,index:o,lineState:e},n.props.editor._getViewModel()._setLeaf(r,i),n._hackRenderPlugins.forEach((function(e){e.renderAfterMount(r,g({},c))})),c=null,n._opToLeaf.set(t,r)):(i=n._opToLeaf.get(t))&&(n.props.editor._getViewModel()._deleteLeaf(i),n._opToLeaf.delete(t))}}),u)},n.handleRef=function(e){e&&(e=e.parentElement,n.updateRef(e))},t=n.props.lineState,n.state={lineState:t,_contentsKey:t.getKey()},n.props.editor.pluginManager.getPlugins(n.state.lineState.getZoneId()).forEach((function(e){e.renderAfterMount&&n._hackRenderPlugins.push(e)})),n}h(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return t.lineState!==this.state.lineState||t._contentsKey!==this.state._contentsKey},n.isDirty=function(e){var t=this.getFilterStack(e.index).lineState,n=this.normalizeOps(t.getOps());if(1===(null===(r=e._node)||void 0===r?void 0:r.childNodes.length)&&e._node.firstChild instanceof HTMLDivElement){var r=Array.from(e._node.firstChild.querySelectorAll("[data-leaf]"));return!e.getEntities([["zoneId"]])[0]&&!(r.length===n.length-t.getLineMarker()&&!this.isStringNodeDirty(r))}return!0},n.isStringNodeDirty=function(e){var t,n;try{for(var r=y(e),i=r.next();!i.done;i=r.next()){var o=i.value.querySelector("[data-string]");if(null!=o&&o.firstChild&&o.firstChild.nodeType!==Node.TEXT_NODE)return!0}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},n.update=function(e,t){var n;this._node?(document.body.contains(this._node)||document.createElement("div").appendChild(this._node),n=this.props.editor.getStatus("dangerousInput"),this.setState({lineState:e,_contentsKey:n?this.getForceRefreshKey():this.state._contentsKey},t),this.props.editor.setStatus("dangerousInput",!1)):this.props.editor.error({message:"this._node undefined, zoneId: "+this.state.lineState.getZoneId(),level:Ne.ERROR})},n.UNSAFE_componentWillReceiveProps=function(e){var t,n=e.lineState;n&&n!==this.state.lineState&&(this.isDirty(this.state.lineState)&&this.setState({_contentsKey:this.getForceRefreshKey()}),this.setState({lineState:n}),t=this.props.editor.getStatus("dangerousInput"),e=!(null===(e=n.parent)||void 0===e||!e.getStatus("dangerousInput")),(t||e)&&(this.setState({_contentsKey:this.getForceRefreshKey()}),this.props.editor.setStatus("dangerousInput",!1),null!==(n=n.parent)&&void 0!==n&&n.setDangerousInput(!1)))},n.componentDidMount=function(){this.mounted=!0,this.props.editor.callAll("lineDidMount",{lineState:this.state.lineState})},n.componentDidUpdate=function(e,t){var n=this;this._node&&(this.updateRef(this._node),Promise.resolve().then((function(){!1!==n.props.editor.mounted&&n.props.editor.callAll("lineDidUpdate",{data:{prev:t.lineState,curr:n.state.lineState},isUpdate:!0})})))},n.componentWillUnmount=function(){var e,t;this.mounted=!1;var n=this.props.editor,r=this.state.lineState,i=r.getZoneId(),o=n.getContentState().getZoneState(i);(i=this.props.editor._getViewModel())._resetNode(r),i._deleteNode(r);var a=!1;if(o)try{for(var l=y(o),s=l.next();!s.done;s=l.next())if(s.value===r){a=!0;break}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}a||(n.callAll("lineWillUnmount",{lineState:this.state.lineState}),this.clear())},n.clear=function(){var e=this.props.editor,t=this.state.lineState,n=e._getViewModel(),r=t.getZoneId();(r=e.getContentState().getZoneState(r))&&r.getLineByKey(t.getKey())===t||n._deleteNode(this.state.lineState),this._opToView.clear(),this._opViewKeyMap.clear()},n.updateRef=function(e){var t,n=this.props.editor._getViewModel();e&&(this._node=e,t=this.state.lineState,n._setNode(t,e)),e&&(e.className!==this._lineClass&&(e.className=this._lineClass),e.dataset.node||e.setAttribute("data-node","true"),!1===this.lineStatus.editable?e.setAttribute("contenteditable","false"):"true"===e.contentEditable&&e.removeAttribute("contenteditable"))},n.getForceRefreshKey=function(){return this.state._contentsKey+this._refreshTimes++},n.reset=function(){this._opSum=0},n.renderView=function(){var e=this.props.editor,t=this.state.lineState;this._lineClass=al;var n,r=t.index,i=this.getFilterStack(r).lineState,o=i._getDelta(),a=[];return t.hasLineMarker()?(t=this.renderParent(i,o.ops[0],n=[]),n.push.apply(n,I(this.renderChildren(i,o.ops.slice(1)))),a.push(t)):a=this.renderChildren(i,o.ops),o=this.renderCustomLineView(i,a),i={isPocket:!1,isPocketWithoutFakeText:!1,index:r,info:{lineMarker:i.hasLineMarker()?1:0,lineClass:this._lineClass,zone:i.getZoneId()}},e.callAll("acePreWriteDomLineHTML",i),i.isPocket&&a.unshift(this.getPocketJSX({isPocketWithoutFakeText:i.isPocketWithoutFakeText})),this.reset(),o},n.getPocketJSX=function(e){var t=e.isPocketWithoutFakeText,n=i.createElement("span",{className:"ace-line-pocket ignore-dom pocket-ignore","data-ignore-mutation":!0,"data-fake-text":"",suppressContentEditableWarning:!0,contentEditable:!1,"data-ignore-selection":""});e=i.createElement("span",{className:"pocket-suffix","data-fake-text":"",contentEditable:!1,style:{userSelect:"none"},suppressContentEditableWarning:!0},"​");return t?n:i.createElement(i.Fragment,null,n,e)},n.renderCustomLineView=function(e,t){var n=this,r=this.props.editor.pluginManager.getPlugins(e.getZoneId()),o=this.state.lineState,a={};t=r.reduce((function(t,r){if(r.renderLine){var i={lineState:e,children:t,style:a,lineClass:n._lineClass,index:o.index,editable:!0};try{var l=r.renderLine(i);if(n._lineClass=i.lineClass,n.lineStatus.editable!==i.editable&&(n.lineStatus.editable=i.editable),l)return l}catch(i){return n.props.editor.error({message:r.name+" plugin renderLine failed! Index: "+o.index,level:Ne.ERROR,e:i}),t}}return t}),t);return Object.keys(a).length?i.createElement("div",{style:a},t):t},n.renderParent=function(e,t,n){var r={tokenClass:"",lineClass:this._lineClass};r=(n=this.renderCustomView(e,t,n,r)).view,n=n.renderContext;return this._lineClass=n.lineClass,i.createElement(i.Fragment,{key:1},r)},n.handleDisplayEnter=function(e){var t=this.props.editor.getContentState().schema;!e.some((function(e){return!function(e,t){var n,r,i;void 0===e&&(e={});try{for(var o=y(Object.keys(e)),a=o.next();!a.done;a=o.next()){var l=a.value,s=null===(i=t.get(l))||void 0===i?void 0:i.displayEnter;if("boolean"==typeof s)return s;if("function"==typeof s)return s(e[l])}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0}(e.attributes,t)}))||(e=e[e.length-1]).insert===Se&&(e.attributes=g(g({},null!==(e=e.attributes)&&void 0!==e?e:{}),{displayEnter:"false"}))},n.normalizeOps=function(e){return e.reduce((function(e,t){var n,r=t.insert;return"string"==typeof r&&r.includes("\n")&&1<r.length?(n=r.split("\n")).forEach((function(r,i){r&&(e.push(g(g({},t),{insert:r})),i!==n.length-1&&e.push({attributes:g(g({},null==t?void 0:t.attributes),{enter:"true"}),insert:Se}))})):"\n"===r?e.push({attributes:g(g({},null==t?void 0:t.attributes),{enter:"true"}),insert:Se}):e.push(t),e}),[])},n.renderChildren=function(e,t){var n=this;t=this.normalizeOps(t),this.handleDisplayEnter(t);var r=[];return this._opToView.clear(),t.forEach((function(t,i){var o={lineClass:n._lineClass,class:"",text:""};i=n.renderChild(e,t,o,e.getLineMarker()?i+1:i);n._opToView.set(t,i),r.push(i)})),this._opViewKeyMap.clear(),this.renderInlineWrapper(r,t,e)},n.renderInlineWrapper=function(e,t,n){for(var r=this,o=t.reduce((function(t,o,a){var l=n.getOps().indexOf(o),s=g({},o.attributes||{}),u=t.length?t[t.length-1]:null,c=r._opToView.get(o);-1!==(c=e.indexOf(c))&&(a=c);c=r.processLocalAttributesAndGetMatchedPlugins(s);var d=[];return c.forEach((function(e){!e.renderInlineWrapper||(e=e.renderInlineWrapper({index:l,attributes:s,lineState:n}))&&i.isValidElement(e)&&e&&d.push(e)})),0===d.length||(o=String(o.insert+JSON.stringify(o.attributes)+a),u&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(u.opWrappers,d)&&u.range[1]+1===a?(u.key+=o,u.range[1]=a):t.push({opWrappers:d,key:o,range:[a,a]})),t}),[]),a=o.length;0<=--a;)!function(){var t=(r=o[a]).opWrappers,n=r.key,r=(s=w(l=r.range,2))[0],l=s[1],s=e.slice(r,l+1);s=t.reduce((function(e,t){return t=i.cloneElement(t,Object.assign({},t.props,((t={})[me]="true",t))),i.createElement(t.type,g({},t.props,{key:n}),e)}),s);e.splice(r,l-r+1,s)}();return e},n.removeInvalidTextNode=function(e){var t=this;e.childNodes.forEach((function(e){var n=e.parentNode;if(n instanceof HTMLElement){if(e instanceof HTMLElement){var r=e.classList;if(e.hasAttribute(Ee)||null!=r&&r.contains(Le)||null!=r&&r.contains("ignore-dom"))return}else if(e.nodeType===Node.TEXT_NODE&&!n.closest("[data-string]")&&!n.closest("[data-zero-space]")&&!n.closest("[data-void]")&&e.textContent!==ve)return void n.removeChild(e);null!==(n=e.childNodes)&&void 0!==n&&n.length&&e instanceof HTMLElement&&t.removeInvalidTextNode(e)}}))},n.getFilterStack=function(e){var t=this.props.editor,n=(e={lineState:n=this.state.lineState,index:e},n.getKey());return t.callAll("_editorLineStateWillRender",e),e.lineState._setKey(n),e},n.renderCustomView=function(e,t,n,r){var i,o=this,a=g({},t.attributes||{}),l=this.state.lineState,s={op:t,lineState:e,attributes:a,insert:t.insert,domAttributes:{},children:n,class:r.class||"",lineClass:r.lineClass||"",style:r.style||{},key:"",index:l.index,zoneId:l.getZoneId()};return t.insert===Se&&null!==(i=t.attributes)&&void 0!==i&&i.enter||this.processLocalAttributesAndGetMatchedPlugins(a).forEach((function(e){if(e.render){try{n=e.render(s)}catch(t){o.props.editor.error({message:e.name+" plugin render failed! Index: "+l.index,level:Ne.ERROR,e:t})}s=g(g({},s),{children:n})}})),{view:n,renderContext:s}},n.processLocalAttributesAndGetMatchedPlugins=function(e){var t=this,n=new Set;return Object.keys(e).forEach((function(r){""===e[r]||(r=t.props.editor.pluginManager._matchPlugin(r,e[r],t.state.lineState.getZoneId()))&&n.add(r)})),va(Array.from(n),"render")},n.render=function(){if(!this.state)return null;var e=(n=this.state)._contentsKey,t=n.lineState,n=this.renderView();return i.createElement("div",{"data-line-wrapper":!0,ref:this.handleRef,key:e,dir:this.props.editor._dir||"auto"},n,this.props.editor._hackMacCompositionInput&&!t.nextSibling()&&i.createElement(i.Fragment,null,i.createElement(ha,{key:1,style:{position:"absolute",width:0,height:0}}),i.createElement(ha,{key:2,style:{position:"absolute",width:0,height:0}})))},v([Fe],t.prototype,"updateRef",null),t}(i.Component),sl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ref=null,t.handleTextViewRef=function(e,n){e&&((e.hasAttribute(we)||e.hasAttribute(Ee))&&(t._ref=e,t.props.editor._getViewModel()._setLeaf(e,n)),n.op.insert!==e.textContent&&(Array.from(e.childNodes).slice(1).forEach((function(e){var t;null!==(t=e.parentNode)&&void 0!==t&&t.removeChild(e)})),!e.firstChild||e.firstChild instanceof HTMLElement||(e.firstChild.nodeValue=n.op.insert)))},t}h(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t;return e.offset!==this.props.offset||(null===(t=e.op.attributes)||void 0===t?void 0:t.enter)!==(null===(t=this.props.op.attributes)||void 0===t?void 0:t.enter)||!!(this._ref&&this._ref instanceof HTMLSpanElement&&this._ref.hasAttribute(we)&&e.op.insert!==this._ref.textContent)},n.render=function(){var e,t=this,n=this.props,r=n.op,o=n.lineState,a=n.offset;return"string"!=typeof r.insert?i.createElement(i.Fragment,null):((e={})[we]=!0,n=e,null!==(e=r.attributes)&&void 0!==e&&e.enter&&(n["data-enter"]=!0),i.createElement("span",g({},n,{ref:function(e){t.handleTextViewRef(e,{op:r,start:a,lineState:o})}}),r.insert))},n.componentWillUnmount=function(){this._ref&&(this.props.editor._getViewModel()._deleteLeaf(this._ref),this._ref.firstChild&&this._ref.removeChild(this._ref.firstChild))},t}(i.Component);function ul(e){var t,n;return h(r,n=Ma),r.prototype.getWrappers=function(e,t){var n,r;if(!e)return null;var i={};try{for(var o=y(e),a=o.next();!a.done;a=o.next()){var l,s,u=w(a.value,2),c=u[0],d=u[1],f=c+d,h=this.wrapperCache[f],p=void 0;h?p=h:null===h||(l=this.props.editor.pluginManager._matchPlugin(c,d))&&l.renderWrapper&&(p=l),p&&((s=p.renderWrapper({lineState:t}))&&(i[f]={element:s,plugin:p}),this.wrapperCache[f]=p)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return Object.keys(i).length?i:null},r.prototype.formatRenderContent=function(){for(var e,t=[],n=new Map,r=this,i=0,o=this.content.length();i<o;i++)!function(i,o){var a=r.content.getLine(i),l=r._getLineWrappers(a),s=[];if(l){for(s.push(a);i<o-1;){i++;var u=r.content.getLine(i),c=r._getLineWrappers(u);if(!r.isEqual(l,c)){i--;break}s.push(u)}var d=cl(s,n),f=new Ca({wrappers:l,content:s,key:d});s.forEach((function(e){e._wrapperState=f})),f._node=document.createElement("div"),t.push(f)}else t.push(a);e=i}(i,o),i=e;var a=[],l=new Map;return t.forEach((function(e){var t,n=e.getKey();l.has(n)?((t=l.get(n))&&a.push(t),a.push(e),l.set(n,null)):l.set(n,e)})),a.forEach((function(e){e._refreshKey()})),t},r.prototype._getLineWrappers=function(e){var t;return void 0===e.__wrapper&&(t=e.getLineAttributes(),e.__wrapper=this.getWrappers(t,e)),e.__wrapper},r.prototype.isEqual=function(e,t){var n,r,i,o;if(!e||!t)return!1;var a=Object.keys(e);try{for(var l=y(a),s=l.next();!s.done;s=l.next()){var u=s.value;if((null===(i=e[u])||void 0===i?void 0:i.element)!==(null===(o=t[u])||void 0===o?void 0:o.element))return!1}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return a.length===Object.keys(t).length},r.prototype.fixRenderContent=function(e,t){var n=ka(t);return e.map((function(e){if(e instanceof Ca){var t=n.get(e.getKey());if(!t)return e;if(e.compare(t.data)===dt.EQUAL)return t.data;e.compare(t.data)===dt.UPDATE&&(t.data._node||console.warn("old.data._node undefined",t.data.getKey()),e._node=t.data._node)}return e}))},r.prototype.componentDidUpdate=function(){var e,t,n,r,i=this.state.dataSource,o={};try{for(var a=y(i),l=a.next();!l.done;l=a.next())o[l.value.getKey()]=!0}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}try{for(var s=y(Object.keys(this.viewRefs)),u=s.next();!u.done;u=s.next()){var c=u.value;o[c]||delete this.viewRefs[c]}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},r.prototype.render=function(){var t=this.state.dataSource;return i.createElement(e,{editor:this.editor,dataSource:t,renderItem:this.renderLineOrWrapper,onDidPaint:this.handleDidPaint,updateItem:this.updateItem})},(t=r).defaultProps={onDidPaint:function(){return null},height:1/0,onMount:function(){return null}},t;function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.renderWrapper=function(t,n){var r=e.editor,o=Object.keys(t.wrappers).sort((function(e,n){return e=t.wrappers[e].plugin,n=t.wrappers[n].plugin,r.pluginManager._indexOf(e)-r.pluginManager._indexOf(n)})).map((function(e){return t.wrappers[e].element})),a=t.getKey();return i.createElement(xa,{ref:function(t){return e.initRefs(a,t)},data:t,elements:o,extraProps:n,renderContent:e.renderWrapperContent})},e.renderWrapperContent=function(t,n){return i.createElement("div",{key:t.getKey()},e.renderLineChildren(t,n))},e.renderLineOrWrapper=function(t,n){return t instanceof Ct||t instanceof Ca||(e.editor.log("[BaseZoneView][renderLineOrWrapper] error instance",t),e.editor.error({message:"[BaseZoneView][renderLineOrWrapper] BaseZoneView.renderLineOrWrapper error",level:Ne.FATAL})),t instanceof Ct?e.renderLineChildren(t,n):e.renderWrapper(t,n)},e.renderLineChildren=function(t,n){return i.createElement(ll,{key:t.getKey(),ref:function(n){return e.initRefs(t.getKey(),n)},editor:e.editor,lineState:t,extraProps:n})},e.updateItem=function(t,n,r){var i=t.getKey();(i=e.viewRefs[i])&&i.update(t,r)},e}}function cl(e,t){var n,r;try{for(var i=y(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(a._wrapperState){var l=a._wrapperState.getKey();return t.has(l)?void 0:(t.set(l,!0),l)}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var dl=function(e){var t=e.zoneId,n=e.editor,r=e.className,o=e.style,a=e.editable,l=e.ignoreContainerEditable,s=(e.copyable,e.placeholder),u=e.onCompositionStart,c=e.onCompositionUpdate,d=e.onCompositionEnd,f=e.onFocus,h=e.onBlur,p=e.children,v=e.scroller,m=e.scrollerOptions,b=(0,i.useRef)(null);Ta(n,t),(0,i.useLayoutEffect)((function(){var r;if(b.current)return e.onMount(b.current),null!==(r=n.getContentState().getZoneState(t))&&void 0!==r&&r.setPlaceholder(s||""),n._toggleZonePlaceHolder(t),function(){var n=e.editor,r=n.getContentState().getZoneState(t);r&&n._getViewModel()._resetNode(r),b.current&&n._getViewModel()._deleteNode(b.current)}}),[]),(0,i.useLayoutEffect)((function(){t===fe&&l?n.setContainerContentEditableLock(!0):n.setContainerContentEditableLock(!1)}),[a,l,t]),(0,i.useEffect)((function(){function e(e){e=e.changes,t in e&&n._toggleZonePlaceHolder(t)}return n.on(Lt.CONTENT_CHANGE,e,{zoneId:t}),function(){n.off(Lt.CONTENT_CHANGE,e)}}),[n,t]);var y=(0,i.useMemo)((function(){if(t!==fe||!l)return a}),[a,l,t]);return function(e,t,n,r){void 0===r&&(r={});var o=w((0,i.useState)(null),2),a=o[0],l=o[1];(0,i.useEffect)((function(){a&&a.destroy();var i=null;void 0===t||!0===t?i=document.scrollingElement||document.body:!1===t?i=null:(t instanceof Element||t instanceof Window)&&(i=t),l(null!==i?new pl(e,i,g(g({},r),{getViewPortPadding:e.getViewPortPadding}),n,[{type:Lt.CONTENT_CHANGE,overideConfig:{triggerAfterPaint:!0}},Lt.SELECTION_CHANGE]):null)}),[t,n,e])}(n,v,t,m),i.createElement("div",{key:t,ref:function(n){var r,i;!(b.current=n)||(i=(r=e.editor).getContentState().getZoneState(t))&&r._getViewModel()._setNode(i,n)},style:o||{outline:"none"},className:"zone-container "+(r||"zoneId-"+t+" ace-editor"),"data-zone-id":t,"data-zone-container":"*","data-slate-editor":"true",contentEditable:y,onCompositionStart:u,onCompositionUpdate:c,onCompositionEnd:d,onFocus:f,onBlur:h,suppressContentEditableWarning:!0},p)},fl=(ul(Sa),ul(Sa)),hl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this.editor,t=(o=this.props).style,n=o.editable,r=o.className,o=o.scroller;return i.createElement(Si.Provider,{value:e},i.createElement(dl,{zoneId:"0",editor:e,style:t||{},className:"editor-kit-container "+Aa()+" "+(r||""),editable:n,onMount:this.onMount,scroller:o},i.createElement(fl,{zoneId:"0",editor:e})))},t}($a),pl=function(){function e(e,t,n,r,i){void 0===n&&(n={}),void 0===i&&(i=[]),this.editor=e,this.scroller=t,this.scrollerOptions=n,this.zoneId=r,this.autoScrollEvents=i,this._listeners=[],this._timers={},this.init()}var t=e.prototype;return t.listenEditorEvents=function(){var e=this;this.autoScrollEvents.forEach((function(t){function n(){return e.scrollIntoViewport(void 0,g({_event:r},i))}var r,i="string"==typeof t?tl[r=t]||{}:(r=t.type,Object.assign({},tl[r],t.overideConfig));t=i.triggerAfterPaint?function(){return e.editor.once("paint",n)}:n;e.editor.on(r,t,e.zoneId===fe?void 0:{zoneId:e.zoneId}),e._listeners.push(t)}))},t.getScroller=function(){return this.scroller},t.emitScroll=function(e){this.editor.call(Lt.SCROLL,e)},t.destroy=function(){for(var e,t=0;t<this.autoScrollEvents.length;t++){var n=this.autoScrollEvents[t],r="string"==typeof n?n:n.type;this.editor.off(r,this._listeners[t])}Object.values(this._timers).forEach((function(e){return window.clearTimeout(e)}));var i=null===(e=null===(i=this.editor.getContentState())||void 0===i?void 0:i.getZoneManager)||void 0===e?void 0:e.call(i);null!=i&&i.removeScrollModule(this.zoneId),this.scroller.removeEventListener("scroll",this.emitScroll)},t.init=function(e){void 0===e&&(e=!0);var t,n=null===(n=null===(t=this.editor.getContentState())||void 0===t?void 0:t.getZoneManager)||void 0===n?void 0:n.call(t);null!=n&&n.registerScrollModule(this.zoneId,this),e&&this.scroller.addEventListener("scroll",this.emitScroll),this.listenEditorEvents()},t.scrollTo=function(e){this.scroller.scrollTo(e)},t.scrollBy=function(e){this.scroller.scrollBy(e)},t.scrollPointIntoScrollerView=function(e,t,n,r){var i=this.editor,o=this.zoneId;if(!i||!o)return el;var a,l={};if(!il(r))return el;try{a=nl(t)}catch(e){return console.error(e),el}return i=g(g({},r),{top:r.top-a.top,bottom:r.bottom-a.top,left:r.left-a.left,right:r.right-a.left}),t=(o=rl(n)).paddingBottom,r=o.paddingLeft,n=o.paddingRight,o=o.paddingTop,o=-i.top+o,t=i.bottom-a.clientHeight+t,o>1?l.top=a.scrollTop-o:t>1&&(l.top=a.scrollTop+t),r=-i.left+r,n=i.right-a.clientWidth+n,r>1?l.left=a.scrollLeft-r:n>1&&(l.left=a.scrollLeft+n),l},t.scrollPointIntoWindowView=function(e,t,n,r){if(!this.editor)return el;var i,o={};if(!il(r))return el;try{i=nl(t),window.visualViewport&&(i.clientHeight=window.visualViewport.height,i.clientWidth=window.visualViewport.width)}catch(e){return console.error(e),el}var a=(l=rl(n)).paddingBottom,l=(t=l.paddingLeft,n=l.paddingRight,l.paddingTop);l=-r.top+l,a=r.bottom-i.clientHeight+a;return l>1?o.top=i.scrollTop-l:a>1&&(o.top=i.scrollTop+a),t=-r.left+t,n=r.right-i.clientWidth+n,t>1?o.left=i.scrollLeft-t:n>1&&(o.left=i.scrollLeft+n),o},t._scrollIntoViewport=function(e,t){var n,r=this.editor,i=this.scroller,o=this.zoneId,a=this.scrollerOptions,l=(t=void 0===t?{}:t).onlyScrollWhenCollapsed;t=r.selection.getSelection();l&&!e&&!t.isCollapsed()||(e=null!=e?e:t.start).zoneId!==o&&o!==fe||(!r.getStatus("preventScrolling")&&r.isEditable()?(t=r.rectModule.getRawCaretRect(e),o=el,i!==document.scrollingElement&&(o=this.scrollPointIntoScrollerView(e,i,(null===(n=a.getScrollerPadding)||void 0===n?void 0:n.call(a))||0,t),i.scrollTo(o)),n=document.scrollingElement||window,i=el,a.disableBodyScroll||(i=this.scrollPointIntoWindowView(e,n,(null===(e=a.getViewPortPadding)||void 0===e?void 0:e.call(a))||0,t),n.scrollTo(i)),(ol(o)||ol(i))&&this.emitScroll()):r.setStatus("preventScrolling",!1))},t.scrollIntoViewport=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(null===(e=n[1])||void 0===e?void 0:e._event)||"DEFAULT";void 0===this._timers[i]&&(this._scrollIntoViewport.apply(this,I(n)),this._timers[i]=window.setTimeout((function(){t._timers[i]=void 0}),66))},v([Fe],e.prototype,"getScroller",null),v([Fe],e.prototype,"emitScroll",null),v([Fe],e.prototype,"destroy",null),v([Fe],e.prototype,"init",null),v([Fe],e.prototype,"scrollTo",null),v([Fe],e.prototype,"scrollBy",null),v([Fe],e.prototype,"scrollPointIntoScrollerView",null),v([Fe],e.prototype,"scrollPointIntoWindowView",null),v([Fe],e.prototype,"_scrollIntoViewport",null),v([Fe],e.prototype,"scrollIntoViewport",null),e}();var gl=["editor","length","disableDefaultSelected","forwardRef","onSelect","onDeselect","onKeyDown"],vl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tagName=la.TEXT,t.option={viewportEventEnabled:!0,selectEventEnabled:!0},t._leftZeroSpaceRef=i.createRef(),t._rightZeroSpaceRef=i.createRef(),t.leafModelMap=new WeakMap,t.handleKeyDown=function(e){if(t.props.onKeyDown)return t.props.onKeyDown(e);if(t.isBlockType()){var n=e.keyCode,r=!1;switch(!0){case n===pe.Enter:r=t.handleEnterKey();break;case[pe.Left,pe.Right,pe.Up,pe.Down].includes(n):r=t.handleArrowKey(e)}r&&(e.stopEvent(),e.stopPropagation(),e.preventDefault(),e.preventEvent())}},t.updateLeafModel=function(){var e,n,r,i=t._ref.current;i&&((n=null==(e=null===(r=t._ref.current)||void 0===r?void 0:r.closest("[data-leaf]"))?void 0:e.__leafModel)&&(t.props.editor._getViewModel()._setLeaf(i,n),t.leafModelMap.set(i,n)),n&&n.lineState&&(r=n.op,i=n.lineState,i=n.index===i.getOps().length-2,null!=r&&r.attributes&&i&&(t.setZeroSpaceStyle(t._leftZeroSpaceRef.current),t.setZeroSpaceStyle(t._rightZeroSpaceRef.current),t.isBlockType()?bn.mobile||requestAnimationFrame((function(){var e;null!==(e=null===(e=t._ref.current)||void 0===e?void 0:e.closest("[data-line-wrapper]"))&&void 0!==e&&e.setAttribute("contenteditable","false")})):e.style.margin="0 0.1px")))},t.handleZeroSpaceStyle=function(e){},t.handleWrapperRef=function(e){e&&(t.isBlockType()?e.style.display="block":e.style.display="auto")},t}h(t,e);var n=t.prototype;return Object.defineProperty(n,"_length",{get:function(){var e=this.props.length;return"number"==typeof e&&isFinite(e)?Math.max(e,1):1},enumerable:!1,configurable:!0}),n.handleDeleteKey=function(e){var t=e.e,n=e.stopEvent,r=e.preventEvent,i=e.isBackward,o=this.props.editor,a=o.selection.getSelection(),l=(p=a.toPosition()).zoneId,s=p.start;if(a.isCollapsed()&&(this.isBlockType()||1!==this._length)){var u=this.getSelectionOfCurrentRef();if(u){var c,d=o.getContentState(),f=(c=a.start).line,h=c.offset,p=(e=i?u.end:u.start,f+-1*(i?1:-1));if(c=d.getZoneState(l)){var g;f=c.getLine(f);if(this.isBlockType()&&e.line===p&&f&&h===(i?f.getLineMarker():f.length()-1)&&e.zoneId===a.start.zoneId)return n(),r(),t.preventDefault(),t.stopPropagation(),f.isTextEmpty()&&(g=new ae({zoneId:l}),i?(f=f.getLineMarker()+1,g.retain(s-f).delete(f)):(g.retain(s).delete(1),u.start.line--,u.end.line--),d.apply(g)),void o.selection.setSelection(u,!0);e.line===a.start.line&&e.offset===a.start.offset&&(n(),r(),t.preventDefault(),t.stopPropagation(),(g=new ae({zoneId:l})).retain(s+(i?-1*this._length:0)).delete(this._length),d.apply(g))}}}},n.handleEnterKey=function(){if(!this.isFocusOnMe())return!1;if(!(r=this.getSelectionOfCurrentRef()))return!1;var e,t=this.editor.getContentState(),n=(e=r.start).zoneId,r=e.line;return!!(e=null===(e=t.getZoneState(n))||void 0===e?void 0:e.getLine(r))&&(!!(r=t.rangePointToOffset({line:r,zoneId:n,offset:e.length()-1}))&&(e=new ae({zoneId:n}).retain(r).insertEnterAndLineMarker(),t.apply(e),this.editor.selection.setSelection({start:r+2,len:0,zoneId:n}),!0))},n.handleArrowKey=function(e){var t,n=this.getSelectionOfCurrentRef();if(!n)return!1;var r=(c=n.start).zoneId,i=c.line,o=(d=this.editor.selection.getSelection()).start,a=d.end,l=o.line,s=o.offset,u=o.zoneId,c=a.line,d=a.offset;if(r!==u)return!1;var f={start:n.start,end:n.end},h=this.editor.getContentState().getZoneState(u);if(!h)return!1;if(this.isFocusOnMe()){switch(e.keyCode){case pe.Left:case pe.Up:f.start.line=Math.max(0,i-1),f.start.offset=(null!==(t=null===(t=h.getLine(f.start.line))||void 0===t?void 0:t.length())&&void 0!==t?t:1)-1,f.end=f.start;break;case pe.Right:case pe.Down:f.start.line=Math.min(h.length()-1,i+1),f.start.offset=null!==(t=null===(t=h.getLine(f.start.line))||void 0===t?void 0:t.getLineMarker())&&void 0!==t?t:0,f.end=f.start;break;default:return!1}return this.editor.selection.setSelection(f,!0),!0}return(l===i+1&&(e.keyCode===pe.Up&&this.isFirstLineOfParagraph(o)||e.keyCode===pe.Left&&s===(null===(l=null==h?void 0:h.getLine(l))||void 0===l?void 0:l.getLineMarker()))||!(c!==i-1||!(e.keyCode===pe.Down&&this.isLastLineOfParagraph(a)||e.keyCode===pe.Right&&d+1===(null===(c=null==h?void 0:h.getLine(c))||void 0===c?void 0:c.length()))))&&(this.editor.selection.setSelection(f=n,!0),!0)},n.isFirstLineOfParagraph=function(e){if(!(n=null===(t=this.editor.getContentState().getZoneState(e.zoneId))||void 0===t?void 0:t.getLine(e.line)))return!1;var t=n.getLineMarker(),n=this.editor.rectModule.getCaretRect(e,e.zoneId);e=this.editor.rectModule.getCaretRect({line:e.line,offset:t,zoneId:e.zoneId},e.zoneId);return n.top===e.top},n.isLastLineOfParagraph=function(e){var t=null===(n=this.editor.getContentState().getZoneState(e.zoneId))||void 0===n?void 0:n.getLine(e.line);if(!t)return!1;var n=this.editor.rectModule.getCaretRect(e,e.zoneId);e=this.editor.rectModule.getCaretRect({line:e.line,offset:t.length()-1,zoneId:e.zoneId},e.zoneId);return n.bottom===e.bottom},n.isFocusOnMe=function(){var e=null===(t=this.getSelectionOfCurrentRef())||void 0===t?void 0:t.toPosition();if(!e)return!1;var t=this.editor.selection.getSelection().toPosition();return e.start===t.start&&e.len===t.len&&e.zoneId===t.zoneId},n.componentDidUpdate=function(t){e.prototype.componentDidUpdate.call(this,t),this._ref.current&&(this.handleRef(this._ref.current),this.updateLeafModel()),t=this.getZoneIdByCurrentRef(),this.props.editor.once(Lt.PAINT,this.updateLeafModel,{zoneId:t})},n.componentDidMount=function(){e.prototype.componentDidMount.call(this);var t=this.getZoneIdByCurrentRef();this.props.editor.on(Lt.DELETE_KEY,this.handleDeleteKey,{zoneId:t,priority:900}),this.props.editor.on(Lt.KEYDOWN,this.handleKeyDown,{zoneId:t,priority:900}),this.props.editor.once(Lt.PAINT,this.updateLeafModel,{zoneId:t})},n.componentWillUnmount=function(){var t;e.prototype.componentWillUnmount.call(this),this.props.editor.off(Lt.DELETE_KEY,this.handleDeleteKey),this.props.editor.off(Lt.KEYDOWN,this.handleKeyDown),this._ref&&this._ref.current&&this.props.editor._getViewModel()._deleteLeaf(this._ref.current),this.isBlockType()&&null!==(t=null===(t=this._ref.current)||void 0===t?void 0:t.closest("[data-line-wrapper]"))&&void 0!==t&&t.removeAttribute("contenteditable")},n.isBlockType=function(){var e=(this._ref.current&&this.leafModelMap.get(this._ref.current)||{}).op,t=null==e?void 0:e.attributes;return!!t&&nt(t,e=this.props.editor.getContentState().schema)},n.getZoneIdByCurrentRef=function(){var e=null!==(e=this._rightZeroSpaceRef.current)&&void 0!==e?e:this._ref.current;return(null===(e=null===(e=null==e?void 0:e.closest("[data-zone-id]"))||void 0===e?void 0:e.dataset)||void 0===e?void 0:e.zoneId)||""},n.getSelectionOfCurrentRef=function(){return(this._rightZeroSpaceRef.current||this._ref.current)&&(e=oa(e=null!==(e=this._rightZeroSpaceRef.current)&&void 0!==e?e:this._ref.current,this.props.editor))||null;var e},n.handleMouseDown=function(e){var t;!1===this.props.autoSelectOnClick||(t=this.getSelectionOfCurrentRef())&&(this.props.editor.selection.setSelection(t),this.props.editor.selection.updateBrowserSelection(!0))},n._handleMouseDown=function(e){this.handleMouseDown(e)},n.handleRef=function(e){e&&(this._ref.current=e)},n.handleRightZeroSpaceRef=function(e){e&&(this.props.forwardRef&&(this.props.forwardRef.current=e),this._rightZeroSpaceRef.current=e,this.handleZeroSpaceStyle(e))},n.handleLeftZeroSpaceRef=function(e){e&&(this._leftZeroSpaceRef.current=e)},n.setZeroSpaceStyle=function(e){e&&(this.isBlockType()?(e.style.position="absolute",e.style.width="0px",e.style.height="0px",e.style.display="inline-block"):(e.style.position="",e.style.width="auto",e.style.height="auto",e.style.display="auto"))},n.render=function(){var e,t=this,n=Object.keys(this.props).reduce((function(e,n){return gl.includes(n)||(n.startsWith("on")?e[n]=ca.includes(ia(n))?void 0:t._handleSynthesisEvents:e[n]=t.props[n]),e}),{});return bn.ios&&(n.style=Object.assign({WebkitUserSelect:"none"},n.style)),i.createElement("span",g({},((e={})[Ae]=!0,e),{ref:this.handleWrapperRef}),i.createElement(ha,{key:""+Math.random(),ref:this.handleLeftZeroSpaceRef}),i.createElement("span",g({},((e={})["data-fake-text"]=" ".repeat(this._length),e),{contentEditable:!1,ref:this.handleRef,onMouseDown:this._handleMouseDown},n),this.props.children,this.props.disableDefaultSelected&&i.createElement(ha,{ref:this.handleRightZeroSpaceRef})))},v([Fe],t.prototype,"handleDeleteKey",null),v([Fe],t.prototype,"_handleMouseDown",null),v([Fe],t.prototype,"handleRef",null),v([Fe],t.prototype,"handleRightZeroSpaceRef",null),v([Fe],t.prototype,"handleLeftZeroSpaceRef",null),t}(fa),ml=Ti(i.forwardRef((function(e,t){return i.createElement(vl,g({},e,{forwardRef:t}))})));function bl(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yl(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var wl=function(e,t){return(wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Il(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var Cl=function(e){function t(t,n){void 0===n&&(n=!1);var r=e.call(this,t)||this;return r.silence=n,r}return function(e,t){function n(){this.constructor=e}wl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function kl(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r={}),!e){if("object"==typeof r&&Object.keys(r).length){var i=Object.entries(r).map((function(e){var t=Il(e,2);return t[0]+": "+t[1]})).join(", ");console.log("oops debug: "+i)}throw new Cl("Failed assertion: "+t,n)}}var El=function(){function e(){var e=this;this.toJsonable=function(){var t={};for(var n in e.numToAttrib)if(e.numToAttrib.hasOwnProperty(n)){var r=e.numToAttrib[n];t[n]=[r[0],r[1]]}return{numToAttrib:t,nextNum:e.nextNum,attribToNum:e.attribToNum}},this.fromJsonable=function(t){for(var n in e.numToAttrib={},e.nextNum=t.nextNum,e.attribToNum={},t.numToAttrib)if(t.numToAttrib.hasOwnProperty(n)){var r=t.numToAttrib[n];e.attribToNum[String(r)]=Number(n),e.numToAttrib[n]=[r[0],r[1]]}try{e.checkConsistent()}catch(t){e.handleError(t)}return e.dirty=!0,e},this.checkConsistent=function(){for(var t=0;t<e.nextNum;t++)kl(t in e.numToAttrib,"AttribPool: "+t+" is not in this.numToAttrib");var n={};for(var r in e.numToAttrib)if(e.numToAttrib.hasOwnProperty(r)){kl(Number(r)>=0&&Number(r)<e.nextNum,"AttribPool: "+r+" is not in range [0,"+e.nextNum+"]");var i=e.numToAttrib[r];kl("[object Array]"===Object.prototype.toString.call(i),"AttribPool: attrib should be an array"),kl(2===i.length,"AttribPool: attrib length should be 2"),kl("string"==typeof i[0],"AttribPool: key should be string"),kl("string"==typeof i[1],"AttribPool: value should be string"),kl(!(String(i)in n),"AttribPool: attrib was already seen"),n[String(i)]=!0,kl(e.attribToNum[String(i)]===Number(r),"AttribPool: attribToNum does not match")}for(var o in e.attribToNum)e.attribToNum.hasOwnProperty(o)&&kl(o in n,"AttribPool: attr was not seen")},this.numToAttrib={},this.attribToNum={},this.nextNum=0,this.dirty=!1}return e.prototype.putAttrib=function(e,t){var n=[String(e[0]||""),String(e[1]||"")],r=String(n);if(r in this.attribToNum)return this.attribToNum[r];if(t)return-1;var i=this.nextNum++;return this.attribToNum[r]=i,this.numToAttrib[i]=n,this.dirty=!0,i},e.prototype.getAttrib=function(e){var t=this.numToAttrib[e];return t?[t[0],t[1]]:t},e.prototype.updateAttrib=function(e,t){var n=this.getAttrib(e);if(n){var r=String(n),i=String(t),o=this.attribToNum[r];null!=o&&delete this.attribToNum[r],this.attribToNum[i]=e,this.numToAttrib[e]=t}},e.prototype.getAttribKey=function(e){var t=this.numToAttrib[e];return t?t[0]:""},e.prototype.getAttribValue=function(e){var t=this.numToAttrib[e];return t?t[1]:""},e.prototype.getAttribNum=function(e){var t=e;return"string"!=typeof t&&(t=String(t)),this.attribToNum[t]},e.prototype.eachAttrib=function(e){for(var t in this.numToAttrib)if(this.numToAttrib.hasOwnProperty(t)){var n=this.numToAttrib[t];e(n[0],n[1])}},e.prototype.toJsonableNoCloning=function(){return{numToAttrib:this.numToAttrib,nextNum:this.nextNum}},e.prototype.fromJsonableNoCloning=function(e){for(var t in this.numToAttrib=e.numToAttrib,this.nextNum=e.nextNum,this.attribToNum={},this.numToAttrib)this.numToAttrib.hasOwnProperty(t)&&(this.attribToNum[String(this.numToAttrib[t])]=Number(t));try{this.checkConsistent()}catch(e){this.handleError(e)}return this},e.prototype.handleError=function(e){throw e},e.prototype.copy=function(){var t=new e;for(var n in this.numToAttrib)if(this.numToAttrib.hasOwnProperty(n)){var r=this.numToAttrib[n];t.numToAttrib[n]=[r[0],r[1]]}for(var i in this.attribToNum)this.attribToNum.hasOwnProperty(i)&&(t.attribToNum[i]=this.attribToNum[i]);return t.nextNum=this.nextNum,t},e}();function xl(e){return{opcode:e||"",chars:0,lines:0,attribs:"",getAttribute:function(e,t){return function(e,t,n){for(var r=function(e){for(var t=36,n=[],r=!1,i=!1,o=0,a=0;a<e.length;a++){var l=e.charCodeAt(a);if(r||i)if(l>=48&&l<=57)o*=t,o+=l-48;else if(l>=97&&l<=122)o*=t,o+=l-97+10;else if(l>=65&&l<=90)o*=t,o+=l-65+10;else{if(!r){a+=o,o=0,i=!1;continue}n.push(o),o=0,r=!1}switch(l){case 42:r=!0;break;case 36:return n;case 35:i=!0}}return r&&n.push(o),n}(e),i=r.length-1;i>=0;i--){var o=r[i];if(n.getAttribKey(o)===t)return n.getAttribValue(o)}return""}(this.attribs,e,t)}}}function Ml(e){e.opcode="",e.chars=0,e.lines=0,e.attribs=""}function Sl(e,t){t.opcode=e.opcode,t.chars=e.chars,t.lines=e.lines,t.attribs=e.attribs}var Tl=function(){function e(e,t){void 0===t&&(t=0),this.opStr=e,this.index=t,this.op=xl()}return e.prototype.hasNext=function(){return this.index<this.opStr.length},e.prototype.next=function(e){var t=e||this.op;if(this.index!==this.opStr.length){t.lines=0;for(var n=void 0,r=this.index;this.index<this.opStr.length;){var i=this.opStr.charCodeAt(this.index);if(124===i){for(n=this.index,this.index++;this.index<this.opStr.length;){if(43===(o=this.opStr.charCodeAt(this.index))||45===o||61===o){t.opcode=this.opStr.charAt(this.index);break}o>=48&&o<=57?(t.lines*=36,t.lines+=o-48):o>=97&&o<=122&&(t.lines*=36,t.lines+=o-97+10),this.index++}break}if(43===i||45===i||61===i){n=this.index,t.opcode=this.opStr.charAt(this.index);break}this.index++}for(t.attribs=this.opStr.substring(r,n),t.chars=0,this.index++;this.index<this.opStr.length;){var o;if((o=this.opStr.charCodeAt(this.index))>=48&&o<=57)t.chars*=36,t.chars+=o-48;else{if(!(o>=97&&o<=122))break;t.chars*=36,t.chars+=o-97+10}this.index++}return t}return Ml(t),t},e}();function Al(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r={}),!e){if("object"==typeof r&&Object.keys(r).length){var i=Object.entries(r).map((function(e){var t=Il(e,2);return t[0]+": "+t[1]})).join(", ");console.log("oops debug: "+i)}throw new Cl("Failed assertion: "+t,n)}}function Nl(e,t){return void 0===t&&(t=0),function(e,t){void 0===t&&(t=0);return new Tl(e||"",t)}(e||"",t)}function Ll(e){return e.toString(36).toLowerCase()}function Dl(e){return parseInt(e,36)}var zl=/\*([0-9a-z]+)/g;function Ol(e,t){var n=e.indexOf("$");n<0&&(n=e.length);for(var r=e.substring(0,n).match(zl)||[],i=0;i<r.length;i++)t(Dl(r[i].substring(1)))}function Rl(e,t,n){if(!t)return"";if("string"==typeof t)return t;if(n&&t&&t.length){t.length>1&&(t=t.slice()).sort();for(var r=[],i=0;i<t.length;i++){var o=t[i];("="===e||"+"===e&&o[1])&&r.push("*"+Ll(n.putAttrib(o)))}return r.join("")}return""}function _l(){var e,t=(e=[],{append:function(t){e.push(t.attribs),t.lines&&e.push("|",Ll(t.lines)),e.push(t.opcode),e.push(Ll(t.chars))},toString:function(){return e.join("")},clear:function(){e.length=0}}),n=xl(),r=0;function i(e){n.opcode&&(e&&"="===n.opcode&&!n.attribs||(t.append(n),r&&(n.chars=r,n.lines=0,t.append(n),r=0)),n.opcode="")}return{append:function(e){e.chars>0&&(n.opcode===e.opcode&&n.attribs===e.attribs?e.lines>0?(n.chars+=r+e.chars,n.lines+=e.lines,r=0):0===n.lines?n.chars+=e.chars:r+=e.chars:(i(),Sl(e,n)))},toString:function(){return i(),t.toString()},clear:function(){t.clear(),Ml(n)},endDocument:function(){i(!0)}}}function jl(){return function(){var e=[];function t(){return e.join("")}return{append:function(t){e.push(String(t))},toString:t,toResult:t}}()}function Pl(){var e=_l(),t=_l(),n=_l(),r=jl(),i="",o=0;function a(){r.append(n.toString()),n.clear()}function l(){r.append(e.toString()),e.clear(),r.append(t.toString()),t.clear()}function s(r){r.opcode&&r.chars&&("-"===r.opcode?("="===i&&a(),e.append(r),o-=r.chars):"+"===r.opcode?("="===i&&a(),t.append(r),o+=r.chars):"="===r.opcode&&("="!==i&&l(),n.append(r)),i=r.opcode)}return{append:s,toString:function(){return l(),a(),r.toString()},clear:function(){e.clear(),t.clear(),n.clear(),o=0},endDocument:function(){n.endDocument()},appendOpWithText:function(e,t,n,r){var i=xl(e);i.attribs=Rl(e,n,r);var o=t.lastIndexOf("\n");o<0?(i.chars=t.length,i.lines=0,s(i)):(i.chars=o+1,i.lines=t.match(/\n/g).length,s(i),i.chars=t.length-(o+1),i.lines=0,s(i))},getLengthChange:function(){return o}}}var Bl=function(e){return"string"==typeof e?function(e){var t=0,n=e.split("\n").length-1;function r(e){kl(e<=i(),"!(n <= remaining())",!1,{n:e,remaining:i()})}function i(){return e.length-t}return{take:function(i){r(i);var o=e.substr(t,i);return n-=o.split("\n").length-1,t+=i,o},skip:function(e){r(e),t+=e},remaining:i,peek:function(n){return r(n),e.substr(t,n)},newlines:function(){return n}}}(e):function(e){function t(e){Al(e<=r(),"!(n <= remaining())",!1,{n:e,remaining:r()})}var n=0;function r(){return e.length-n}return{take:function(r){t(r);var i=e.slice(n,n+r);return n+=r,i},skip:function(e){t(e),n+=e},remaining:r,peek:function(r){return t(r),e.slice(n,n+r)}}}(e)};function Fl(e,t,n,r){var i,o;if(!e&&n)return t;if(!t)return e;var a=[];e.replace(/\*([0-9a-z]+)/g,(function(e,t){return a.push(r.getAttrib(Dl(t))),""})),t.replace(/\*([0-9a-z]+)/g,(function(e,t){for(var i=r.getAttrib(Dl(t)),o=!1,l=0;l<a.length;l++){var s=a[l];if(s[0]===i[0]){i[1]||n?s[1]=i[1]:a.splice(l,1),o=!0;break}}return o||!i[1]&&!n||a.push(i),""})),a.sort();var l=jl();try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),u=s.next();!u.done;u=s.next()){var c=u.value;l.append("*"),l.append(Ll(r.putAttrib(c)))}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return l.toString()}function Hl(e){return kl(e,"itemType should be defined"),"Z"===e?jl():function(){var e=[];function t(){return e}return{append:function(t){e=e.concat(t)},toList:t,toResult:t}}()}function Zl(e){return function(e){for(var t={},n=0;n<e.length;){var r=/^(Z|ZR|ZC)([0-9a-z]*):([0-9a-z]+)([><])([0-9a-z]+)|/.exec(e.substring(n));if(!r||!r[0])throw new Cl("Changeset: Not a changeset: "+e+" at position "+n);var i=r[1].charAt(r[1].length-1),o=""===r[2]?"0":r[2];if(o in t){for(var a in t)t.hasOwnProperty(a)&&"Z"===t[a].itemType&&(t[a].charBank="obfuscated "+t[a].charBank.length);kl(!1,"zoneIds should be unique",!1,{zoneId:o,cssObj:JSON.stringify(t)})}"0"===o&&kl("Z"===i,"itemType must be Z");var l=Dl(r[3]),s=l+(">"===r[4]?1:-1)*Dl(r[5]),u=n+r[0].length,c=e.indexOf("$",n),d=e.indexOf("#",n),f=d>=0&&c>=0&&d<c,h=e.length;c>=0&&(h=c),f&&(h=d);var p=c>=0?c+1:e.length,g=f?p+Dl(e.substring(d+1,c)):e.length;t[o]={itemType:i,oldLen:l,newLen:s,ops:e.substring(u,h),charBank:e.substring(p,g)},"Z"!==i&&(kl(-1===t[o].ops.indexOf("|"),"ops must has |"),t[o].charBank=""===t[o].charBank?[]:t[o].charBank.split("|")),n=g}return t}(e)}function Wl(e){for(var t="",n=Object.keys(e).sort(),r=0;r<n.length;r++){var i=n[r];if(Al("string"==typeof i,"pack: zoneId must be string"),Al(""!==i,"pack: zoneId cannot be empty string"),0!==r&&n[r]===n[r-1]){for(var o in e)e.hasOwnProperty(o)&&"Z"===e[o].itemType&&(e[o].charBank="obfuscated "+e[o].charBank.length);Al(!1,"pack: zoneIds must be distinct zoneIds",!1,{zoneIds:n,csMap:JSON.stringify(e)})}var a=e[i];!function(e,n,r,i,o,a,l){Al("Z"===e||"R"===e||"C"===e,"itemType error"),"Z"!==e&&(o=o.join("|")),"Z"!==e&&Al(-1===i.indexOf("|"),"ops |");var s=r-n,u=s>=0?">"+Ll(s):"<"+Ll(-s);t+=("Z"!==e?"Z":"")+e+("0"===l?"":l)+":"+Ll(n)+u+i,a||(t+="#"+Ll(o.length)),t+="$"+o}(a.itemType,a.oldLen,a.newLen,a.ops,a.charBank,r===n.length-1,i)}return t}function Ul(e,t,n){void 0===t&&(t="Z"),void 0===n&&(n="0"),t=t||"Z";var r=Pl(),i=xl(),o=Hl(t),a={keepOverOp:function(e){a.keep(e.chars,e.lines)},keepOverOpWithNewAttributes:function(e,t,n){a.keep(e.chars,e.lines,t,n)},keepOverOpWithoutAttribute:function(e,t,n){a.keep(e.chars,e.lines,[[t,""]],n)},keep:function(e,t,n,o){return i.opcode="=",i.attribs=n&&Rl("=",n,o)||"",i.chars=e,i.lines=t||0,r.append(i),a},keepText:function(e,t,n){return r.appendOpWithText("=",e,t,n),a},insert:function(e,n,i){return"Z"===t?r.appendOpWithText("+",e,n,i):r.append({opcode:"+",chars:e.length,attribs:n,lines:0}),o.append(e),a},remove:function(e,t){return i.opcode="-",i.attribs="",i.chars=e,i.lines=t||0,r.append(i),a},removeText:function(e){r.appendOpWithText("-",e)},insertAText:function(e){if("\n"!==e.text.charAt(e.text.length-1))throw new Cl("insertAText: text must end in newline");return function(e,t){for(var n=Nl(e.attribs),r=xl();n.hasNext();)if(n.next(r),n.hasNext())t.append(r);else if(r.lines<=1)r.lines=0,r.chars--,r.chars&&t.append(r);else{var i=e.text.lastIndexOf("\n",e.text.length-2)+1,o=e.text.length-i-1;r.lines--,r.chars-=o+1,t.append(r),r.lines=0,r.chars=o,r.chars&&t.append(r)}}(e,r),o.append(e.text.slice(0,-1)),a},toChangeset:function(){if(!n)throw new Cl("Changeset: zoneId should be non-trivial");var e={};return e[n]=a.toUnpacked(),Wl(e)},toString:function(){if(!n)throw new Cl("Changeset: zoneId should be non-trivial");var e={};return e[n]=a.toUnpacked(),Wl(e)},toUnpacked:function(){r.endDocument();var n=e+r.getLengthChange();return{itemType:t,oldLen:e,newLen:n,ops:r.toString(),charBank:o.toResult()}}};return a}function Kl(e,t,n){return void 0===t&&(t="Z"),void 0===n&&(n="0"),Ul(e,t,n)}function Yl(e,t,n,r){function i(e,t,i){if(!t)return i;if(!i)return t;var o=t.oldLen;kl(t.newLen===i.oldLen,"mismatched composition");var a=i.newLen,l=Bl(t.charBank),s=Bl(i.charBank),u=Hl(t.itemType),c=function(e,t,n,r,i){for(var o=Nl(e,t),a=Nl(n,r),l=Pl(),s=xl(),u=xl(),c=xl();s.opcode||o.hasNext()||u.opcode||a.hasNext();)!s.opcode&&o.hasNext()&&o.next(s),!u.opcode&&a.hasNext()&&a.next(u),i(s,u,c),c.opcode&&(l.append(c),c.opcode="");return l.endDocument(),l.toString()}(t.ops,0,i.ops,0,(function(e,t,i){var o=e.opcode,a=t.opcode;"+"===o&&"-"===a&&l.skip(Math.min(e.chars,t.chars)),function(e,t,n,r,i){if(void 0===i&&(i=!1),"-"===e.opcode)Sl(e,n),e.opcode="";else if(e.opcode)switch(t.opcode){case"-":t.chars<=e.chars?("="===e.opcode&&(n.opcode="-",n.chars=t.chars,n.lines=t.lines,n.attribs=i?t.attribs:""),e.chars-=t.chars,e.lines-=t.lines,t.opcode="",e.chars||(e.opcode="")):("="===e.opcode&&(n.opcode="-",n.chars=e.chars,n.lines=e.lines,n.attribs=i?t.attribs:""),t.chars-=e.chars,t.lines-=e.lines,e.opcode="");break;case"+":Sl(t,n),t.opcode="";break;case"=":t.chars<=e.chars?(n.opcode=e.opcode,n.chars=t.chars,n.lines=t.lines,n.attribs=Fl(e.attribs,t.attribs,"="===e.opcode,r),t.opcode="",e.chars-=t.chars,e.lines-=t.lines,e.chars||(e.opcode="")):(n.opcode=e.opcode,n.chars=e.chars,n.lines=e.lines,n.attribs=Fl(e.attribs,t.attribs,"="===e.opcode,r),e.opcode="",t.chars-=e.chars,t.lines-=e.lines);break;case"":Sl(e,n),e.opcode=""}else Sl(t,n),t.opcode=""}(e,t,i,n,r),"+"===i.opcode&&("+"===a?u.append(s.take(i.chars)):u.append(l.take(i.chars)))})),d=u.toResult();return{itemType:t.itemType,oldLen:o,newLen:a,ops:c,charBank:d}}void 0===r&&(r=!1);var o,a={};for(var l in e)e.hasOwnProperty(l)&&(t[l]&&kl(e[l].itemType===t[l].itemType,"cs1 and cs2 itemType error"),null!==(o=i(0,e[l],t[l]||null))&&(a[l]=o));for(var l in t)t.hasOwnProperty(l)&&(l in e||null!==(o=i(0,null,t[l]))&&(a[l]=o));return a}function Gl(e,t,n,r){return void 0===r&&(r=!1),function(e,t,n,r){void 0===r&&(r=!1);return Wl(Yl(Zl(e),Zl(t),n,r))}(e,t,n,r)}var Vl=El,Ql="clientside-";function Xl(e,t,n){e.forEach((function(e){e.attributes&&Object.entries(e.attributes).forEach((function(e){(null==n?void 0:n.filterLocalAttributes)&&e[0].startsWith(Ql)||t.putAttrib(e)}))}))}function ql(e){if(e){var t={};return Object.keys(e).forEach((function(n){n.startsWith(Ql)||(t[n]=e[n])})),t}}var Jl=function(){function e(e,t,n,r,i){void 0===n&&(n="\n"),this.zoneId=e,this.repText=n,this.apool=r,this.options=i,this.pointer=0,this.builder=this.createBuilder(),this.zoneType=t.zoneType||M.Content,this.zoneId=t.zoneId||"0",this.deltaOps=t.ops,Xl(this.deltaOps,r,i)}var t=e.prototype;return t.getChangeset=function(){var e;if(this.pointer=0,this.deltaOps){var t=this.deltaOps.length;if(this.builder){for(var n=0;n<t;n++){var r=this.deltaOps[n],i=q(r);if(!i)return;var o=r.attributes;(null===(e=this.options)||void 0===e?void 0:e.filterLocalAttributes)&&(o=ql(r.attributes)),this.opTransform(i,r[i],o)}return this.builder.toString()}}},t.createBuilder=function(){return Kl(this.repText.length,this.zoneType,this.zoneId)},t.opTransform=function(e,t,n){switch(e){case x.INSERT:this.insert(t,n);break;case x.RETAIN:this.retain(t,n);break;case x.DELETE:this.delete(t)}},t.insert=function(e,t){void 0===t&&(t={});var n=Object.entries(t);this.builder.insert(e,n,this.apool)},t.retain=function(e,t){void 0===t&&(t={});var n=Object.entries(t),r=this.repText.slice(this.pointer,this.pointer+e);if(r.length!==e)throw new Error("The content of the operation does not exist");var i=r.match(/\n/g),o=i&&i.length,a=r.lastIndexOf("\n");if(a>-1&&a!==r.length-1){var l=e-a-1;this.builder.keep(e-l,o,n,this.apool),this.builder.keep(l,0,n,this.apool)}else this.builder.keep(e,o,n,this.apool);this.pointer+=e},t.delete=function(e){var t=this.repText.slice(this.pointer,this.pointer+e);if(t.length!==e)throw new Error("The deleted content does not exist");var n=t.match(/\n/g),r=n&&n.length,i=t.lastIndexOf("\n");if(i>-1&&i!==t.length-1){var o=e-i-1;this.builder.remove(e-o,r||0),this.builder.remove(o,0)}else this.builder.remove(e,r||0);this.pointer+=e},e}(),$l=function(){function e(e,t,n,r,i){this.zoneId=e,this.delta=t,this.apool=n,this.vectorIds=r,this.options=i,this.charBank=[],this.isForRow=ue(e),this.zoneObj={},this.oldLen=this.vectorIds.length,this.assembler=Pl(),this.pointer=this.oldLen,Xl(t.ops,n,i)}var t=e.prototype;return t.getChangeset=function(){for(var e,t=this.delta.ops.length,n=0;n<t;n++){var r=this.delta.ops[n],i=q(r);if(!i)return;var o=r[i].id||r[i],a=r.attributes;(null===(e=this.options)||void 0===e?void 0:e.filterLocalAttributes)&&(a=ql(r.attributes)),this.opTransform(i,o,a)}return this.toChangeset()},t.opTransform=function(e,t,n){switch(e){case x.INSERT:this.insert(t,n);break;case x.RETAIN:this.retain(t,n);break;case x.DELETE:this.delete(t)}},t.insert=function(e,t){void 0===t&&(t={});var n=Rl("=",Object.entries(t),this.apool);this.charBank.push(e),this.pointer+=1,this.append(n)},t.append=function(e){this.assembler.append({opcode:"+",attribs:e,lines:0,chars:1})},t.delete=function(e){this.assembler.append({opcode:"-",attribs:"",lines:0,chars:e}),this.pointer-=e},t.retain=function(e,t){void 0===t&&(t={});var n=Rl("=",Object.entries(t),this.apool);this.assembler.append({opcode:"=",attribs:n,lines:0,chars:e})},t.toChangeset=function(){return this.zoneObj[this.zoneId]={itemType:this.isForRow?M.Row:M.Column,oldLen:this.oldLen,newLen:this.pointer,ops:this.assembler.toString(),charBank:this.charBank},Wl(this.zoneObj)},e}();function es(e,t,n,r){for(var i,o=ue(e)||0===(i=e).indexOf(se)&&34===i.length,a=o?O[e.substr(0,2)]:O.content,l=[],s=null,u=Nl(t),c=0,d=function(){var e=u.next(),t={},i=e.attribs,o=e.chars,a=e.opcode;if(i&&Ol(i,(function(e){t[r.getAttribKey(e)]=r.getAttribValue(e)})),"+"===a)if(Array.isArray(n))n.slice(c,c+o).forEach((function(e){var n={insert:{id:e}};Object.keys(t).length&&(n.attributes=t),l.push(n),c+=1}));else{var d=n.substr(c,o),f={insert:d};Object.keys(t).length&&(f.attributes=t),s&&f.attributes&&function(e,t){if(e&&t){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return e[n]===t[n]}))}return e===t}(f.attributes,s.attributes)?s.insert+=f.insert:(l.push(f),s=f),c+=d.length}};u.hasNext();)d();return o?new Mt({zoneId:e,zoneType:a,ops:l}):new ae({zoneId:e,ops:l})}function ts(e){return void 0!==e.putAttrib?e:(new Vl).fromJsonable(e)}var ns=function(){function e(e){this.props=e,this.zoneCs=[];var t=this.props,n=t.deltaSet,r=t.apool,i=t.texts,o=t.vectorReps;this.deltaSet=n,this.apool=ts(r),this.texts=i,this.vectorReps=o}var t=e.prototype;return t.parseDeltaSet=function(){for(var e,t=Object.keys(this.deltaSet.deltas),n=Object.values(this.deltaSet.deltas),r=0;r<t.length;r++){var i=t[r],o=n[r].zoneType,a=n[r],l=void 0;if(o===M.Content){var s=this.texts&&this.texts[i];l=new Jl(i,a,s,this.apool,this.props.options)}else{var u=(null===(e=this.vectorReps)||void 0===e?void 0:e[i])||[];l=new $l(i,a,this.apool,u,this.props.options)}this.zoneCs.push(l.getChangeset())}},t.toChangeset=function(){var e=this;return this.deltaSet?(this.parseDeltaSet(),this.zoneCs.length?this.zoneCs.reduce((function(t,n){return Gl(t,n,e.apool)})):""):""},e}();function rs(e,t){for(var n,r,i,o,a,l,s,u,c={},d=0,f=new Set,h=Object.keys(e.deltas),p=Object.values(e.deltas),g=0;g<h.length;g++){var v=p[g];try{for(var m=(n=void 0,bl(v.ops)),b=m.next();!b.done;b=m.next()){var y=b.value;if(y.attributes)try{for(var w=(i=void 0,bl(Object.entries(y.attributes))),I=w.next();!I.done;I=w.next()){var C=yl(I.value,2),k=C[0],E=C[1];if(!(null==t?void 0:t.filterLocalAttributes)||!k.startsWith(Ql)){var x=k+","+E;f.has(x)||(f.add(x),c[d++]=[k,E])}}}catch(e){i={error:e}}finally{try{I&&!I.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{b&&!b.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}}var M={numToAttrib:c,nextNum:d},S=Zl(new ns({deltaSet:e,apool:M,options:t}).toChangeset()),T={cols:{},rows:{},text:{},attribs:{}};try{for(var A=bl(Object.entries(S)),N=A.next();!N.done;N=A.next()){var L=yl(N.value,2),D=L[0],z=L[1];switch(z.itemType){case"Z":T.text[D]=z.charBank;break;case"C":T.cols[D]=z.charBank;break;case"R":T.rows[D]=z.charBank}T.attribs[D]=z.ops}}catch(e){a={error:e}}finally{try{N&&!N.done&&(l=A.return)&&l.call(A)}finally{if(a)throw a.error}}var O={initialAttributedTexts:T,apool:M};return(null==t?void 0:t.filterInitialAttributedText)?(delete T.rows,delete T.cols):O.initialAttributedText={attribs:null!==(s=T.attribs[0])&&void 0!==s?s:{},text:null!==(u=T.text[0])&&void 0!==u?u:{}},O}var is=function(e,t){return(is=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function os(e,t){function n(){this.constructor=e}is(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var as=function(){return(as=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ls(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function ss(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function us(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))}function cs(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function ds(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fs(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function hs(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fs(arguments[t]));return e}const ps=Array.isArray;const gs="object"==typeof global&&global&&global.Object===Object&&global;var vs="object"==typeof self&&self&&self.Object===Object&&self;const ms=gs||vs||Function("return this")();const bs=ms.Symbol;var ys=Object.prototype,ws=ys.hasOwnProperty,Is=ys.toString,Cs=bs?bs.toStringTag:void 0;const ks=function(e){var t=ws.call(e,Cs),n=e[Cs];try{e[Cs]=void 0;var r=!0}catch(e){}var i=Is.call(e);return r&&(t?e[Cs]=n:delete e[Cs]),i};var Es=Object.prototype.toString;const xs=function(e){return Es.call(e)};var Ms=bs?bs.toStringTag:void 0;const Ss=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ms&&Ms in Object(e)?ks(e):xs(e)};const Ts=function(e){return null!=e&&"object"==typeof e};const As=function(e){return"symbol"==typeof e||Ts(e)&&"[object Symbol]"==Ss(e)};var Ns=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ls=/^\w*$/;const Ds=function(e,t){if(ps(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!As(e))||(Ls.test(e)||!Ns.test(e)||null!=t&&e in Object(t))};const zs=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const Os=function(e){if(!zs(e))return!1;var t=Ss(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const Rs=ms["__core-js_shared__"];var _s,js=(_s=/[^.]+$/.exec(Rs&&Rs.keys&&Rs.keys.IE_PROTO||""))?"Symbol(src)_1."+_s:"";const Ps=function(e){return!!js&&js in e};var Bs=Function.prototype.toString;const Fs=function(e){if(null!=e){try{return Bs.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var Hs=/^\[object .+?Constructor\]$/,Zs=Function.prototype,Ws=Object.prototype,Us=Zs.toString,Ks=Ws.hasOwnProperty,Ys=RegExp("^"+Us.call(Ks).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Gs=function(e){return!(!zs(e)||Ps(e))&&(Os(e)?Ys:Hs).test(Fs(e))};const Vs=function(e,t){return null==e?void 0:e[t]};const Qs=function(e,t){var n=Vs(e,t);return Gs(n)?n:void 0};const Xs=Qs(Object,"create");const qs=function(){this.__data__=Xs?Xs(null):{},this.size=0};const Js=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var $s=Object.prototype.hasOwnProperty;const eu=function(e){var t=this.__data__;if(Xs){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return $s.call(t,e)?t[e]:void 0};var tu=Object.prototype.hasOwnProperty;const nu=function(e){var t=this.__data__;return Xs?void 0!==t[e]:tu.call(t,e)};const ru=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xs&&void 0===t?"__lodash_hash_undefined__":t,this};function iu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}iu.prototype.clear=qs,iu.prototype.delete=Js,iu.prototype.get=eu,iu.prototype.has=nu,iu.prototype.set=ru;const ou=iu;const au=function(){this.__data__=[],this.size=0};const lu=function(e,t){return e===t||e!=e&&t!=t};const su=function(e,t){for(var n=e.length;n--;)if(lu(e[n][0],t))return n;return-1};var uu=Array.prototype.splice;const cu=function(e){var t=this.__data__,n=su(t,e);return!(n<0)&&(n==t.length-1?t.pop():uu.call(t,n,1),--this.size,!0)};const du=function(e){var t=this.__data__,n=su(t,e);return n<0?void 0:t[n][1]};const fu=function(e){return su(this.__data__,e)>-1};const hu=function(e,t){var n=this.__data__,r=su(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function pu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pu.prototype.clear=au,pu.prototype.delete=cu,pu.prototype.get=du,pu.prototype.has=fu,pu.prototype.set=hu;const gu=pu;const vu=Qs(ms,"Map");const mu=function(){this.size=0,this.__data__={hash:new ou,map:new(vu||gu),string:new ou}};const bu=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const yu=function(e,t){var n=e.__data__;return bu(t)?n["string"==typeof t?"string":"hash"]:n.map};const wu=function(e){var t=yu(this,e).delete(e);return this.size-=t?1:0,t};const Iu=function(e){return yu(this,e).get(e)};const Cu=function(e){return yu(this,e).has(e)};const ku=function(e,t){var n=yu(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Eu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Eu.prototype.clear=mu,Eu.prototype.delete=wu,Eu.prototype.get=Iu,Eu.prototype.has=Cu,Eu.prototype.set=ku;const xu=Eu;function Mu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Mu.Cache||xu),n}Mu.Cache=xu;const Su=Mu;var Tu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Au=/\\(\\)?/g;const Nu=function(e){var t=Su(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Tu,(function(e,n,r,i){t.push(r?i.replace(Au,"$1"):n||e)})),t}));const Lu=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Du=bs?bs.prototype:void 0,zu=Du?Du.toString:void 0;const Ou=function e(t){if("string"==typeof t)return t;if(ps(t))return Lu(t,e)+"";if(As(t))return zu?zu.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};const Ru=function(e){return null==e?"":Ou(e)};const _u=function(e,t){return ps(e)?e:Ds(e,t)?[e]:Nu(Ru(e))};const ju=function(e){if("string"==typeof e||As(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};const Pu=function(e,t){for(var n=0,r=(t=_u(t,e)).length;null!=e&&n<r;)e=e[ju(t[n++])];return n&&n==r?e:void 0};const Bu=function(){try{var e=Qs(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const Fu=function(e,t,n){"__proto__"==t&&Bu?Bu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Hu=Object.prototype.hasOwnProperty;const Zu=function(e,t,n){var r=e[t];Hu.call(e,t)&&lu(r,n)&&(void 0!==n||t in e)||Fu(e,t,n)};var Wu=/^(?:0|[1-9]\d*)$/;const Uu=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Wu.test(e))&&e>-1&&e%1==0&&e<t};const Ku=function(e,t,n,r){if(!zs(e))return e;for(var i=-1,o=(t=_u(t,e)).length,a=o-1,l=e;null!=l&&++i<o;){var s=ju(t[i]),u=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=a){var c=l[s];void 0===(u=r?r(c,s,l):void 0)&&(u=zs(c)?c:Uu(t[i+1])?[]:{})}Zu(l,s,u),l=l[s]}return e};const Yu=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],l=Pu(e,a);n(l,a)&&Ku(o,_u(a,e),l)}return o};const Gu=function(e,t){return null!=e&&t in Object(e)};const Vu=function(e){return Ts(e)&&"[object Arguments]"==Ss(e)};var Qu=Object.prototype,Xu=Qu.hasOwnProperty,qu=Qu.propertyIsEnumerable;const Ju=Vu(function(){return arguments}())?Vu:function(e){return Ts(e)&&Xu.call(e,"callee")&&!qu.call(e,"callee")};const $u=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const ec=function(e,t,n){for(var r=-1,i=(t=_u(t,e)).length,o=!1;++r<i;){var a=ju(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&$u(i)&&Uu(a,i)&&(ps(e)||Ju(e))};const tc=function(e,t){return null!=e&&ec(e,t,Gu)};const nc=function(e,t){return Yu(e,t,(function(t,n){return tc(e,n)}))};const rc=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var ic=bs?bs.isConcatSpreadable:void 0;const oc=function(e){return ps(e)||Ju(e)||!!(ic&&e&&e[ic])};const ac=function e(t,n,r,i,o){var a=-1,l=t.length;for(r||(r=oc),o||(o=[]);++a<l;){var s=t[a];n>0&&r(s)?n>1?e(s,n-1,r,i,o):rc(o,s):i||(o[o.length]=s)}return o};const lc=function(e){return(null==e?0:e.length)?ac(e,1):[]};const sc=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var uc=Math.max;const cc=function(e,t,n){return t=uc(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=uc(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(a),sc(e,this,l)}};const dc=function(e){return function(){return e}};const fc=function(e){return e};const hc=Bu?function(e,t){return Bu(e,"toString",{configurable:!0,enumerable:!1,value:dc(t),writable:!0})}:fc;var pc=Date.now;const gc=function(e){var t=0,n=0;return function(){var r=pc(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const vc=gc(hc);const mc=function(e){return vc(cc(e,void 0,lc),e+"")};const bc=mc((function(e,t){return null==e?{}:nc(e,t)}));var yc=n(690),wc=n.n(yc),Ic=window.sessionStorage.getItem("__ENTER_FROM__"),Cc=window.User&&window.User.userAgent||navigator.userAgent||"",kc=wc().getParser(Cc),Ec={isFeishu:!1,isLark:!1,isLarkPcTab:!1,isLarkWindow:!1,isDocs:!1,isDocsSDK:!1,isAndroidSDK:!1,isIOSSDK:!1,isMobileSDK:!1,isFeed:!1,isIphoneX:!1,isIPad:!1,isMobile:!1,isMac:!1,isWindows:!1,isLinux:!1,isSafari:!1,isIE:!1,isSougou:!1,isIOS:!1,isAndroid:!1,isQQ:!1,isX5:!1,is360:!1,is360Fast:!1,isUc:!1,isBaiDu:!1,isLB:!1,oldIE:!1,modernIE:!1,kernel:"",isLarkTab:!1,isOldLarkTab:!1,isEdge:!1,isFF:!1,isChrome:!1,isWebKit:!1,isBytedanceApp:!1,isOpendoc:!1,isIPhoneSeries:function(){return!1},isIOSBelow12:function(){return!1},getChromeVersion:function(){return null},isPrimaryChrome:!1,isOpera:!1,is2345:!1,isMaxthon:!1,isTheWorld:!1,isH5:!1};if(Ec.isFeishu=/feishu/i.test(Cc),Ec.isLark=Ec.isFeishu||/lark/i.test(Cc),Ec.isLarkPcTab=Ec.isLark&&/TYPE\/PC_TAB/i.test(Cc),Ec.isLarkWindow=Ec.isLark&&"lark.window"===Ic,Ec.isDocs=/Docs/i.test(Cc),Ec.isDocsSDK=Ec.isLark&&Ec.isDocs,Ec.isAndroidSDK=/DocEditorSDk/i.test(Cc),Ec.isIOSSDK=/DocsSDK/i.test(Cc),Ec.isMobileSDK=Ec.isAndroidSDK||Ec.isIOSSDK,Ec.isFeed=/Feed/i.test(Cc)||/lark=1/.test(location.search)||/sourceType=feed/.test(location.search),Ec.isIphoneX=Sc("X")||!1,Ec.isIPad=/iPad/i.test(Cc),Ec.isMobile=kc.getPlatformType(!0).includes("mobile"),Ec.isMac=kc.getOSName(!0).includes("macos"),Ec.isWindows=kc.getOSName(!0).includes("windows"),Ec.isLinux=kc.getOSName(!0).includes("linux"),Ec.isSafari=kc.getBrowserName(!0).includes("safari"),Ec.isIE=kc.getBrowserName(!0).includes("internet explorer"),Ec.isIOS=!!Cc.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),Ec.isAndroid=Cc.indexOf("Android")>-1||Cc.indexOf("Adr")>-1,Ec.isQQ=/QQBrowser/i.test(Cc),Ec.isX5=/MQQBrowser/i.test(Cc),Ec.is360=/360SE/i.test(Cc),Ec.is360Fast=/360EE/i.test(Cc),Ec.isUc=/UBrowser/i.test(Cc),Ec.isBaiDu=/BIDUBrowser/i.test(Cc),Ec.is2345=/2345Explorer/i.test(Cc),Ec.isMaxthon=/Maxthon/i.test(Cc),Ec.isTheWorld=/TheWorld/i.test(Cc),Ec.isLB=/LBBROWSER/i.test(Cc),Ec.isEdge=/Edge/i.test(Cc),Ec.isFF=/Firefox/i.test(Cc),Ec.isOpera=/OPR/i.test(Cc),Ec.isWebKit=/AppleWebKit/i.test(Cc),Ec.isChrome=kc.getBrowserName(!0).includes("chrome"),Ec.isPrimaryChrome=Ec.isChrome&&!Ec.isOpera&&!Ec.isLB&&!Ec.isUc&&!Ec.isBaiDu&&!Ec.is360&&!Ec.is360Fast&&!Ec.isQQ&&!Ec.isSougou&&!Ec.isEdge&&!Ec.is2345&&!Ec.isTheWorld&&!Ec.isMaxthon,Ec.isOpendoc=/opendoc=(true|1)/.test((location.search||"").toLowerCase())||/^\/component\//.test(location.pathname||""),Ec.isIE){var xc=parseInt(String(kc.getBrowserVersion()),10);Ec.oldIE=xc<11,Ec.modernIE=xc>=11}Ec.kernel=["msie","webkit","blink","gecko","msedge","tablet","mobile"].find((function(e){return kc.getEngineName().toLowerCase().includes(e)})),Ec.isLarkTab=/from\/(old_)?lark_tab/i.test(Cc),Ec.isOldLarkTab=/from\/old_lark_tab/i.test(Cc);var Mc=Ec.isLark||Ec.isDocs;function Sc(e){var t=new RegExp("(iPhone\\s"+e+")");return!!navigator.userAgent.match(t)}Ec.isBytedanceApp=Mc,Ec.isIPhoneSeries=Sc,Ec.isIOSBelow12=function(){var e=function(){if(function(){var e=navigator.userAgent;return e.indexOf("iPhone")>0||e.indexOf("iPad")>0||e.indexOf("iPhone")>0}()){var e=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return e?{major:+e[1],minor:+e[2]}:null}return null}();return!!e&&e.major<12},Ec.getChromeVersion=function(){var e=navigator.userAgent.match(/Chrome\/([\d.]+)/i);return e&&e[1]?e[1]:null},Ec.isH5=Ec.isMobile&&!Ec.isBytedanceApp||Ec.isOpendoc&&Ec.isMobile;const Tc=Ec;var Ac=n(523),Nc=n(291),Lc=n.n(Nc);const Dc=function(){this.__data__=new gu,this.size=0};const zc=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const Oc=function(e){return this.__data__.get(e)};const Rc=function(e){return this.__data__.has(e)};const _c=function(e,t){var n=this.__data__;if(n instanceof gu){var r=n.__data__;if(!vu||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new xu(r)}return n.set(e,t),this.size=n.size,this};function jc(e){var t=this.__data__=new gu(e);this.size=t.size}jc.prototype.clear=Dc,jc.prototype.delete=zc,jc.prototype.get=Oc,jc.prototype.has=Rc,jc.prototype.set=_c;const Pc=jc;const Bc=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const Fc=function(e){return this.__data__.has(e)};function Hc(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new xu;++t<n;)this.add(e[t])}Hc.prototype.add=Hc.prototype.push=Bc,Hc.prototype.has=Fc;const Zc=Hc;const Wc=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const Uc=function(e,t){return e.has(t)};const Kc=function(e,t,n,r,i,o){var a=1&n,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=2&n?new Zc:void 0;for(o.set(e,t),o.set(t,e);++d<l;){var p=e[d],g=t[d];if(r)var v=a?r(g,p,d,t,e,o):r(p,g,d,e,t,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!Wc(t,(function(e,t){if(!Uc(h,t)&&(p===e||i(p,e,n,r,o)))return h.push(t)}))){f=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f};const Yc=ms.Uint8Array;const Gc=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const Vc=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var Qc=bs?bs.prototype:void 0,Xc=Qc?Qc.valueOf:void 0;const qc=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Yc(e),new Yc(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return lu(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Gc;case"[object Set]":var s=1&r;if(l||(l=Vc),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=Kc(l(e),l(t),r,i,o,a);return a.delete(e),c;case"[object Symbol]":if(Xc)return Xc.call(e)==Xc.call(t)}return!1};const Jc=function(e,t,n){var r=t(e);return ps(e)?r:rc(r,n(e))};const $c=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};const ed=function(){return[]};var td=Object.prototype.propertyIsEnumerable,nd=Object.getOwnPropertySymbols;const rd=nd?function(e){return null==e?[]:(e=Object(e),$c(nd(e),(function(t){return td.call(e,t)})))}:ed;const id=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const od=function(){return!1};var ad="object"==typeof exports&&exports&&!exports.nodeType&&exports,ld=ad&&"object"==typeof module&&module&&!module.nodeType&&module,sd=ld&&ld.exports===ad?ms.Buffer:void 0;const ud=(sd?sd.isBuffer:void 0)||od;var cd={};cd["[object Float32Array]"]=cd["[object Float64Array]"]=cd["[object Int8Array]"]=cd["[object Int16Array]"]=cd["[object Int32Array]"]=cd["[object Uint8Array]"]=cd["[object Uint8ClampedArray]"]=cd["[object Uint16Array]"]=cd["[object Uint32Array]"]=!0,cd["[object Arguments]"]=cd["[object Array]"]=cd["[object ArrayBuffer]"]=cd["[object Boolean]"]=cd["[object DataView]"]=cd["[object Date]"]=cd["[object Error]"]=cd["[object Function]"]=cd["[object Map]"]=cd["[object Number]"]=cd["[object Object]"]=cd["[object RegExp]"]=cd["[object Set]"]=cd["[object String]"]=cd["[object WeakMap]"]=!1;const dd=function(e){return Ts(e)&&$u(e.length)&&!!cd[Ss(e)]};const fd=function(e){return function(t){return e(t)}};var hd="object"==typeof exports&&exports&&!exports.nodeType&&exports,pd=hd&&"object"==typeof module&&module&&!module.nodeType&&module,gd=pd&&pd.exports===hd&&gs.process;const vd=function(){try{var e=pd&&pd.require&&pd.require("util").types;return e||gd&&gd.binding&&gd.binding("util")}catch(e){}}();var md=vd&&vd.isTypedArray;const bd=md?fd(md):dd;var yd=Object.prototype.hasOwnProperty;const wd=function(e,t){var n=ps(e),r=!n&&Ju(e),i=!n&&!r&&ud(e),o=!n&&!r&&!i&&bd(e),a=n||r||i||o,l=a?id(e.length,String):[],s=l.length;for(var u in e)!t&&!yd.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Uu(u,s))||l.push(u);return l};var Id=Object.prototype;const Cd=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Id)};const kd=function(e,t){return function(n){return e(t(n))}};const Ed=kd(Object.keys,Object);var xd=Object.prototype.hasOwnProperty;const Md=function(e){if(!Cd(e))return Ed(e);var t=[];for(var n in Object(e))xd.call(e,n)&&"constructor"!=n&&t.push(n);return t};const Sd=function(e){return null!=e&&$u(e.length)&&!Os(e)};const Td=function(e){return Sd(e)?wd(e):Md(e)};const Ad=function(e){return Jc(e,Td,rd)};var Nd=Object.prototype.hasOwnProperty;const Ld=function(e,t,n,r,i,o){var a=1&n,l=Ad(e),s=l.length;if(s!=Ad(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:Nd.call(t,c)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var h=!0;o.set(e,t),o.set(t,e);for(var p=a;++u<s;){var g=e[c=l[u]],v=t[c];if(r)var m=a?r(v,g,c,t,e,o):r(g,v,c,e,t,o);if(!(void 0===m?g===v||i(g,v,n,r,o):m)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(h=!1)}return o.delete(e),o.delete(t),h};const Dd=Qs(ms,"DataView");const zd=Qs(ms,"Promise");const Od=Qs(ms,"Set");const Rd=Qs(ms,"WeakMap");var _d="[object Map]",jd="[object Promise]",Pd="[object Set]",Bd="[object WeakMap]",Fd="[object DataView]",Hd=Fs(Dd),Zd=Fs(vu),Wd=Fs(zd),Ud=Fs(Od),Kd=Fs(Rd),Yd=Ss;(Dd&&Yd(new Dd(new ArrayBuffer(1)))!=Fd||vu&&Yd(new vu)!=_d||zd&&Yd(zd.resolve())!=jd||Od&&Yd(new Od)!=Pd||Rd&&Yd(new Rd)!=Bd)&&(Yd=function(e){var t=Ss(e),n="[object Object]"==t?e.constructor:void 0,r=n?Fs(n):"";if(r)switch(r){case Hd:return Fd;case Zd:return _d;case Wd:return jd;case Ud:return Pd;case Kd:return Bd}return t});const Gd=Yd;var Vd="[object Arguments]",Qd="[object Array]",Xd="[object Object]",qd=Object.prototype.hasOwnProperty;const Jd=function(e,t,n,r,i,o){var a=ps(e),l=ps(t),s=a?Qd:Gd(e),u=l?Qd:Gd(t),c=(s=s==Vd?Xd:s)==Xd,d=(u=u==Vd?Xd:u)==Xd,f=s==u;if(f&&ud(e)){if(!ud(t))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new Pc),a||bd(e)?Kc(e,t,n,r,i,o):qc(e,t,s,n,r,i,o);if(!(1&n)){var h=c&&qd.call(e,"__wrapped__"),p=d&&qd.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,v=p?t.value():t;return o||(o=new Pc),i(g,v,n,r,o)}}return!!f&&(o||(o=new Pc),Ld(e,t,n,r,i,o))};const $d=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Ts(t)&&!Ts(n)?t!=t&&n!=n:Jd(t,n,r,i,e,o))};const ef=function(e,t){return $d(e,t)};const tf=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};const nf=function(e){return e!=e};const rf=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};const of=function(e,t,n){return t==t?rf(e,t,n):tf(e,nf,n)};const af=function(e,t){return!!(null==e?0:e.length)&&of(e,t,0)>-1};const lf=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var sf=Math.min;const uf=function(e,t,n){for(var r=n?lf:af,i=e[0].length,o=e.length,a=o,l=Array(o),s=1/0,u=[];a--;){var c=e[a];a&&t&&(c=Lu(c,fd(t))),s=sf(c.length,s),l[a]=!n&&(t||i>=120&&c.length>=120)?new Zc(a&&c):void 0}c=e[0];var d=-1,f=l[0];e:for(;++d<i&&u.length<s;){var h=c[d],p=t?t(h):h;if(h=n||0!==h?h:0,!(f?Uc(f,p):r(u,p,n))){for(a=o;--a;){var g=l[a];if(!(g?Uc(g,p):r(e[a],p,n)))continue e}f&&f.push(p),u.push(h)}}return u};const cf=function(e,t){return vc(cc(e,t,fc),e+"")};const df=function(e){return Ts(e)&&Sd(e)};const ff=function(e){return df(e)?e:[]};const hf=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const pf=cf((function(e){var t=hf(e),n=Lu(e,ff);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?uf(n,void 0,t):[]}));var gf,vf;!function(e){e.INDENT_LEFT="indentLeft",e.INDENT_RIGHT="indentRight"}(gf||(gf={})),function(e){e[e.BackSpace=8]="BackSpace",e[e.Tab=9]="Tab",e[e.Clear=12]="Clear",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit9=57]="Digit9",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.Meta=91]="Meta",e[e.RightMeta=92]="RightMeta",e[e.Caret=94]="Caret",e[e.Numpad0=96]="Numpad0",e[e.Numpad9=105]="Numpad9",e[e.NumpadDot=110]="NumpadDot",e[e.F6=117]="F6",e[e.F11=122]="F11",e[e.Semicolon=186]="Semicolon",e[e.Plus=187]="Plus",e[e.Minus=189]="Minus",e[e.Dot=190]="Dot",e[e.Grave=192]="Grave",e[e.Bracket=219]="Bracket",e[e.Quot=222]="Quot",e[e.Asterisk=106]="Asterisk",e[e.Slash=111]="Slash",e[e["/"]=191]="/",e[e["\\"]=220]="\\",e[e.Ime=229]="Ime"}(vf||(vf={}));vf.Up,vf.Down,vf.Left,vf.Right,vf.C,vf.V,vf.X;function mf(e){return Tc.isMac||Tc.isSafari?e.metaKey&&!e.altKey:e.ctrlKey&&!e.altKey}var bf,yf=function(e,t,n){for(var r,i,o,a=e.selection.getSelection(),l=a.start,s=a.end,u=Math.min(l.line,s.line),c=Math.max(l.line,s.line),d=u;d<=c;d++){var f=e.getContentState().getLineAttributes(l.zoneId,d).toMap();if(f.list){if(f.list.includes(t)){var h=f.list,p=parseInt(h.split(t)[1]);n?p<15&&e.getContentState().setLineAttributes(l.zoneId,d,((r={}).list=""+t+ ++p,r)):1===p?e.getContentState().setLineAttributes(l.zoneId,d,((i={}).list="",i)):e.getContentState().setLineAttributes(l.zoneId,d,((o={}).list=""+t+--p,o))}}else f["text-indent"]&&"indent"===t?n?e.getContentState().setLineAttributes(l.zoneId,d,{list:"indent1"}):e.getContentState().setLineAttributes(l.zoneId,d,{"text-indent":""}):"indent"===t&&n&&e.getContentState().setLineAttributes(l.zoneId,d,{"text-indent":"true"})}},wf=/(?:^| )ol-id([0-9a-zA-Z]+)/,If=/^[0-9a-zA-Z]+$/,Cf=/(number)([0-9]+)/,kf=/([a-z]+)([0-9]+)/;!function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"}(bf||(bf={}));var Ef=["lang","start","origin-start","ol-id","text-indent"],xf=["bold","italic","underline","strikethrough","fontsize","fontcolor","fontfamily","fontweight","backgroundcolor"].map((function(e){return"list-"+e}));function Mf(e){var t={};return function(n){var r=t[n];return null==r&&(r=t[n]=e(n)),r}}var Sf=Mf((function(e){return e<1?"":function(e){for(var t="";e>=0;)t=String.fromCharCode(e%26+65)+t,e=Math.floor(e/26)-1;return t}(e-1).toLowerCase()})),Tf=Mf((function(e){var t,n;if(e<1)return"";if(e>1e4)return String(e);var r={m:1e3,cm:900,d:500,cd:400,c:100,xc:90,l:50,xl:40,x:10,ix:9,v:5,iv:4,i:1},i="";try{for(var o=ds(Object.keys(r)),a=o.next();!a.done;a=o.next())for(var l=a.value;e>=r[l];)i+=l,e-=r[l]}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}));function Af(){return zt(8)}var Nf,Lf="bullet",Df="number";!function(e){e[e.BULLET=0]="BULLET",e[e.ORDER=1]="ORDER",e[e.INDENT=2]="INDENT"}(Nf||(Nf={}));var zf=function(e){function t(n){var r=e.call(this)||this;return r.name="List",r.pasteLineNum=-1,r.willRenumberArr=[],r.needRenumberList=!1,r.olIdMap={},r.deserializeOlID="",r.serializeOlID="",r.prevListType=-1,r.prefixAttributes=xf,r.relativeAttrKeys=Ef.concat(xf),r.handleDeleteKey=function(e){var t=e.isBackward,n=r.editor.selection.getSelection(),i=n.start,o=r.editor.getContentState().getActiveZone().getLine(i.line);if(o){var a=o.getLineAttributes().toMap();t&&n.isCollapsed()&&a.list&&n.start.offset===o.getLineMarker()&&(r.handleEditorWillDoDeleteKey(),e.stopEvent(),e.preventEvent(),e.e.preventDefault())}},r.handleWillDeleteFromCut=function(e){var t,n=r.editor,i=n.selection.getSelection(),o=i.start,a=i.end,l=o.zoneId,s="";t=Rf(n,l,o.line);var u=n.getContentState().getZoneState(l);u&&o.line!==u.length()-1&&(s=Rf(n,l,a.line+1)),(t||s)&&(r.cutList(),e.preventEvent())},r.cutList=function(){var e=r.editor;e.undoModule.batchedUndo((function(){var t=r,n=t.renumberList,i=t.deleteNumberList,o=e.selection.getSelection(),a=o.start,l=o.end,s=a.line,u=e.getContentState(),c=u.hasLineMarker(a)?1:0,d=a,f=l;(function(e,t){var n=e.zoneId,r=e.line,i=e.offset;if(i<1)return!1;var o=t.getZoneState(n);if(!o)throw new Error("isEndOfLine execute error: zoneId "+n+" does not exist.");var a=o.getLine(r);if(!a)throw new Error("isEndOfLine execute error: zoneId "+n+" line "+r+" does not exist.");return i+1===a.length()})(l,u)&&function(e,t){var n=e.zoneId,r=e.line,i=e.offset;if(i>1)return!1;var o=t.getZoneState(n);if(!o)throw new Error("isStartOfLine execute error: zoneId "+n+" does not exist.");var a=o.getLine(r);if(!a)throw new Error("isStartOfLine execute error: zoneId "+n+" line "+r+" does not exist.");return i===(a.hasLineMarker()?1:0)}(a,u)&&(d={zoneId:a.zoneId,line:s,offset:c});var h=i(new wt({start:d,end:f,editor:e}));e.getContentState().deleteText({start:d,end:f});var p=e.selection.getSelection().start,g=p.zoneId,v=p.line;-1!==v&&h.forEach((function(e){"number"==typeof e&&null===n(g,v+1)?n(g,v):n(g,v,e,!1)}))}))},r.caretColumn=function(){return r.editor.selection.getSelection().start.offset},r.deleteNumberList=function(e,t){void 0===t&&(t=[]);var n=r.editor,i=(e=e||n.selection.getSelection()).start,o=e.end,a=i.zoneId,l=i.line,s=o.line,u=n.getContentState().getZoneState(a);if(!u)return t;var c=u.getLine(l);if(e.isCollapsed()&&r.caretColumn()===(c.hasLineMarker()?1:0)){var d=e.start.line>1?Rf(n,a,e.start.line-1):"",f=e.start.line<u.length()?Rf(n,a,e.start.line+1):"";if(d.indexOf("code")>-1&&f.indexOf("code")>-1)return t.push(Number(e.start.line)),t}for(var h=l;h<=s;h++){var p=Rf(n,a,h);if(-1===p.indexOf("code")){if(-1!==p.indexOf(Df)){var g=u.getLine(h).getLineAttributes().toMap()["ol-id"];if(g&&!t.includes(g))t.push(g);else if(!g){var v=Af();r.renumberList(a,h,v,!0),t.push(v)}}}else t.push(Number(h))}return t},r.handleDidPaste=function(){var e=r.editor.selection.getSelection(),t=e.start,n=e.end;r.doFixNewInsertNodeListError(r.pasteLineNum,Math.max(t.line-r.pasteLineNum,1)),r.mergeListIfNecessary(t.zoneId,t.line,n.line),r.renumberList(t.zoneId,r.pasteLineNum)},r.handleContentChange=function(e){var t=e.changes,n=e.options;n.isRemote||"setContent"===n.type||r.needRenumberList&&Object.values(t).forEach((function(e){var t=0;e.forEach((function(n){var i=n.start,o=n.inserts,a=n.deletes;(o.length>1||a.length>1||e.length>1)&&r.doFixNewInsertNodeListError(i+t,o.length),a.length&&a.forEach((function(e){var t;(null===(t=e.getLineAttributes().toMap().list)||void 0===t?void 0:t.includes("number"))&&r.handleDeleteListLine(e.index)})),t+=o.length-a.length}))}))},r.handleCompositionEnd=function(e){var n,i=r.editor.selection.getSelection();if(!(e.data.length>0)&&i.isCollapsed()){var o=i.start,a=o.zoneId,l=o.line,s=r.editor.getContentState(),u=null===(n=s.getZoneState(a))||void 0===n?void 0:n.getLine(l);if(null==u?void 0:u.isTextEmpty()){var c=u.getLineAttributes().toMap();t.KEY in c&&s._forceRefresh(a,[l])}}},r.doFixNewInsertNodeListError=function(e,t){var n,i;if(r.needRenumberList)for(var o=r.renumberList,a=r.editor.getContentState().getActiveZone().getZoneId(),l="",s="",u=0;u<t;++u){var c=e+u,d=Rf(r.editor,a,c),f=Rf(r.editor,a,c+1),h=d.indexOf(Df)>-1,p=d.indexOf("code")>-1,g=f.indexOf("code")>-1,v=h&&(null===(i=null===(n=r.editor.getContentState().getZoneState(a))||void 0===n?void 0:n.getLine(c))||void 0===i?void 0:i.getLineAttributes().toMap()["ol-id"])||"";if(h&&v!==l){var m=""===v?l:"",b=r.needRenumberList;r.needRenumberList=!1,m?o(a,c,m,!0):o(a,c),r.needRenumberList=b}var y=s.indexOf("code")>-1;p&&!y&&o(a,c),!p&&g&&o(a,c+1),s=d,l=v}},r.doInsertOrderedList=function(){r.editor.undoModule.batchedUndo((function(){r.doInsertList({attribKey:"list",attribValue:Df})}))},r.doInsertUnorderedList=function(){r.editor.undoModule.batchedUndo((function(){r.doInsertList({attribKey:"list",attribValue:Lf})}))},r.doInsertList=function(e){var t=e.attribKey,n=e.attribValue,i=e.range,o=e.isAllHasAttrib,a=e.clickZone,l=r.editor;if(i=i||l.selection.getSelection(),void 0===o){var s=function(e,t,n,r){var i=e.getContentState();return t.every((function(e){for(var t=e.start,o=e.end,a=t.zoneId,l=t.line,s=o.line,u=l;u<=s;u++){var c=i.getLineAttributes(a,u).toMap()[n];if(!c||c.slice(0,r.length)!==r){var d=i.getZoneState(a);if(!d)return!1;for(var f=d.getLine(u).getAttributes(),h=!1,p=0,g=f.length;p<g;++p){var v=f[p][0];if("sheet-id"===v||"horizontal-line"===v||"aceTable"===v){h=!0;break}}if(h)continue;return!1}}return!0}))}(l,[i],t,n);return r.doInsertList({attribKey:t,attribValue:n,range:i,isAllHasAttrib:s,clickZone:a})}var u=i.start,c=i.end,d=n.replace(/^([a-z]+)\d*$/g,"$1"),f=u.line,h=c.line,p=u.zoneId,g=[],v=r.getClosetListNumberId(p,d,i)||Af(),m=l.getContentState().getZoneState(p);if(m){for(var b=f;b<=h;b++)if("code"!==d){var y=0,w="",I=m.getLine(b).getLineAttributes().toMap()["text-indent"],C=Rf(l,p,b),k=Pf(C);k&&(w=k[1],y=Number(k[2])),I&&(y+=2),w=C||I,o&&(y-=1),k&&"indent"===k[1]&&!I&&(y+=1);var E=o&&!a?y>0?"indent"+y:"":w?d+y:d+"1";g.push([b,E,I,v])}else g.push([b,o?"":"code1",""]);var x=g.filter((function(e){var t=e[0];return!(m.getLine(t)._node.className.indexOf("IGNORE_LIST")>-1)})).map((function(e){return e[0]})),M=g.reduce((function(e,t){return e[t[0]]=t[1],e}),{}),S=g[0][1];Cf.exec(S)?r.bulkInsertOList(p,x,M):r.setMultiLinesListType(p,x,M,v);var T=g.filter((function(e){return e[2]})).map((function(e){return e[0]}));r.setAttributeOnMultiLines(p,T,{"text-indent":""}),r.renumberList(p,h+1)}},r.registerCommand=function(){var e=r.editor;e.registerCommand(t.KEY,(function(e){var t=e.value;t===Df?r.doInsertOrderedList():t===Lf&&r.doInsertUnorderedList()})),e.registerCommand(gf.INDENT_LEFT,(function(){yf(e,Df,!1),yf(e,Lf,!1);var t=r.indexOfListLineInRange(),n=r.editor.selection.getSelection().start,i=n.zoneId,o=n.line;t>-1?r.renumberList(i,t):r.renumberList(i,o+1)})),e.registerCommand(gf.INDENT_RIGHT,(function(){yf(e,Df,!0),yf(e,Lf,!0);var t=r.indexOfListLineInRange();if(t>-1){var n=r.editor.selection.getSelection().start;r.renumberList(n.zoneId,t)}}))},r.deserialize=function(e){var t,n,i=e.node,o=e.deltaSet,a=e.zoneId,l=o;if(i instanceof HTMLElement){var s=i.tagName,u=i.className,c=wf.exec(u);if(c&&(l=hi(l,a,{"ol-id":c[1]})),"ol"!==s.toLowerCase()||"body"!==(null===(t=i.parentElement)||void 0===t?void 0:t.tagName.toLowerCase())&&(null===(n=i.parentElement)||void 0===n?void 0:n.closest("ol"))||(r.deserializeOlID=Af()),"li"===s.toLowerCase()){var d=function(e){var t=null,n=e,r=e.dataset.list;if("LI"===e.tagName&&r){if(/bullet/.test(r))return"bullet";if(/number/.test(r))return"number"}for(;n;){if("UL"===n.tagName){t="bullet";break}if("OL"===n.tagName){t="number";break}n=n.parentElement}return t}(i),f=function(e){var t=0,n=e.parentElement;if("LI"===e.tagName&&e.dataset.list&&/number/.test(e.dataset.list))return Gf(e.dataset.list);for(;n;)["OL","UL"].includes(n.tagName)&&t++,n=n.parentElement;return t}(i),h=String(function(e){var t=e.parentElement;if(t&&"OL"===t.tagName&&"LI"===e.tagName){return(t.start||1)+Array.from(t.children).filter((function(e){return"LI"===e.tagName})).indexOf(e)}for(;t;){if("OL"===t.tagName&&t.start)return t.start;t=t.parentElement}return 1}(i)),p=i.getAttribute("data-ol-id"),g=r.deserializeOlID;p&&(r.olIdMap[p]||(r.olIdMap[p]=Af()),g=r.olIdMap[p]);var v=function(e){var t=null,n=e;for(;n;){var r=/(?:^| )list-([a-z]+[0-9]+)\b/.exec(n.className);if(r&&r[1]){t=r[1];break}n=n.parentElement}var i="",o="";if(e&&"LI"===e.tagName){var a=e.dataset.list,l=void 0===a?"":a;/bullet/.test(l)?i="bullet":/number/.test(l)&&(i="number"),(s=l.match(/\d+/))&&(t=i+(o=s[0]))}if(i&&t&&!o){var s;(s=t.match(/\d+/))&&(t=i+s[0])}return t}(i);(f>=1&&d||v)&&Jf(l,a,{list:v||""+d+f,start:h,"origin-start":h}),"number"===d&&Jf(l,a,{"ol-id":g})}}return l},r.UNSAFE_editorNormalizePasteNode=function(e){var t,n,i=e.data.node,o=r.editor,a=o.selection.getSelection().start,l=a.line,s=a.offset>0,u=Lc()(i).find(">:not(meta)"),c=1===u.length,d=Lc()(i).find("ul, ol");if(s&&c&&d[0]&&u.hasClass("list-div")){var f=Lc()("<div/>");f.html(d.html());for(var h=0;h<d[0].attributes.length;h++){var p=d[0].attributes[h];f.attr(p.name,p.value)}f.removeClass("bullet1 number1"),f.html(f.find("li")[0].innerHTML),d.replaceWith(f)}var g=i.querySelectorAll("ul,ol");Array.from(g).forEach((function(e){Array.from(e.childNodes).forEach((function(e){e.nodeType===Node.TEXT_NODE&&e.parentNode&&e.parentNode.removeChild(e)}))}));var v=Lc()(i).find("ol");if(!(v.length<=0)){for(var m=v[0],b=v[0];m.previousSibling&&"meta"!==$f(m.previousSibling);)m=m.previousSibling;for(;b.nextSibling;)b=b.nextSibling;if(m&&b){var y=o.getContentState().getZoneState(a.zoneId);if(y){var w=null===(t=y.getLine(l-1))||void 0===t?void 0:t.getLineAttributes().toMap()["ol-id"],I=y.getLine(l).getLineAttributes().toMap()["ol-id"],C=null===(n=y.getLine(l+1))||void 0===n?void 0:n.getLineAttributes().toMap()["ol-id"],k="ol"===$f(m),E="ol"===$f(b);if(k||E)if(k&&(w||I))r.assignListId(v,w||I);else if(E&&C)r.assignListId(v,C,!0);else{var x=r.getLevelAndOrderFromOl(m),M=x.level,S=x.order,T=Wf(o,l).upwardClosestOListInfo;if(T)r.assignListId(v,T.listId);else{var A=Zf(o,bf.UP,l,M,S);if(A)return void r.assignListId(v,A.listId);r.assignListId(v,Af())}}else r.assignListId(v,Af())}}}},r.editorWillPaste=function(e){var t,n,i,o,a=e.deltaSet,l=e.zoneId,s=e.isInternalPaste,u=e.lineState,c=r.editor.selection.getSelection().start,d=r.editor.getContentState().getActiveZone(),f=c.line;r.pasteLineNum=f;var h=r.editor.getContentState().schema,p=a.get(l),g=p.ops[0]&&nt(p.ops[0].attributes,h),v=p.ops[0]&&(p.ops[0].attributes||{}).lmkr&&(p.ops[0].attributes.list||p.ops[0].attributes.blockquote);if(u&&r.isListLine(u)&&!function(e,t){for(var n="",r=0;r<e.ops.length&&n.length<t.length;r++){var i=e.ops[r];if("string"!=typeof i.insert)break;n+=i.insert}return n.slice(0,t.length)===t}(p,"\n"))if(g||v);else{var m=new ae({zoneId:l});p.eachLine((function(e,t,n){if(0!==n){var r=t.lmkr?t:{},i=t.lmkr?e.ops.slice(1):e.ops;m=m.insertLineMarker(as(as({},r),u.getLineAttributes().toMap())).concat(new ae({zoneId:l,ops:i}))}else m=m.concat(e)})),a.replace(l,m)}if(s){var b=!1,y=null,w=!1,I=null;a.forEach((function(e){if(e.zoneId===l&&e instanceof ae){var t=0;e.eachLine((function(e,n,r){t=r})),e.eachLine((function(e,n,r){n["ol-id"]&&(0===r&&(b=!0,y=n),r===t&&(w=!0,I=n))}))}}));var C=null===(i=d.getLine(f-1))||void 0===i?void 0:i.getLineAttributes().toMap()["ol-id"],k=d.getLine(f).getLineAttributes().toMap()["ol-id"],E=null===(o=d.getLine(f+1))||void 0===o?void 0:o.getLineAttributes().toMap()["ol-id"],x=function(e){var t="string"==typeof e?{}:as({},e);a.forEach((function(n){if(n.zoneId===l&&n instanceof ae){var r=function(e,t,n){return e.reduce((function(e,r){var i=r.attributes;if(!i||!r.insert)return e.push(r);var o=Object.keys(i).reduce((function(e,r){var o,a,l=i[r];return t({key:r,value:l})?(o=(a=n({key:r,value:l})).key,a=a.value,e[o]=a):e[r]=l,e}),{});return e.insert(r.insert,o),e}),e.create({zoneId:e.zoneId,zoneType:e.zoneType}))}(n,(function(e){return"ol-id"===e.key}),(function(n){var r,i=n.key,o=n.value,a="string"==typeof e?e:null!==(r=t[o])&&void 0!==r?r:Af();return t[o]||(t[o]=a),{key:i,value:a}}));a.replace(l,r)}}))};if(b||w)if(b&&(C||k))x(((t={})[y["ol-id"]]=C||k,t));else if(w&&E)x(((n={})[I["ol-id"]]=E,n));else{var M=y||{list:"number1",start:"1"},S=M.list,T=void 0===S?"number1":S,A=M.start,N=void 0===A?"1":A,L=parseInt(Cf.exec(T)[2],10),D=parseInt(N,10)||1,z=Wf(r.editor,f).upwardClosestOListInfo;if(z)x(z.listId);else{var O=Zf(r.editor,bf.UP,f,L,D);x(O?O.listId:{})}}else x({})}var R=function(e,t){var n={};return e.eachLine((function(e,r,i){return t!==i||(n=r,!1)})),"list"in n}(a.get(l),0),_=a.get(l),j=function(){var e=d.getLine(c.line);if(e){var t=e.getLineAttributes().toMap().list;if(R&&t){var n=[];if(_.eachLine((function(e,t){var r=t.list&&Number(t.list.slice(-1));r&&n.push(r)})),n.length){var r=Number(t.slice(-1))||Math.min.apply(Math,hs(n)),i=!t&&1===r,o=t&&r+Math.min.apply(Math,hs(n))-n[0]<1;if(!i&&!o)return[r,!!t]}}}else console.warn("line state is empty",c)}();if(j){var P=0,B=new ae({zoneId:l});_.eachLine((function(e,t,n){var r=Pf(t.list),i=r&&r[1],o=r&&Number(r[2]),a=fs(j,2),s=a[0],u=a[1];if(i&&o){var c="";u?(0===n&&(P=s-o),c=0===n?""+i+s:""+i+(o+P)):(o!==s&&(P=o-s),c=o===s?i+"1":""+i+(P+1)),B=B.insert("*",as(as({},e.ops[0].attributes),{list:c})).concat(new ae({zoneId:l,ops:e.ops.slice(1)}))}else B=B.concat(e)})),a.replace(l,B)}return a},r.addListAttrToDeltaSet=function(e,t){if(e&&r.isListLine(e)){var n=new J,i=e.getLineAttributes().toMap();return t.forEach((function(t,r){if(r===e.getZoneId()&&t instanceof ae){var o=new ae({zoneId:r});t.eachLine((function(e){e.ops.forEach((function(e,t){if(0===t){var n=e.attributes||{};if("*"===e.insert&&e.attributes&&e.attributes.lmkr){var r=e.attributes.list;o.insert("*",r?n:as(as({},n),i))}else o.insertLineMarker(i).push(e)}else o.push(e)}))})),n=n.concat(o)}else n=n.concat(t)})),n}return t},r.isListLine=function(e){return e.hasLineMarker()&&e.getLineAttributes().toMap().list},r.addListId=function(e,t){t&&(Lc()(e).removeClass((function(e,t){return(t.match(/ol-id([\w]{8})/g)||[]).join(" ")})),Lc()(e).addClass("ol-id"+t))},r.renderLine=function(e){var t,n,o=e.children,a=e.lineState,l="",s=a.getLineAttributes().toMap();try{for(var u=ds(Object.entries(s)),c=u.next();!c.done;c=u.next()){var d=fs(c.value,2),f=d[0],h=d[1];if(["list","start","origin-start"].includes(f)||"ol-id"===f&&If.test(h))l+=""+(v=l?" ":"")+(f+":"+h)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}var p=/(?:^| )list:(\S+)/.exec(l),g=/(?:^| )ol-id:(\S+)/.exec(l);if(g){var v=e.lineClass?" ":"";e.lineClass+=v+"ol-id"+g[1]}if(p){var m=p[1];if(m){var b="list-div",y=Ac.escapeHTMLAttribute(m),w=/(?:^| )start:(\S+)/.exec(l)||["start:1","1"],I=parseInt(w[1],10),C=r.getLiStyleFromLineState(a),k=void 0!==C.fontSize?"font-size-"+String(C.fontSize).replace(/\s/g,""):void 0;if(y.indexOf("code")>-1)return b+=" list-code",1===I&&(b+=" list-code-start"),e.lineClass+=" "+b,i.createElement("code",{start:""+I,className:"list-"+y,spellcheck:"false"},e.children);if(y.indexOf(Df)<0){if(y.indexOf("check")>-1||y.indexOf("done")>-1)return o;e.lineClass+=" "+b;var E=y.indexOf("indent")>-1?"indent":"bullet";return i.createElement("ul",{className:"list-"+y+" r-list r-list-"+E},i.createElement("li",{style:C,className:k},e.children))}if(w){1===I&&(b+=" list-start-"+y);var x=/(?:^| )origin-start:(\S+)/.exec(l),M=eh(I,Number(Pf(y)[2]));if(x){var S=Ac.escapeHTMLAttribute(x[1]);return e.lineClass+=" "+b,i.createElement("ol",{"data-origin-start":""+S,start:""+S,"data-start":""+S,className:"list-"+y+" r-list r-list-number"},i.createElement("li",{start:""+M,"data-start":""+M,style:C,className:k},e.children))}return e.lineClass+=" "+b,i.createElement("ol",{start:""+I,"data-start":""+I,className:"list-"+y+" r-list r-list-number"},i.createElement("li",{start:""+M,"data-start":""+M,style:C,className:k},e.children))}return e.lineClass+=" "+b,i.createElement("ol",{className:"list-"+y+" r-list r-list-number"},i.createElement("li",{style:C,className:k},e.children))}}return o},r.handleKeydown=function(e){var t=e.evt;if(r.editor){var n=r.editor.selection.getSelection(),i=n.start,o=n.end,a=r.editor.getContentState(),l=a.getActiveZone(),s=l.getZoneId();if(i&&o){var u=o.line,c=o.offset,d=l.getLine(u);t.keyCode===vf.Delete&&"Delete"===t.key&&n.isCollapsed()&&d&&c===d.getModelText().length&&r.mergeList(s,u+2,u);var f=t.type,h=t.keyCode,p=t.shiftKey,g=t.ctrlKey,v=t.metaKey;if(Tc.isSafari&&"keydown"===f){if(!(h!==vf.Up&&h!==vf.Down||g||v)){var m=h===vf.Up,b=n.isBackward,y=m?Math.max(i.line-1,0):Math.min((p&&b?i.line:o.line)+1,l.length()-1);if(!l.getLine(y).getLineAttributes().toMap().list)return;var w=l.getLine(y),I=w.hasLineMarker()?1:0,C=p&&!b?i:{zoneId:s,line:y,offset:I},k=p&&b?o:{zoneId:s,line:y,offset:I};w.length()-1===I&&(r.editor.selection.setSelection({start:C,end:k}),t.preventDefault())}if(a.getLineAttributes(s,i.line).toMap().list&&n.isCollapsed()&&h===vf.Left&&mf(t.nativeEvent)){var E=l.getLine(i.line).hasLineMarker()?1:0,x={zoneId:s,line:y=i.line,offset:E};t.shiftKey?r.editor.selection.setSelection({end:o,start:x}):r.editor.selection.setSelection({end:x,start:x}),t.preventDefault()}}}}},r.setListAttributeOnMultiLines=function(e,t,n,i){void 0===i&&(i={type:"setLineAttributes"});var o=r.editor.getContentState();t.forEach((function(t){o.setLineAttributes(e,t,{list:n[t]},i)}))},r.setLineListType=function(e,t,n,i){var o,a,l,s,u={},c=r,d=c.editor,f=c.renumberList,h=d.getContentState(),p=d.selection.getSelection();""===n?(s=!1,l=null===(a=null===(o=h.getZoneState(e))||void 0===o?void 0:o.getLine(t))||void 0===a?void 0:a.getLineAttributes().toMap()["ol-id"],r.relativeAttrKeys.concat("list").forEach((function(n){var r;h.setLineAttributes(e,t,((r={})[n]="",r))}))):(u.list=n,n.indexOf(Df)>-1&&(l=i||r.getClosetListNumberId(e,n,p)||Af())&&(u["ol-id"]=l),h.setLineAttributes(e,t,u)),f(e,t,l,s)},r.setLineListTypeWithStart=function(e,t,n,i,o,a){var l=r.editor,s=l.getContentState(),u=s.getZoneState(e);if(u){var c,d=l.selection.getSelection(),f=a||r.getClosetListNumberId(e,n,d)||Af();i?(i=String(i),n?o?s.setLineAttributes(e,t,{list:n,start:i,"origin-start":i,"ol-id":f}):s.setLineAttributes(e,t,{list:n,start:i,"ol-id":f}):(f=u.getLine(t).getLineAttributes().toMap()["ol-id"],c=!1,r.setLineListType(e,t,"")),r.renumberList(e,t,f,c)):r.setLineListType(e,t,n,f)}},r.unNumberType=function(e){return"indent"===e||e===Lf||"check"===e||"done"===e},r.findClosetList=function(e,t,n){var i=t,o="up",a=[],l=r.editor.getContentState().getZoneState(e);if(!l)return a;for(var s=l.length(),u=Rf(r.editor,e,t);i-1>=0&&r.compatibleList(e,i-1,n,o,a);)i--;for(i=t,u&&n&&a.push(i),o="down";i+1<=s&&r.compatibleList(e,i+1,n,o,a);)i++;return a},r.compatibleList=function(e,t,n,i,o){var a,l=r.unNumberType,s=Rf(r.editor,e,t);if(!s)return null;var u=Pf(s);if("code"===n)return l(u[1])||n!==u[1]?null:("up"===i?o.unshift(t):"down"===i&&o.push(t),!0);if("oldNumber"===n&&u[1]===Df){var c=null===(a=r.editor.getContentState().getZoneState(e))||void 0===a?void 0:a.getLine(t);return c?c.getLineAttributes().toMap()["ol-id"]?null:("up"===i?o.unshift(t):"down"===i&&o.push(t),!0):null}return null},r.renumberList=function(e,t,n,i){var o,a=r,l=a.editor,s=a.unNumberType,u=[],c=!1===i,d="",f=Rf(l,e,t),h=!!n;if(!f&&!h)return null;var p=Pf(f);if(h&&(p=Pf("number1")),s(p[1])&&!c)return null;var g=null===(o=r.editor.getContentState().getZoneState(e))||void 0===o?void 0:o.getLine(t).getLineAttributes().toMap()["ol-id"],v=n||g,m=[];if("code"===p[1]?d="code":p[1]!==Df||c||(d="oldNumber"),""!==d&&(m=r.findClosetList(e,t,d)),0!==m.length&&"oldNumber"===d&&(m=m.map((function(n){if(n===t)return g===v?null:n;var r=Ff(l,e,n);return r&&r.listId===v?null:n})).filter((function(e){return null!==e})).sort((function(e,t){return e-t})),r.setAttributeOnMultiLines(e,m,{"ol-id":v})),i&&l.getContentState().setLineAttributes(e,t,{"ol-id":v}),v){var b=r.editor.getContentState().getZoneState(e);(b?hs(new Array(b.length())).map((function(t,n){return Ff(l,e,n)})):[]).forEach((function(e,t){e&&e.listType.indexOf(Df)>-1&&e.listId===v&&u.push(t)}))}var y=[];0!==u.length?y=u:0!==m.length&&(y=m);return y.length&&r.performRenumberList(e,y,p,!1),null},r.performRenumberList=function(e,t,n,i){var o=r.editor,a=new ae({zoneId:e}),l=0,s=function(t,i,u){for(var c,d,f=t[l],h=-1,p=Rf(o,e,f);p;){p=Pf(p),d=Number(p[2]);var g=r.editor.getContentState().getZoneState(e),v=g.getLine(f).getLineAttributes().toMap(),m=v["text-indent"],b=v.start;if(isNaN(d)||r.unNumberType(p[1])){if("code"===n[1]||d<i)return f;l++}else if(d===i){-1===h&&(c=Number(v["origin-start"]),h=Number(u?b:c||1));var y={start:String(h)};if(h!==c&&c&&(y["origin-start"]=""),Number(h)!==Number(b)){m&&(y["text-indent"]="");var w=g.pointToOffset({line:f,offset:0});null!==w&&(a=a.compose(new ae({zoneId:e}).retain(w).retain(1,y)))}if(h=+h+1,f=t[++l],l===t.length)return t[l]}else{if(d<i)return f;f=s(t,i+1,u)}p=l<t.length?Rf(o,e,t[l]):""}return f};s(t,1,i),r.editor.getContentState().apply(a)},r.getOlIdForNewList=function(e){var t=r.editor,n=(e||t.selection.getSelection()).end,i=n.line+1,o=t.getContentState().getZoneState(n.zoneId);if(o){var a=o.getLine(i).getLineAttributes().toMap().start;return"1"===a?a["ol-id"]:void 0}},r.getClosetListNumberId=function(e,t,n,i,o){var a,l;if(-1!==t.indexOf(Df)){var s=r.editor,u=n||s.selection.getSelection(),c=u.start,d=u.end,f=c.line,h=d.line,p=s.getContentState().getZoneState(c.zoneId);if(p)return f<1&&f===h&&0===e?"":i?p.getLine(f).getLineAttributes().toMap()["ol-id"]:o&&o.editOneAfterOlList?r.getOlIdForNewList(n):(f>1?null===(a=p.getLine(f-1))||void 0===a?void 0:a.getLineAttributes().toMap()["ol-id"]:"")||(null===(l=p.getLine(f+1))||void 0===l?void 0:l.getLineAttributes().toMap()["ol-id"])||""}},r.editor=n.editor,r.registerCommand(),r.editor.on(Lt.DID_PASTE,r.handleDidPaste),r.editor.on(Lt.WILL_DELETE_FROM_CUT,r.handleWillDeleteFromCut),r.editor.on(Lt.CONTENT_CHANGE,r.handleContentChange),r.editor.on(Lt.COMPOSITION_END,r.handleCompositionEnd),r.editor.on("keydown",r.handleKeydown),r.editor.on(Lt.DELETE_KEY,r.handleDeleteKey,899),r.needRenumberList=n.needRenumberList||!0,r}os(t,e);var n=t.prototype;return n.destroy=function(){this.editor.off(Lt.DID_PASTE,this.handleDidPaste),this.editor.off(Lt.WILL_DELETE_FROM_CUT,this.handleWillDeleteFromCut),this.editor.off(Lt.CONTENT_CHANGE,this.handleContentChange),this.editor.off(Lt.COMPOSITION_END,this.handleCompositionEnd),this.editor.off("keydown",this.handleKeydown),this.editor.off(Lt.DELETE_KEY,this.handleDeleteKey),this.editor=null},n.indexOfListLineInRange=function(){for(var e,t,n=this.editor,r=n.selection.getSelection(),i=r.start,o=r.end,a=i.line;a<=o.line;a++){var l=n.getContentState().getLineAttributes(i.zoneId,a).toMap();if((null===(e=l.list)||void 0===e?void 0:e.indexOf(Df))>-1||(null===(t=l.list)||void 0===t?void 0:t.indexOf(Lf))>-1)return a}return-1},n.getListWrapInfo=function(e,t){var n=t.level,r=t.style,i=t.start;var o=Array.from({length:n},(function(){var t={tag:e,attributes:{}};return r&&(t.style=as({},r)),t}));return i&&o[n-1]&&(o[n-1].attributes.start=String(i)),o},n.serialize=function(e){var n,r,i=e.zoneId,o=e.type,a=e.node,l=e.lineAttributes,s=e.lineDelta,u=l&&l.list||"",c=Gf(u),d=Vf(u),f=function(e){return e.split("indent")[1]}(u),h=-1;if(o===Tr.LINE&&u&&(c||d||/check|done/.test(u)||f)){var p=!1,g=document.createElement(f?"div":"li");if(g.classList.add("temp-li"),g.setAttribute(Rr,"true"),g.style.lineHeight="1.6",g.style.marginTop="0px",g.style.marginBottom="0px",g.style.paddingLeft="0px",f||(g.style.display="list-item"),c?(g.style.listStyleType=Qf[(+c-1)%Qf.length],h=Nf.ORDER):d?(g.style.listStyleType=Xf[(+d-1)%Xf.length],h=Nf.BULLET):f&&(h=Nf.INDENT),l){if(l.list&&(g.dataset.list=l.list,g.classList.add(l.list)),l["ol-id"])g.dataset.olId=l["ol-id"],p=fs(this.serializeOlID.split(":"),1)[0]!==l["ol-id"],this.serializeOlID=function(e,t){return e+":"+t}(l["ol-id"],c);l.start&&c&&!f&&(g.dataset.start=eh(Number(l.start),Number(c))),this.prevListType!==h&&(p=!0),this.prevListType=h}var v={};if(s){var m=new Ct(s,new Nt(i,s));v=this.getLiStyleFromLineState(m)}try{for(var b=ds(Object.entries(v)),y=b.next();!y.done;y=b.next()){var w=fs(y.value,2),I=w[0],C=w[1];if(g.style[I]=C,"fontSize"===I){var k=String(C).replace(/\s/g,"");g.classList.add("font-size-"+k)}}}catch(e){n={error:e}}finally{try{y&&!y.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}g.appendChild(a);var E=Yf(g),x=E.type,M=E.level,S={margin:"0px 0px 0px 24px",paddingLeft:"0px"};f&&(S.marginLeft="24px"),f||(S.listStylePosition="inside");var T=this.getListWrapInfo(x,{level:M,start:Number(null==l?void 0:l.start)||1,style:S});return T.length>0&&(f||Object.assign(T[0].style,{margin:"0px"}),Object.assign(T[T.length-1],{split:p})),mi(Object.assign(e,{node:g}),{wrapNodesInfo:T,tagAttribute:t.KEY})}return e},n.assignListId=function(e,t,n){var r=this;void 0===n&&(n=!1),(n?Lc()(e.get().reverse()):e).each((function(e,n){return r.addListId(n,0===e?t:Af())}))},n.getLevelAndOrderFromOl=function(e){var t=/list-number([0-9]+)/.exec(e.className),n=Lc()(e).attr("start");return{level:t?parseInt(t[1],10):1,order:n?parseInt(n,10):1}},n.getLiStyleFromLineState=function(e){var n,r,i,o,a,l,s={};if(e.isTextEmpty()){var u=e.getZoneId(),c=e.getOffset().start+e.getLineMarker(),d=this.editor.getContentState().getInlineStyleOverride({zoneId:u,start:c});if(d)try{for(var f=ds(Object.entries(d)),h=f.next();!h.done;h=f.next()){var p=fs(h.value,2),g=p[0],v=p[1];if(g in t.PREFIX_STYLE_INHERIT){var m=fs(t.PREFIX_STYLE_INHERIT[g],2),b=m[0],y=m[1];s[b]=y||v}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return s}try{for(var w=ds(Object.entries(t.PREFIX_STYLE_INHERIT)),I=w.next();!I.done;I=w.next()){var C=fs(I.value,2),k=C[0],E=C[1],x=e.getEntities([[k,void 0]]);if(x.length){var M=!0,S=void 0,T=e.length()-(e.getModelText().endsWith("\n")?1:0);try{for(var A=(a=void 0,ds(x.entries())),N=A.next();!N.done;N=A.next()){var L=fs(N.value,2),D=L[0],z=L[1],O="lmkr"in z.attributes?0:e.getLineMarker(),R=z.end.offset-(z.text.endsWith("\n")?1:0);if(0===D&&z.start.offset!==O||D===x.length-1&&R!==T||S&&S.end.offset!==z.start.offset){M=!1;break}S=z}}catch(e){a={error:e}}finally{try{N&&!N.done&&(l=A.return)&&l.call(A)}finally{if(a)throw a.error}}M&&(s[E[0]]=E[1]||x[0].attributes[k])}}}catch(e){i={error:e}}finally{try{I&&!I.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}return s},n.editorAfterDoDeleteKey=function(e){var t=this.editor.getContentState().getActiveZone().getZoneId();this.mergeListIfNecessary(t,e.theLine),this.handleDeleteListLine(e.theLine)},n.editorAfterDoReturnKey=function(e){this.handleDeleteListLine(e.theLine)},n.handleDeleteListLine=function(e){var t=this.editor;if(t){var n=this.renumberList,r=t.selection.getSelection().start;this.willRenumberArr.forEach((function(t){"number"==typeof t&&null===n(r.zoneId,e+1)?n(r.zoneId,e):n(r.zoneId,e,t,!1)})),this.willRenumberArr=[]}},n.editorKeyDown=function(e){var t=e.evt,n=t.keyCode,r=this.editor.selection.getSelection(),i=r.start,o=i.line,a=i.zoneId;t.shiftKey||n!==vf.Tab||"0"===a&&0===o||this.mergeToParentListIfNecessary(r)},n.bulkInsertOList=function(e,t,n,r){var i,o,a=this.editor;if(a&&0!==t.length){var l=this.editor.getContentState();t.sort((function(e,t){return e-t}));var s=t[0],u=t[t.length-1],c=Af();if(l.setLineAttributes(e,s,{"origin-start":""+(r||1)}),this.setMultiLinesListType(e,t,n,c),1===r){var d=Zf(a,bf.UP,s);if(d)this.mergeList(e,d.lineNum,s);else{var f=Wf(a,s,u),h=f.upwardClosestOListInfo,p=f.downwardClosestOListInfo;h&&p&&this.mergeList(e,s,p.lineNum)}(null===(o=null===(i=l.getZoneState(e))||void 0===i?void 0:i.getLine(u+1))||void 0===o?void 0:o.getLineAttributes().toMap()["ol-id"])&&this.mergeList(e,u+1,u)}else this.mergeListIfNecessary(e,s,u)}},n.mergeList=function(e,t,n){var r=this,i=this.editor;if(!i)return Promise.resolve(null);var o=i.selection.getSelection(),a=i.getContentState();if(!_f(i,o,t)||!_f(i,o,n))return Promise.resolve(null);var l=Ff(i,e,t),s=Ff(i,e,n);if(l&&s&&l.listId!==s.listId){var u=l.listId,c=hs([n],Kf(i,o,n,s.listId,bf.UP),Kf(i,o,n,s.listId,bf.DOWN)).sort((function(e,t){return e-t}));return new Promise((function(i){if(!r.editor)return i(null);var l={type:"mergeList"};r.setAttributeOnMultiLines(e,c,{"ol-id":u},l),c[0]>t?a.setLineAttributes(e,c[0],{"origin-start":""},l):(a.setLineAttributes(e,t,{"origin-start":""},l),function(e,t,n){if(!_f(e,t,n))return!1;return 0===Kf(e,t,n,Ff(e,t.start.zoneId,n).listId,bf.UP).length}(r.editor,o,c[0])||a.setLineAttributes(e,c[0],{"origin-start":""},l)),r.renumberList(e,n),i(u)}))}return Promise.resolve(null)},n.mergeListIfNecessary=function(e,t,n){return us(this,void 0,void 0,(function(){var r,i,o,a,l,s,u,c,d,f,h,p,g,v;return cs(this,(function(m){switch(m.label){case 0:return(r=this.editor)?(i=r.selection.getSelection(),o=n||t,_f(r,i,t)&&_f(r,i,o)?(a=Uf(r,t).listId,l=Uf(r,t-1),s=Uf(r,o+1),u=Zf(r,bf.UP,t),c=Zf(r,bf.DOWN,o),f=s||c,h=!1,(d=l||u)&&d.listId!==a?[4,this.mergeList(e,d.lineNum,t)]:[3,2]):[2]):[2];case 1:a=m.sent()||a,h=!0,m.label=2;case 2:return f&&f.listId!==a?[4,this.mergeList(e,f.lineNum,o)]:[3,4];case 3:a=m.sent()||a,h=!0,m.label=4;case 4:return h?[2,Promise.resolve()]:(p=Wf(r,t,o),g=p.upwardClosestOListInfo,v=p.downwardClosestOListInfo,g&&v?[4,this.mergeList(e,g.lineNum,t)]:[3,7]);case 5:return m.sent(),[4,this.mergeList(e,v.lineNum,o)];case 6:m.sent(),m.label=7;case 7:return[2]}}))}))},n.mergeToParentListIfNecessary=function(e){for(var t=this,n=e.start,r=e.end,i=n.zoneId,o={},a=n.line;a<=r.line;a++){var l=Ff(this.editor,i,a);!l||void 0===l.listId||o[l.listId]||jf(l.listType)<=1||(o[l.listId]=a)}Object.entries(o).forEach((function(e){var n=fs(e,2),r=(n[0],n[1]),o=Rf(t.editor,i,r),a=Hf(t.editor,r,bf.UP,jf(o),!0);a&&t.mergeList(i,a.lineNum,r)}))},n.handleEditorWillDoDeleteKey=function(){var e=this.editor,t=e.getContentState(),n=t.getActiveZone(),r=n.getZoneId(),i=e.selection.getSelection(),o=i.start,a=n.getLine(o.line),l=a.getLineAttributes().toMap(),s=l["ol-id"];if(l.list){var u=i.toPosition(),c=u.start,d=u.len,f=Number(a.hasLineMarker()),h=Pf(l.list);if(!d&&o.offset-f==0&&h){var p=new ae({zoneId:r}),g=h[1],v=Number(h[2]);g===Df?(l["origin-start"]="",l.start="",l["ol-id"]="",l.list="indent"+v,p.retain(c-1).retain(1,l)):"code"===g?p.retain(c-2).delete(2):(l.list="",p.retain(c-1).retain(1,l)),t.apply(p),this.willRenumberArr=[s]}}},n.editorWillDoReturnKey=function(e){var t=e.evt,n=e.delta,r=e.editor,i=r.getContentState(),o=i.getActiveZone(),a=o.getZoneId(),l=r.selection.getSelection(),s=l.start.line,u=o.getLine(s),c=u.getLineAttributes().toMap(),d=l.toPosition(),f=d.start,h=d.len;if(c.list&&!h){var p=Pf(c.list);if(p){var g=p[1],v=Number(p[2]),m=u.isTextEmpty(),b=1===l.start.offset,y=t.shiftKey,w=new ae({zoneId:a});if([Df,Lf,"check","done","indent"].includes(g))if(m)1===v?["list","start","origin-start","ol-id"].forEach((function(e){c[e]=""})):c.list=g+(v-1),w.retain(f-1).retain(1,c);else{y&&(c.list="indent"+v,["start","origin-start","ol-id"].forEach((function(e){c[e]=""})));var I=this.findLastListLine(o,s);if("indent"===g&&!y&&I){var C=I.type,k=I.start,E=I.olId;C[1]===Df&&(c.list=C[0],c.start=String(k+1),c["ol-id"]=E),c.list=C[1]+C[2]}w.retain(f).insertEnter().insertLineMarker(c),"done"===g&&(w=b?w.compose(new ae({zoneId:a}).retain(Math.max(f-1,0)).retain(1,as(as({},c),{list:"check"+v}))):w.compose(new ae({zoneId:a}).retain(f+1).retain(1,as(as({},c),{list:"check"+v}))))}var x=u.previousSibling();if("code"===g&&x)if(0===s)w.retain(f).insertEnter().insertLineMarker(c);else{var M=o.getLineIndexOfKey(x.getKey()),S=x.isEmpty(),T=i.rangeToPosition({start:{line:M,offset:0,zoneId:a},end:{line:M,offset:0,zoneId:a}});if(null===T)return;var A=T.start,N=x.getLineAttributes().toMap(),L="code1"===N.list;if(m&&S&&L){["list","start","insertorder","lang"].forEach((function(e){N[e]="",c[e]=""}));var D=new ae({zoneId:a}).retain(A).retain(1,N);w=w.retain(f-1).retain(1,c).compose(D)}else w.retain(f).insertEnter().insertLineMarker(c)}e.delta=n.compose(w),this.willRenumberArr=this.deleteNumberList(l)}}},n.findLastListLine=function(e,t){for(var n=t,r="";n-1>=0;){var i=e.getLine(n-1).getLineAttributes().toMap();if(!(r=i.list))return null;if((r=Pf(r))[1]===Lf||r[1]===Df||"check"===r[1]||"done"===r[1])return{line:--n,type:"done"===r[1]?{0:"check"+r[2],1:"check",2:r[2]}:r,start:r[1]===Df?parseInt(i.start,10)||1:null,olId:i["ol-id"]};n--}return null},n.setMultiLinesListType=function(e,t,n,r){var i=this,o=n[t[0]];if(t.length&&this.editor){var a=this.editor.getContentState().getZoneState(e);if(a){var l,s=this.editor.selection.getSelection(),u=new Map;t.forEach((function(e){var t=a.getLine(e).getLineAttributes().toMap()["ol-id"];!u.has(t)&&t&&u.set(t,!0)})),""===o||/indent/.test(o)?(this.setListAttributeOnMultiLines(e,t,n),this.setAttributeOnMultiLines(e,t,{start:"","origin-start":"",lang:"","ol-id":""})):(t=t.filter((function(t){return qf(i.editor,e,t,[["horizontal-line","true"],["sheet-id",""],["aceTable",""]])})),o.indexOf(Df)>-1?(l=r||this.getClosetListNumberId(e,o,s)||Af(),this.setAttributeOnMultiLines(e,t,{"ol-id":l})):this.setAttributeOnMultiLines(e,t,{"ol-id":""}),this.setListAttributeOnMultiLines(e,t,n)),u.forEach((function(n,r){i.renumberList(e,t[0],r)})),this.renumberList(e,t[0],l)}}},n.setAttributeOnMultiLines=function(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r={type:"setLineAttributes"}),Array.isArray(t)&&t.length){var i=this.editor.getContentState();t.forEach((function(t){i.setLineAttributes(e,t,n,r)}))}},t.KEY="list",t.PREFIX_STYLE_INHERIT={bold:["fontWeight","bold"],italic:["fontStyle","italic"],fontsize:["fontSize"],fontcolor:["fontColor"],fontfamily:["fontFamily"]},ss([ga(1001)],t.prototype,"serialize",null),t}(Er),Of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return os(t,e),t}(zf);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}os(t,e)}(zf);function Rf(e,t,n){return function(e,t,n,r){var i,o=null===(i=e.getContentState().getZoneState(t))||void 0===i?void 0:i.getLine(n);if(!o)return"";return o.getLineAttributes().toMap()[r]||""}(e,t,n,"list")}function _f(e,t,n){var r=Ff(e,t.start.zoneId,n);return!(!r||!Cf.exec(r.listType))}function jf(e){var t=Cf.exec(e);return t?parseInt(t[2],10):null}function Pf(e){var t=kf.exec(e);return t||(e.startsWith("number")?kf.exec("number1"):e.startsWith("bullet")?kf.exec("bullet1"):t)}function Bf(e,t,n,r){void 0===r&&(r="number1");var i=function(e,t,n){var r,i,o=t.start.zoneId,a=null===(i=null===(r=e.getContentState().getZoneState(o))||void 0===r?void 0:r.getLine(n))||void 0===i?void 0:i.getLineAttributes().toMap()["text-indent"];if(!a)return!1;var l=kf.exec(Rf(e,o,n)),s=0;return l&&(s=Number(l[2])),a&&(s+=2),s}(e,t,n);return i?"number"+i:r}function Ff(e,t,n){var r,i=null===(r=e.getContentState().getZoneState(t))||void 0===r?void 0:r.getLine(n);if(!i)return null;var o=i.getLineAttributes().reduce((function(e,t){var n=fs(t,2),r=n[0],i=n[1];return r===Of.KEY?e.listType=i:"ol-id"===r&&(e.listId=i),e}),{});return o.listType?o:null}function Hf(e,t,n,r,i){var o,a,l=e.getContentState().getActiveZone(),s=l.getZoneId(),u=l.length(),c=((o={})[bf.UP]=-1,o[bf.DOWN]=1,o);for(t+=c[n];t>=0&&t<u;t+=c[n]){var d=Ff(e,s,t)||{},f=d.listId,h=void 0===f?"":f,p=d.listType,g=jf(void 0===p?"":p);if(g){if((a=a||h)&&h!==a||r&&!i&&g<r)return null;if(void 0===r||i&&g<r||!i&&g===r)return{zoneId:s,listId:h,lineNum:t,order:parseInt(l.getLine(t).getLineAttributes().toMap().start,10),level:g}}}return null}function Zf(e,t,n,r,i){var o,a=r&&i?{level:r,order:i}:Uf(e,n);if(!a)return null;var l=a.level,s=a.order;if(l>1&&t===bf.UP){var u=Hf(e,n,t,l,!0);if(u||1===s)return u}var c=Hf(e,n,t,l);if(!c)return null;var d=((o={})[bf.UP]=-1,o[bf.DOWN]=1,o);return c.order===s+d[t]?c:null}function Wf(e,t,n){var r=n||t,i=Hf(e,t,bf.UP),o=Hf(e,r,bf.DOWN);return i&&o&&i.listId===o.listId?{upwardClosestOListInfo:i,downwardClosestOListInfo:o}:{}}function Uf(e,t,n){var r=e.getContentState(),i=null!=n?n:r.getActiveZone().getZoneId(),o=r.getZoneState(i);if(!o)return null;var a=Ff(e,i,t)||{},l=a.listId,s=void 0===l?"":l,u=a.listType,c=void 0===u?"":u,d=Cf.exec(c);return d?{zoneId:i,listId:s,lineNum:t,order:parseInt(o.getLine(t).getLineAttributes().toMap().start,10),level:parseInt(d[2],10)}:null}function Kf(e,t,n,r,i){var o,a=t.start,l=e.getContentState().getZoneState(a.zoneId),s=[];if(!l)return s;var u=/(number)([0-9]+)/,c=l.length(),d=((o={})[bf.UP]=-1,o[bf.DOWN]=1,o);for(n+=d[i];n>=0&&n<=c;n+=d[i]){var f=Ff(e,a.zoneId,n)||{},h=f.listType,p=void 0===h?"":h,g=f.listId,v=void 0===g?"":g;if(u.exec(p)){if(v!==r)break;s.push(n)}}return s}function Yf(e){if(e instanceof HTMLElement){var t=e.dataset.list||"",n=/(number|bullet|check|done|indent)(\d+)/;if(n.test(t)){var r=n.exec(t),i=r[1],o=Number(r[2]);return"number"===i?{type:"ol",level:o}:"indent"===i?{type:"div",level:o}:{type:"ul",level:o}}}throw new Error("unkonw list node")}function Gf(e){return e.split("number")[1]}function Vf(e){return e.split("bullet")[1]}var Qf=["decimal","lower-alpha","lower-roman"],Xf=["disc","circle","square"];var qf=function(e,t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=!1);var o=e.getContentState().getZoneState(t).getLine(n).getAttributes();return pf(r,o,i?ef:function(e,t){return e[0]===t[0]}).length<=0};function Jf(e,t,n){var r=e.get(t);if(r instanceof ae){var i=r.ops[0],o=new ae({zoneId:t});"*"===i.insert&&i.attributes&&i.attributes.lmkr?o.retain(1,as(as({},i.attributes),n)):o.insertLineMarker(n),e.replace(t,r.compose(o))}}function $f(e){return e&&(e.tagName||"").toLowerCase()}function eh(e,t){var n=""+e;switch(t%3){case 0:n=Tf(e);break;case 2:n=Sf(e)}return n}var th,nh=Tc.isEdge,rh=Tc.isAndroid&&!Tc.isX5,ih=["align","heading","aceTable","list","blockquote","lmkr","origin-start","insertorder","text-indent","start","origin-start","lang"],oh="horizontal-line";!function(e){e.heading="heading",e.blockQuote="blockQuote",e.ul="ul",e.ol="ol",e.codeBlock="codeBlock",e.checkbox="checkbox",e.horizontal="horizontal",e.bold="bold",e.inlineCode="inlineCode",e.italic="italic",e.underline="underline",e.strikethrough="strikethrough"}(th||(th={}));var ah=function(){function e(e){var t=this;this.options=e,this.name="Markdown",this.isMarkdownMatch=!1,this.markdownMap={heading:{regExp:/^(#{1,3}\s)(\S*|\S+[\s\S]*)$/,match:function(e){var t=this.regExp.exec(e);return t?{key:"heading",value:"h"+(t[1].length-1),type:"line",replaceLen:t[1].length,active:"heading-h"+(t[1].length-1)}:null}},blockQuote:{regExp:/^(>\s)(\S*|\S+[\s\S]*)$/,match:function(e){var t=this.regExp.exec(e);return t?{key:"blockquote",value:"true",type:"line",replaceLen:t[1].length,active:"reference"}:null}},ul:{regExp:/^([*]+\s)(\S*|\S+[\s\S]*)$|^([-]+\s)(\S*|\S+[\s\S]*)$/,match:function(e){var t=this.regExp.exec(e);if(!t)return null;var n=t[1]||t[3];return{key:"list",value:"bullet"+(n.length-1),type:"line",replaceLen:n.length,active:"list-bullet"}}},ol:{regExp:/^([1-9][0-9]*\.\s)(\S*|\S+[\s\S]*)$/,match:function(e){var t=this.regExp.exec(e);return t?{key:"list",value:"number1",type:"line",replaceLen:t[1].length,start:parseInt(t[1],10),active:"list-number"}:null}},checkbox:{regExp:/^((\[\]\s)|(\u3010\u3011\s))(\S*|\S+[\s\S]*)$/,match:function(e){var t=this.regExp.exec(e);return t?{key:"list",value:"check1",type:"line",replaceLen:t[1].length,active:"checkbox"}:null}},horizontal:{regExp:/^---$|^\*\*\*$/,match:function(e){var t=this.regExp.exec(e);return t?{name:oh,value:"true",type:"inline",replaceRight:!1,execLen:3,replaceLen:t[0].length,startReplacePos:t.index,endReplacePos:t.index+t[0].length,textLen:0,active:"insertseparator"}:null},doInsert:function(e){e.editor.execCommand(oh)}},bold:{regExp:/\*\*(\S+.*\S+)\*\*\s/,match:function(e){var t=this.regExp.exec(e);if(!t)return null;var n=t[1];return n&&/[^_|^*]/.test(n)?{type:"inline",name:"bold",value:"true",replaceRight:!0,execLen:2,replaceLen:t.index+n.length+5,startReplacePos:t.index,endReplacePos:t.index+n.length,textLen:n.length,active:"bold"}:null}},italic:{regExp:/(\*+)(\S+.*\S+)(\*+)\s/,match:function(e){var t=this.regExp.exec(e);if(!t)return null;var n=t[1],r=t[2];return!r||n.length>1||!/[^_|^*]/.test(r)?null:{type:"inline",name:"italic",value:"true",replaceRight:!0,execLen:1,replaceLen:t.index+r.length+3,startReplacePos:t.index,endReplacePos:t.index+r.length,textLen:r.length,active:"italic"}}},underline:{regExp:/(~+)(\S+.*\S+)(~+)\s/,match:function(e){var t=this.regExp.exec(e);if(!t)return null;var n=t[1],r=t[2];return!r||n.length>1||!/[^~]/.test(r)?null:{type:"inline",name:"underline",value:"true",replaceRight:!0,execLen:1,replaceLen:t.index+r.length+3,startReplacePos:t.index,endReplacePos:t.index+r.length,textLen:r.length,active:"underline"}}},strikethrough:{regExp:/~~(\S+.*\S+)~~\s/,match:function(e){var t=this.regExp.exec(e);if(!t)return null;var n=t[1];return n&&/[^~]/.test(n)?{type:"inline",name:"strikethrough",value:"true",replaceRight:!0,execLen:2,replaceLen:t.index+n.length+5,startReplacePos:t.index,endReplacePos:t.index+n.length,textLen:n.length,active:"strikethrough"}:null}}},this.handleInput=function(e){t.isMarkdownMatch&&" "===e.data&&(e.preventDefault(),e.nativeEvent.stopImmediatePropagation(),t.isMarkdownMatch=!1)},this.handleKeyEventWithBatchUndo=function(e){var n=e.evt;t.editor.undoModule.batchedUndo((function(){return t.handleKeyEvent({evt:n})}))},this.handleKeyEvent=function(e){var n,r,i,o,a,l,s,u,c,d=e.evt,f=t.editor,h=d.keyCode,p=d.key,g=d.type,v=f.getStatus("isComposing"),m=90===h;if(!(t.options.markdownOptions.ignoreFirstLine&&t.inTitleLine()||!f.selection.getSelection().isCollapsed())){var b,y=!v&&t.lastInternationalComposition&&Tc.isSafari;if(" "===p&&(v||y)&&"keydown"===g)return t.shouldContinue=!1,!1;if("keyup"===g&&!t.shouldContinue)return t.shouldContinue=!0,!1;t.lastInternationalComposition=v;var w,I="";if(t.lastKeydownStatus=t.keydownStatus,t.keydownStatus=t.isInKeydownStatusWithoutKeycode(d),!Tc.isSafari&&t.keydownStatus)return!1;if(!nh&&v)return!1;if(v&&nh&&"keyup"!==g)return!1;if(m)return!1;if(h>=65&&h<=90)return!1;if(d.nativeEvent.which>=37&&d.nativeEvent.which<=40)return!1;if(!t.isSpecialKey(d)&&!(32===h||" "===p))return!1;if(8===h)return!1;var C=f.selection.getSelection(),k=C.start,E=C.end,x=k.zoneId,M=E.offset,S="";if((!t.keydownStatus&&t.lastKeydownStatus||Tc.isX5)&&"keyup"===g){if(null===k)return!1;if(f.flushInput(),w=(L=f.selection.getSelection().start).line,t.getLineListType(L.zoneId,w).indexOf("code")>-1)return;if((b=null===(i=f.getContentState().getZoneState(L.zoneId))||void 0===i?void 0:i.getLine(w))&&(nh&&v||Tc.isMobile)){var T=b.getText();I=T.slice(0,T.length-1)}}else{var A=f.selection.getSelection().start;if("keydown"!==g||null===A||Tc.isX5)return!1;f.flushInput();var N=f.selection.getSelection(),L=N.start,D=N.end;if(!D)return!1;if(M=D.offset,w=L.line,t.getLineListType(L.zoneId,w).indexOf("code")>-1||!f.selection.getSelection().isCollapsed())return;var z=D.offset;I=(b=null===(o=f.getContentState().getZoneState(L.zoneId))||void 0===o?void 0:o.getLine(w))?b.getText().substr(0,z-(b.hasLineMarker()?1:0))+S:"",t.isInKeydownStatusWithoutKeycode(d)&&I.endsWith(p)||(S="spacebar"===p.toLowerCase()?" ":p),I+=S}for(var O in t.markdownMap)if(t.markdownMap.hasOwnProperty(O)){var R=t.markdownMap[O],_=R.match(I);if(_){if(t.isMarkdownMatch=!0,nh&&v){f.flushInput();var j=f.selection.getSelection(),P=j.start,B=j.end;b=null===(a=f.getContentState().getZoneState(P.zoneId))||void 0===a?void 0:a.getLine(w),M=B.offset}S&&(d.preventDefault(),t.editor.undoModule.batchedUndo((function(){t.performText(S)})),S="");var F=f.selection.getSelection(),H=F.start,Z=F.end,W=(null==b?void 0:b.hasLineMarker())?1:0,U=W+_.replaceLen,K=Z.offset>U&&U>M;if(U!==Z.offset&&!K)continue;if("line"===_.type){var Y=null===(s=null===(l=f.getContentState().getZoneState(H.zoneId))||void 0===l?void 0:l.getLine(w))||void 0===s?void 0:s.getLineAttributes().toMap()[_.key];if(!Y||Y&&Y!==_.value){var G=f.selection.getSelection().start.zoneId,V=f.pluginManager.getPlugin("List"),Q={start:{line:w,offset:W,zoneId:G},end:{line:w,offset:W+_.replaceLen,zoneId:G}},X=f.getContentState(),q=X.getEntities(Q).reduce((function(e,t){return as(as({},e),t.attributes)}),{});if(X.deleteText(Q),X.setAttributes({start:Q.start,end:Q.start},q),_.value.indexOf("code")>-1)console.log("todo editor.setLineListType",{zoneId:G,line:w,markdownMatch:_.value});else if(_.start){if(($=t.getTabLevel(_.value,f,w))&&(_.value="number"+$,f.getContentState().setLineAttributes(G,w,{"text-indent":""})),!V)return;var J=Bf(f,f.selection.getSelection(),w);V.bulkInsertOList(G,[w],((r={})[w]=J,r),_.start)}else{var $;if($=t.getTabLevel(_.value,f,w)){var ee=$+_.replaceLen-2;_.value="bullet"+ee,f.getContentState().setLineAttributes(G,w,{"text-indent":""})}f.getContentState().setLineAttributes(G,w,((n={})[_.key]=_.value,n))}}}else if("inline"===_.type){var te=(null===(c=null===(u=f.getContentState().getZoneState(x))||void 0===u?void 0:u.getLine(w))||void 0===c?void 0:c.hasLineMarker())?1:0,ne=[w,te+_.startReplacePos],re=[w,te+_.endReplacePos];f.getContentState().deleteText({start:{line:w,offset:ne[1],zoneId:x},end:{line:w,offset:ne[1]+_.execLen,zoneId:x}}),_.replaceRight?(f.getContentState().deleteText({start:{line:w,offset:re[1],zoneId:x},end:{line:w,offset:re[1]+_.execLen,zoneId:x}}),f.toggleAttribute(_.name,"true",new wt({editor:f,start:{line:w,offset:te+_.startReplacePos,zoneId:x},end:{line:w,offset:te+_.startReplacePos+_.textLen,zoneId:x}}))):R.doInsert&&R.doInsert({editor:f})}return}}}},this.getLineListType=function(e,n){return t.getLineAttributes(e,n,"list")},this.getLineAttributes=function(e,n,r){var i,o=null===(i=t.editor.getContentState().getZoneState(e))||void 0===i?void 0:i.getLine(n);return o&&o.getLineAttributes().toMap()[r]||""};var n=e.editor,r=e.markdownOptions,i=r.markdownMap,o=void 0===i?{}:i;this.shouldContinue=!0,this.lastInternationalComposition=!1,this.lastKeydownStatus=!1,this.keydownStatus=!1,this.markdownMap=bc(as(as({},this.markdownMap),o),r.types),this.editor=n,this.editor.on("keydown",this.handleKeyEventWithBatchUndo),this.editor.on("keyup",this.handleKeyEventWithBatchUndo),Tc.isSafari&&n.on("beforeinput",this.handleInput)}var t=e.prototype;return t.destroy=function(){this.editor.off("keydown",this.handleKeyEventWithBatchUndo),this.editor.off("keyup",this.handleKeyEventWithBatchUndo),Tc.isSafari&&this.editor.off("beforeinput",this.handleInput)},t.inTitleLine=function(){var e=this.editor.selection.getSelection().start;return 0===e.line&&"0"===e.zoneId},t.isSpecialKey=function(e){var t=e.key,n=e.keyCode;if(!e.nativeEvent)return!1;var r=e.nativeEvent.code,i=this.editor;if(!i)return!1;if((nh&&i.getStatus("isComposing")||rh)&&229===n)return!0;var o=e.metaKey||e.ctrlKey;return"~"===t||"`"===t||192===n||("*"===t||"8"===t)&&!o||("-"===t||189===n||"Minus"===r)},t.isInKeydownStatusWithoutKeycode=function(e){var t="keydown"===e.type,n=229===e.keyCode;return t&&n},t.getTabLevel=function(e,t,n){var r=/bullet[0-9]+/.exec(e),i=t.getContentState().getActiveZone().getZoneId();if(!r&&!("number1"===e))return!1;var o=this.getLineAttributes(i,n,"text-indent");if(!o)return!1;var a=/([a-z]+)([0-9]+)/.exec(this.getLineListType(i,n)),l=0;return a&&(l=Number(a[2])),o&&(l+=2),l},t.performText=function(e){for(var t=this.editor,n=t.getContentState(),r=t.selection.getSelection(),i=r.start,o=r.end,a=o.offset,l=1===a?[]:n.getAttributes(as(as({},o),{offset:a-1}),as(as({},o),{offset:a-1})),s={},u=0;u<l.length;++u)ih.includes(l[u][0])||(s[l[u][0]]=l[u][1]);n.replaceText({start:i,end:o},e,s,{type:""})},e}();function lh(e,t,n){var r=n.value;n.value=function(e){var t=e.children;return e.attributes.lmkr?t:r.apply(this,[e])}}var sh=function(e){function t(t){var n=t.editor,r=e.call(this)||this;return r.name="Bold",r.editor=n,r}os(t,e);var n=t.prototype;return n.match=function(e){return e===t.KEY},n.render=function(e){var t=e.children;return e.style.fontWeight="bold",t},t.KEY="bold",ss([lh],t.prototype,"render",null),t}(Er),uh=function(e){function t(n){var r=e.call(this,n)||this;r.handleInput=function(e){"formatBold"===e.inputType&&(e.preventEvent(),e.preventDefault(),e.stopEvent(),r.editor.toggleAttribute(t.KEY))};var i=r.editor;return i.registerCommand(t.KEY,(function(){i.toggleAttribute(t.KEY)})),i.on(Lt.INPUT,r.handleInput),r}os(t,e);var n=t.prototype;return n.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;return t&&t instanceof HTMLElement&&function(e){var t=e.tagName,n=e.getAttribute("style")||"";return"B"===t||"STRONG"===t||/\bfont-weight:\s*bold\b/i.test(n)}(t)?fi(n,r,{bold:"true"},!1):n},n.serialize=function(e){return gi(e,{tagAttribute:"bold",wrapTag:Dr.bold})},t}(sh),ch=function(e,t,n,r){var i,o,a,l;void 0===n&&(n=""),void 0===r&&(r=!1);var s=e.selection.getSelection(),u=s.start,c=s.end,d=Math.min(u.line,c.line),f=Math.max(u.line,c.line);if(r){for(var h="",p=d;p<=f;p++){e.getContentState().getLineAttributes(u.zoneId,p).toMap()[t]!==n&&(h=n)}for(p=d;p<=f;p++)e.getContentState().setLineAttributes(u.zoneId,p,((i={})[t]=h,i))}else{h="";var g=e.getContentState().getEntities({start:u,end:c});try{for(var v=ds(g),m=v.next();!m.done;m=v.next()){m.value.attributes[t]!==n&&(h=n)}}catch(e){o={error:e}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}e.getContentState().setAttributes({start:u,end:c},((l={})[t]=h,l))}},dh=function(e){function t(n){var r=n.editor,i=e.call(this)||this;return i.name="Align",r.registerCommand(t.KEY,(function(e){var n=e.value;ch(r,t.KEY,n,!0)})),i}os(t,e);var n=t.prototype;return n.renderLine=function(e){var n=e.lineState,r=e.children,i=n.getLineAttributes().toMap()[t.KEY];return i&&(e.lineClass+=" align-"+i),r},n.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=/(?:^| )align-(\S+)/.exec(t.className),o=void 0;if(i&&(o=i[1]),!i&&["left","center","right"].includes(t.style.textAlign)&&(o=t.style.textAlign),o)return hi(n,r,{align:o},!1)}return n},n.serialize=function(e){var t=e.type,n=e.node,r=e.lineAttributes,i=r&&r.align;if(t===Tr.LINE&&i)if(n instanceof HTMLElement)n.style["text-align"]=i;else{var o=document.createElement("div");o.appendChild(n),o.style["text-align"]=i,e.node=o}return e},t.KEY="align",ss([ga(1002)],t.prototype,"serialize",null),t}(Er);const fh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tagName=la.TEXT,t}return h(t,e),t}(fa);var hh=function(e){function t(n){var r=n.editor,i=n.customizedAttributeKey,o=e.call(this)||this;return o.name="BackgroundColor",o.attributeKey=i||t.KEY,r.registerCommand(o.attributeKey,(function(e){var t=e.value;r.toggleAttribute(o.attributeKey,t)})),o}os(t,e);var n=t.prototype;return n.match=function(e){return e===this.attributeKey},n.render=function(e){var t=e.attributes,n=e.children,r={};return t[this.attributeKey]&&(r.backgroundColor=t[this.attributeKey]),i.createElement(fh,{style:r},n)},n.deserialize=function(e){var t,n=e.node,r=e.deltaSet,i=e.zoneId;return n instanceof HTMLElement&&n.style.backgroundColor?fi(r,i,((t={})[this.attributeKey]=n.style.backgroundColor,t),!1):r},n.serialize=function(e){var t=e.type,n=e.node,r=e.op;if(r&&r.attributes){var i=r.attributes[this.attributeKey];if(t===Tr.LEAF&&i){var o=document.createElement("span");return o.appendChild(n),o.style["background-color"]=i,Object.assign(e,{node:o})}}return e},t.KEY="backgroundcolor",ss([ga(9998)],t.prototype,"render",null),t}(Er),ph=function(e){function t(n){var r=e.call(this,n)||this;r.handleInput=function(e){"formatItalic"===e.inputType&&(e.preventEvent(),e.preventDefault(),e.stopEvent(),r.editor.toggleAttribute(t.KEY))};var i=r.editor;return i.registerCommand(t.KEY,(function(){i.toggleAttribute(t.KEY)})),i.on(Lt.INPUT,r.handleInput),r}os(t,e);var n=t.prototype;return n.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.tagName,o=t.getAttribute("style")||"";if("I"===i||"EM"===i||/\bfont-style:\s*italic\b/i.test(o))return fi(n,r,{italic:"true"},!1)}return n},n.serialize=function(e){return gi(e,{tagAttribute:"italic",wrapTag:Dr.italic})},t}(function(e){function t(t){var n=t.editor,r=e.call(this)||this;return r.name="Italic",r.editor=n,r}os(t,e);var n=t.prototype;return n.match=function(e){return e===t.KEY},n.render=function(e){var t=e.children;return e.style.fontStyle="italic",t},t.KEY="italic",ss([lh],t.prototype,"render",null),t}(Er)),gh=function(e){function t(n){var r=e.call(this,n)||this;r.handleInput=function(e){"formatUnderline"===e.inputType&&(e.preventEvent(),e.preventDefault(),e.stopEvent(),r.editor.toggleAttribute(t.KEY))};var i=r.editor;return i.registerCommand(t.KEY,(function(){i.toggleAttribute(t.KEY)})),i.on(Lt.INPUT,r.handleInput),r}os(t,e);var n=t.prototype;return n.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.tagName,o=t.getAttribute("style")||"";if("U"===i||/\btext-decoration:\s*underline\b/i.test(o))return fi(n,r,{underline:"true"},!1)}return n},n.serialize=function(e){return gi(e,{tagAttribute:t.KEY,wrapTag:Dr[t.KEY]})},t}(function(e){function t(t){var n=t.editor,r=e.call(this)||this;return r.name="Underline",r.editor=n,r}os(t,e);var n=t.prototype;return n.match=function(e){return e===t.KEY},n.render=function(e){var t=e.children,n=e.style,r=n.textDecoration||"";return n.textDecoration=r+" underline",t},t.KEY="underline",ss([lh],t.prototype,"render",null),t}(Er)),vh=function(e){function t(n){var r=e.call(this,n)||this;r.handleInput=function(e){"formatStrikeThrough"===e.inputType&&(e.preventEvent(),e.preventDefault(),e.stopEvent(),r.editor.toggleAttribute(t.KEY))};var i=r.editor;return i.registerCommand(t.KEY,(function(){i.toggleAttribute(t.KEY)})),i.on(Lt.INPUT,r.handleInput),r}os(t,e);var n=t.prototype;return n.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.tagName,o=t.getAttribute("style")||"";if("S"===i||/\btext-decoration:([^;]*?\s|\s*)line-through\b/i.test(o))return fi(n,r,{strikethrough:"true"},!1)}return n},n.serialize=function(e){return gi(e,{tagAttribute:"strikethrough",wrapTag:Dr.strikethrough})},t}(function(e){function t(t){var n=t.editor,r=e.call(this)||this;return r.name="Strikethrough",r.editor=n,r}os(t,e);var n=t.prototype;return n.match=function(e){return e===t.KEY},n.render=function(e){var t=e.children,n=e.style,r=n.textDecoration||"";return n.textDecoration=r+" line-through",t},t.KEY="strikethrough",ss([lh],t.prototype,"render",null),t}(Er));const mh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tagName=la.VIEW,t.option={viewportEventEnabled:!0,selectEventEnabled:!0},t}return h(t,e),t}(fa);var bh="#646a73",yh="#bbbfc4";var wh,Ih=i.createElement(mh,{style:{paddingLeft:"12px",color:"var(--text-caption, #646a73)",borderLeft:"2px solid var(--udtoken-quote-bar-bg, #bbbfc4)"},className:"blockquote"}),Ch=function(e){function t(n){var r=n.editor,i=e.call(this)||this;return i.name="Blockquote",r.registerCommand(t.KEY,(function(e){var n=e.value;ch(r,t.KEY,n,!0)})),i}os(t,e);var n=t.prototype;return n.renderWrapper=function(){return Ih},n.match=function(e){return e===t.KEY},n.editorWillDoReturnKey=function(e){var n=e.delta,r=e.editor,i=r.getContentState().getActiveZone(),o=i.getZoneId(),a=r.selection.getSelection(),l=a.toPosition(),s=l.start,u=l.len,c=i.getLine(a.start.line);if(c){var d=c.getLineAttributes().toMap(),f=c.isTextEmpty();if(!n.ops.length&&d[t.KEY]&&!u){var h=new ae({zoneId:o});f?(d.blockquote="",h.retain(s-1).retain(1,d)):h.retain(s).insertEnter().insertLineMarker(d),e.delta=n.compose(h)}}},n.editorWillDoDeleteKey=function(e){var n=e.deltaSet,r=e.editor,i=r.getContentState().getActiveZone(),o=i.getZoneId(),a=r.selection.getSelection(),l=i.getLine(a.start.line);if(l){var s=l.getLineAttributes().toMap(),u=a.toPosition(),c=u.start,d=u.len,f=1===a.start.offset;if(!n.get(o).ops.length&&s[t.KEY]&&f&&!d){s[t.KEY]="";var h=new ae({zoneId:o}).retain(c-1).retain(1,s);e.deltaSet=n.compose(h)}}},n.serialize=function(e){return mi(e,{tagAttribute:t.KEY,wrapNodesInfo:[{tag:t.KEY,style:as(as({},{paddingLeft:"12px",color:"var(--text-caption, #646a73)",borderLeft:"2px solid var(--udtoken-quote-bar-bg, #bbbfc4)"}),{margin:"0px",paddingLeft:"0px",color:bh,borderLeft:"2px solid "+yh})}]})},n.deserialize=function(e){var n=e.node,r=e.deltaSet,i=e.zoneId;if(n instanceof HTMLElement){var o=n.className,a=n.tagName;if(o.indexOf(t.KEY)>-1||"BLOCKQUOTE"===a)return hi(r,i,{blockquote:"true"})}return r},t.KEY="blockquote",t.isFormatter=!0,t.isLineAttribute=!0,ss([ga(1003)],t.prototype,"serialize",null),t}(Er),kh={1:"xx-small",2:"x-small",3:"small",4:"medium",5:"large",6:"x-large",7:"xx-large"},Eh=function(e){function t(n){var r=n.editor,i=e.call(this)||this;return i.name="FontSize",r.registerCommand(t.KEY,(function(e){var n=e.value;r.toggleAttribute(t.KEY,n)})),i}os(t,e);var n=t.prototype;return n.match=function(e){return e===t.KEY},n.render=function(e){var n=e.attributes,r=e.children,i={};return n[t.KEY]&&(i.fontSize=n[t.KEY],e.style=as(as({},e.style),i)),r},n.deserialize=function(e){var n,r=e.node,i=e.deltaSet,o=e.zoneId;if(r instanceof HTMLElement){var a=function(e){var t=e.tagName,n=e.style.fontSize;return n||"FONT"!==t||(n=kh[Number(e.getAttribute("size"))]),n}(r);if(a)return fi(i,o,((n={})[t.KEY]=a,n),!1)}return i},n.serialize=function(e){var n=e.type,r=e.node,i=e.op;if(null==i?void 0:i.attributes){var o=i.attributes[t.KEY];if(n===Tr.LEAF&&o){var a=document.createElement("span");return a.appendChild(r),a.style.fontSize=o,Object.assign(e,{node:a})}}return e},t.KEY="fontsize",ss([lh],t.prototype,"render",null),t}(Er),xh={24:"h1",20:"h2",18:"h3"},Mh=function(e){function t(n){var r=n.editor,i=e.call(this)||this;return i.name="Heading",i.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.tagName,o=t.className,a=t.getAttribute("style")||"",l=function(e,t,n){var r=/(?:^| )heading-(\S+)/.exec(t);if(/^h\d+$/.test(e))return e;if(r)return r[1];var i=/font-size: (\d+)px/.exec(n);return n&&(n.indexOf("font-weight: bold;")>-1||n.indexOf("font-weight: 700;")>-1)&&i&&xh[i[1]]?xh[i[1]]:null}(i.toLowerCase(),o,a);if(l)return hi(n,r,{heading:l})}return n},i.editorWillPaste=function(e){var t=e.deltaSet,n=e.zoneId,r=i.editor,o=r.selection.getSelection().start,a=r.getContentState().getZoneState(n);if(a){var l=a.getLine(o.line);if(l){if(l.isTextEmpty())return t;var s=t.get(n),u=s.ops[0];if(!u||!u.attributes||!u.attributes.heading)return t;var c=s.reduce((function(e,t,n){return 0===n?e:e.push(t)}),new ae({zoneId:n}));return t.replace(n,c)}}},i.editor=r,r.registerCommand(t.KEY,(function(e){var n=e.value;ch(r,t.KEY,n,!0)})),i}os(t,e);var n=t.prototype;return n.renderLine=function(e){var n=e.lineState,r=e.children,i=n.getLineAttributes().toMap()[t.KEY];return i&&(e.lineClass+=" heading-"+i),r},n.serialize=function(e){var n=e.type,r=e.node,i=e.lineAttributes,o=i&&i[t.KEY];if(n===Tr.LINE&&o){var a=function(e){return Number(e.match(/\d+/)[0])}(o)<=6?document.createElement(o):document.createElement("span");a.appendChild(r),a.classList.add("heading-"+o),e.node=a}return e},n.editorWillDoReturnKey=function(e){var n=e.delta,r=e.editor,i=r.selection.getSelection(),o=r.getContentState().getActiveZone(),a=o.getZoneId(),l=o.getLine(i.start.line);if(l){var s=l.getLineAttributes().toMap(),u=i.toPosition(),c=u.start,d=u.len;if(s[t.KEY]&&!d)if(i.end.offset===l.length()-1){var f=e.delta.ops.filter((function(e){var t;return null===(t=e.attributes)||void 0===t?void 0:t.lmkr}));if(f.length>0)f[0].attributes&&(f[0].attributes.heading="");else{s.heading="";var h=new ae({zoneId:a}).retain(c).insertEnter().insertLineMarker(s);e.delta=n.compose(h)}}}},n.editorWillDoDeleteKey=function(e){var n=e.deltaSet,r=e.editor,i=r.selection.getSelection(),o=r.getContentState().getActiveZone(),a=o.getZoneId(),l=o.getLine(i.start.line);if(l){var s=l.previousSibling(),u=l.getLineAttributes().toMap(),c=i.toPosition(),d=c.start,f=c.len,h=1===i.start.offset;if(s&&!f&&u[t.KEY]&&h){var p=Number(s.hasLineMarker()),g=s.isEmpty(),v=s.getLineAttributes().toMap(),m=Object.keys(v).find((function(e){return!["author","lmkr","insertorder","lineguid","align"].includes(e)})),b=n.get(a).ops.length;if(!m&&g&&!b){var y=new ae({zoneId:a});p?y.retain(d-3).retain(1,as(as({},v),{heading:u[t.KEY]})).delete(2):y.retain(d-2).insertLineMarker(as(as({},v),{heading:u[t.KEY]})).delete(2),e.deltaSet=n.compose(y)}}}},t.KEY="heading",t}(Er),Sh={black:{HEX:"#000000",RGB:"rgb(0,0,0)"},silver:{HEX:"#C0C0C0",RGB:"rgb(192,192,192)"},gray:{HEX:"#808080",RGB:"rgb(128,128,128)"},white:{HEX:"#FFFFFF",RGB:"rgb(255,255,255)"},maroon:{HEX:"#800000",RGB:"rgb(128,0,0)"},red:{HEX:"#FF0000",RGB:"rgb(255,0,0)"},purple:{HEX:"#800080",RGB:"rgb(128,0,128)"},fuchsia:{HEX:"#FF00FF",RGB:"rgb(255,0,255)"},green:{HEX:"#008000",RGB:"rgb(0,128,0)"},lime:{HEX:"#00FF00",RGB:"rgb(0,255,0)"},olive:{HEX:"#808000",RGB:"rgb(128,128,0)"},yellow:{HEX:"#FFFF00",RGB:"rgb(255,255,0)"},navy:{HEX:"#000080",RGB:"rgb(0,0,128)"},blue:{HEX:"#0000FF",RGB:"rgb(0,0,255)"},teal:{HEX:"#008080",RGB:"rgb(0,128,128)"},aqua:{HEX:"#00FFFF",RGB:"rgb(0,255,255)"},aliceblue:{HEX:"#F0F8FF",RGB:"rgb(240,248,255)"},antiquewhite:{HEX:"#FAEBD7",RGB:"rgb(250,235,215)"},aquamarine:{HEX:"#7FFFD4",RGB:"rgb(127,255,212)"},azure:{HEX:"#F0FFFF",RGB:"rgb(240,255,255)"},beige:{HEX:"#F5F5DC",RGB:"rgb(245,245,220)"},bisque:{HEX:"#FFE4C4",RGB:"rgb(255,228,196)"},blanchedalmond:{HEX:"#FFEBCD",RGB:"rgb(255,235,205)"},blueviolet:{HEX:"#8A2BE2",RGB:"rgb(138,43,226)"},brown:{HEX:"#A52A2A",RGB:"rgb(165,42,42)"},burlywood:{HEX:"#DEB887",RGB:"rgb(222,184,135)"},cadetblue:{HEX:"#5F9EA0",RGB:"rgb(95,158,160)"},chartreuse:{HEX:"#7FFF00",RGB:"rgb(127,255,0)"},chocolate:{HEX:"#D2691E",RGB:"rgb(210,105,30)"},coral:{HEX:"#FF7F50",RGB:"rgb(255,127,80)"},cornflowerblue:{HEX:"#6495ED",RGB:"rgb(100,149,237)"},cornsilk:{HEX:"#FFF8DC",RGB:"rgb(255,248,220)"},crimson:{HEX:"#DC143C",RGB:"rgb(220,20,60)"},cyan:{HEX:"#00FFFF",RGB:"rgb(0,255,255)"},darkblue:{HEX:"#00008B",RGB:"rgb(0,0,139)"},darkcyan:{HEX:"#008B8B",RGB:"rgb(0,139,139)"},darkgoldenrod:{HEX:"#B8860B",RGB:"rgb(184,134,11)"},darkgray:{HEX:"#A9A9A9",RGB:"rgb(169,169,169)"},darkgreen:{HEX:"#006400",RGB:"rgb(0,100,0)"},darkgrey:{HEX:"#A9A9A9",RGB:"rgb(169,169,169)"},darkkhaki:{HEX:"#BDB76B",RGB:"rgb(189,183,107)"},darkmagenta:{HEX:"#8B008B",RGB:"rgb(139,0,139)"},darkolivegreen:{HEX:"#556B2F",RGB:"rgb(85,107,47)"},darkorange:{HEX:"#FF8C00",RGB:"rgb(255,140,0)"},darkorchid:{HEX:"#9932CC",RGB:"rgb(153,50,204)"},darkred:{HEX:"#8B0000",RGB:"rgb(139,0,0)"},darksalmon:{HEX:"#E9967A",RGB:"rgb(233,150,122)"},darkseagreen:{HEX:"#8FBC8F",RGB:"rgb(143,188,143)"},darkslateblue:{HEX:"#483D8B",RGB:"rgb(72,61,139)"},darkslategray:{HEX:"#2F4F4F",RGB:"rgb(47,79,79)"},darkslategrey:{HEX:"#2F4F4F",RGB:"rgb(47,79,79)"},darkturquoise:{HEX:"#00CED1",RGB:"rgb(0,206,209)"},darkviolet:{HEX:"#9400D3",RGB:"rgb(148,0,211)"},deeppink:{HEX:"#FF1493",RGB:"rgb(255,20,147)"},deepskyblue:{HEX:"#00BFFF",RGB:"rgb(0,191,255)"},dimgray:{HEX:"#696969",RGB:"rgb(105,105,105)"},dimgrey:{HEX:"#696969",RGB:"rgb(105,105,105)"},dodgerblue:{HEX:"#1E90FF",RGB:"rgb(30,144,255)"},firebrick:{HEX:"#B22222",RGB:"rgb(178,34,34)"},floralwhite:{HEX:"#FFFAF0",RGB:"rgb(255,250,240)"},forestgreen:{HEX:"#228B22",RGB:"rgb(34,139,34)"},gainsboro:{HEX:"#DCDCDC",RGB:"rgb(220,220,220)"},ghostwhite:{HEX:"#F8F8FF",RGB:"rgb(248,248,255)"},gold:{HEX:"#FFD700",RGB:"rgb(255,215,0)"},goldenrod:{HEX:"#DAA520",RGB:"rgb(218,165,32)"},greenyellow:{HEX:"#ADFF2F",RGB:"rgb(173,255,47)"},grey:{HEX:"#808080",RGB:"rgb(128,128,128)"},honeydew:{HEX:"#F0FFF0",RGB:"rgb(240,255,240)"},hotpink:{HEX:"#FF69B4",RGB:"rgb(255,105,180)"},indianred:{HEX:"#CD5C5C",RGB:"rgb(205,92,92)"},indigo:{HEX:"#4B0082",RGB:"rgb(75,0,130)"},ivory:{HEX:"#FFFFF0",RGB:"rgb(255,255,240)"},khaki:{HEX:"#F0E68C",RGB:"rgb(240,230,140)"},lavender:{HEX:"#E6E6FA",RGB:"rgb(230,230,250)"},lavenderblush:{HEX:"#FFF0F5",RGB:"rgb(255,240,245)"},lawngreen:{HEX:"#7CFC00",RGB:"rgb(124,252,0)"},lemonchiffon:{HEX:"#FFFACD",RGB:"rgb(255,250,205)"},lightblue:{HEX:"#ADD8E6",RGB:"rgb(173,216,230)"},lightcoral:{HEX:"#F08080",RGB:"rgb(240,128,128)"},lightcyan:{HEX:"#E0FFFF",RGB:"rgb(224,255,255)"},lightgoldenrodyellow:{HEX:"#FAFAD2",RGB:"rgb(250,250,210)"},lightgray:{HEX:"#D3D3D3",RGB:"rgb(211,211,211)"},lightgreen:{HEX:"#90EE90",RGB:"rgb(144,238,144)"},lightgrey:{HEX:"#D3D3D3",RGB:"rgb(211,211,211)"},lightpink:{HEX:"#FFB6C1",RGB:"rgb(255,182,193)"},lightsalmon:{HEX:"#FFA07A",RGB:"rgb(255,160,122)"},lightseagreen:{HEX:"#20B2AA",RGB:"rgb(32,178,170)"},lightskyblue:{HEX:"#87CEFA",RGB:"rgb(135,206,250)"},lightslategray:{HEX:"#778899",RGB:"rgb(119,136,153)"},lightslategrey:{HEX:"#778899",RGB:"rgb(119,136,153)"},lightsteelblue:{HEX:"#B0C4DE",RGB:"rgb(176,196,222)"},lightyellow:{HEX:"#FFFFE0",RGB:"rgb(255,255,224)"},limegreen:{HEX:"#32CD32",RGB:"rgb(50,205,50)"},linen:{HEX:"#FAF0E6",RGB:"rgb(250,240,230)"},magenta:{HEX:"#FF00FF",RGB:"rgb(255,0,255)"},mediumaquamarine:{HEX:"#66CDAA",RGB:"rgb(102,205,170)"},mediumblue:{HEX:"#0000CD",RGB:"rgb(0,0,205)"},mediumorchid:{HEX:"#BA55D3",RGB:"rgb(186,85,211)"},mediumpurple:{HEX:"#9370DB",RGB:"rgb(147,112,219)"},mediumseagreen:{HEX:"#3CB371",RGB:"rgb(60,179,113)"},mediumslateblue:{HEX:"#7B68EE",RGB:"rgb(123,104,238)"},mediumspringgreen:{HEX:"#00FA9A",RGB:"rgb(0,250,154)"},mediumturquoise:{HEX:"#48D1CC",RGB:"rgb(72,209,204)"},mediumvioletred:{HEX:"#C71585",RGB:"rgb(199,21,133)"},midnightblue:{HEX:"#191970",RGB:"rgb(25,25,112)"},mintcream:{HEX:"#F5FFFA",RGB:"rgb(245,255,250)"},mistyrose:{HEX:"#FFE4E1",RGB:"rgb(255,228,225)"},moccasin:{HEX:"#FFE4B5",RGB:"rgb(255,228,181)"},navajowhite:{HEX:"#FFDEAD",RGB:"rgb(255,222,173)"},oldlace:{HEX:"#FDF5E6",RGB:"rgb(253,245,230)"},olivedrab:{HEX:"#6B8E23",RGB:"rgb(107,142,35)"},orange:{HEX:"#FFA500",RGB:"rgb(255,165,0)"},orangered:{HEX:"#FF4500",RGB:"rgb(255,69,0)"},orchid:{HEX:"#DA70D6",RGB:"rgb(218,112,214)"},palegoldenrod:{HEX:"#EEE8AA",RGB:"rgb(238,232,170)"},palegreen:{HEX:"#98FB98",RGB:"rgb(152,251,152)"},paleturquoise:{HEX:"#AFEEEE",RGB:"rgb(175,238,238)"},palevioletred:{HEX:"#DB7093",RGB:"rgb(219,112,147)"},papayawhip:{HEX:"#FFEFD5",RGB:"rgb(255,239,213)"},peachpuff:{HEX:"#FFDAB9",RGB:"rgb(255,218,185)"},peru:{HEX:"#CD853F",RGB:"rgb(205,133,63)"},pink:{HEX:"#FFC0CB",RGB:"rgb(255,192,203)"},plum:{HEX:"#DDA0DD",RGB:"rgb(221,160,221)"},powderblue:{HEX:"#B0E0E6",RGB:"rgb(176,224,230)"},rosybrown:{HEX:"#BC8F8F",RGB:"rgb(188,143,143)"},royalblue:{HEX:"#4169E1",RGB:"rgb(65,105,225)"},saddlebrown:{HEX:"#8B4513",RGB:"rgb(139,69,19)"},salmon:{HEX:"#FA8072",RGB:"rgb(250,128,114)"},sandybrown:{HEX:"#F4A460",RGB:"rgb(244,164,96)"},seagreen:{HEX:"#2E8B57",RGB:"rgb(46,139,87)"},seashell:{HEX:"#FFF5EE",RGB:"rgb(255,245,238)"},sienna:{HEX:"#A0522D",RGB:"rgb(160,82,45)"},skyblue:{HEX:"#87CEEB",RGB:"rgb(135,206,235)"},slateblue:{HEX:"#6A5ACD",RGB:"rgb(106,90,205)"},slategray:{HEX:"#708090",RGB:"rgb(112,128,144)"},slategrey:{HEX:"#708090",RGB:"rgb(112,128,144)"},snow:{HEX:"#FFFAFA",RGB:"rgb(255,250,250)"},springgreen:{HEX:"#00FF7F",RGB:"rgb(0,255,127)"},steelblue:{HEX:"#4682B4",RGB:"rgb(70,130,180)"},tan:{HEX:"#D2B48C",RGB:"rgb(210,180,140)"},thistle:{HEX:"#D8BFD8",RGB:"rgb(216,191,216)"},tomato:{HEX:"#FF6347",RGB:"rgb(255,99,71)"},turquoise:{HEX:"#40E0D0",RGB:"rgb(64,224,208)"},violet:{HEX:"#EE82EE",RGB:"rgb(238,130,238)"},wheat:{HEX:"#F5DEB3",RGB:"rgb(245,222,179)"},whitesmoke:{HEX:"#F5F5F5",RGB:"rgb(245,245,245)"},yellowgreen:{HEX:"#9ACD32",RGB:"rgb(154,205,50)"}},Th="\\s*(1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])\\s*",Ah=new RegExp("^rgb\\("+Th+","+Th+","+Th+"\\)$","i"),Nh=new RegExp("^rgba\\("+Th+","+Th+","+Th+",\\s*(0?(?:\\.\\d+)?|(1))\\s*\\)$","i");function Lh(e){var t=e.toLocaleLowerCase().replace(/\s/g,"");return Sh[t]}function Dh(e){return/^#[0-9a-f]{6}$/i.test(e)?wh.HEX:function(e){return/^#[0-9a-f]{8}$/i.test(e)}(e)?wh.HEXRGBA:function(e){return Ah.test(e)}(e)?wh.RGB:function(e){return Nh.test(e)}(e)?wh.RGBA:function(e){return!!Lh(e)}(e)?wh.W3C_COLOR:(console.error("Given color type is wrong"),"")}function zh(e,t){var n=Dh(e);if(!n)return"";if(n===t)return n===wh.RGB||n===wh.RGBA?e.toLowerCase():e.toUpperCase();switch(t){case wh.HEX:return function(e,t){switch(t){case wh.HEXRGBA:return Bh(e);case wh.RGB:return Rh(e);case wh.RGBA:return Rh(jh(e));case wh.W3C_COLOR:return Lh(e)[wh.HEX];default:return""}}(e,n);case wh.HEXRGBA:return function(e,t){switch(t){case wh.HEX:return Ph(e);case wh.RGB:return Ph(Rh(e));case wh.RGBA:return function(e){var t=Nh.exec(e),n=t.slice(1,4).map((function(e){var t=Number(e).toString(16).toUpperCase();return 2!==t.length?"0"+t:t})).join(""),r=(255*Number(t[4])|256).toString(16).slice(1);return"#"+n+r}(e);case wh.W3C_COLOR:return Ph(Lh(e)[wh.HEX]);default:return""}}(e,n);case wh.RGB:return function(e,t){switch(t){case wh.HEX:return Oh(e);case wh.HEXRGBA:return Oh(Bh(e));case wh.RGBA:return jh(e);case wh.W3C_COLOR:return Lh(e)[wh.RGB];default:return""}}(e,n);case wh.RGBA:return function(e,t){switch(t){case wh.HEX:return _h(Oh(e));case wh.HEXRGBA:return function(e){e=e.substr(1);var t=parseInt(e,16);return"rgba("+(t>>24&255)+","+(t>>16&255)+","+(t>>8&255)+","+(255&t)/255+")"}(e);case wh.RGB:return _h(e);case wh.W3C_COLOR:return _h(Lh(e)[wh.RGB]);default:return""}}(e,n);default:return""}}function Oh(e){e=e.substr(1);var t=parseInt(e,16);return"rgb("+(t>>16&255)+","+(t>>8&255)+","+(255&t)+")"}function Rh(e){var t=Ah.exec(e);return t?"#"+t.slice(1,4).map((function(e){var t=Number(e).toString(16).toUpperCase();return 2!==t.length?"0"+t:t})).join(""):(console.error("rgb parse error",JSON.stringify(e)),e)}function _h(e){return("rgba("+Ah.exec(e).slice(1,4).join(",")+",1)").toLocaleLowerCase()}function jh(e){return("rgb("+Nh.exec(e).slice(1,4).join(",")+")").toLocaleLowerCase()}function Ph(e){return(e+"FF").toUpperCase()}function Bh(e){return e.slice(0,-2).toUpperCase()}!function(e){e.RGB="RGB",e.HEX="HEX",e.RGBA="RGBA",e.HEXRGBA="HEXRGBA",e.W3C_COLOR="W3C_COLOR"}(wh||(wh={}));var Fh=function(e){function t(n){var r=n.editor,i=n.colorFormat,o=n.customizedAttributeKey,a=e.call(this)||this;return a.name="FontColor",a.attributeKey=o||t.KEY,t.colorFormat=i||t.colorFormat,r.registerCommand(a.attributeKey,(function(e){var t=e.value;r.toggleAttribute(a.attributeKey,t)})),a}os(t,e);var n=t.prototype;return n.match=function(e){return e===this.attributeKey},n.render=function(e){var n=e.attributes,r=e.children,i={};return n[this.attributeKey]&&(i.color=zh(n[this.attributeKey],t.colorFormat),e.style=as(as({},e.style),i)),r},n.deserialize=function(e){var n,r,i,o,a=e.node,l=e.deltaSet,s=e.zoneId;if(a instanceof HTMLElement){var u=(i=(r=a).tagName,(o=r.style.color)||"FONT"!==i||(o=r.getAttribute("color")||""),o);if(u)return fi(l,s,((n={})[this.attributeKey]=zh(u,t.colorFormat),n),!1)}return l},n.serialize=function(e){var t=e.type,n=e.node,r=e.op;if(null==r?void 0:r.attributes){var i=r.attributes[this.attributeKey];if(t===Tr.LEAF&&i){var o=document.createElement("span");return o.appendChild(n),o.style.color=i,Object.assign(e,{node:o})}}return e},t.colorFormat=wh.HEX,t.KEY="fontcolor",ss([lh],t.prototype,"render",null),t}(Er),Hh=function(e){function t(n){var r=n.editor,i=e.call(this)||this;return i.name="FontFamily",r.registerCommand(t.KEY,(function(e){var n=e.value;r.toggleAttribute(t.KEY,n)})),i}os(t,e);var n=t.prototype;return n.match=function(e){return e===t.KEY},n.render=function(e){var n=e.attributes,r=e.children,i={};return n[t.KEY]&&(i.fontFamily=n[t.KEY],e.style=as(as({},e.style),i)),r},n.deserialize=function(e){var n,r=e.node,i=e.deltaSet,o=e.zoneId;if(r instanceof HTMLElement){var a=function(e){var t=e.tagName,n=e.style.fontFamily;return n||"FONT"!==t||(n=e.getAttribute("face")||""),n}(r);if(a)return fi(i,o,((n={})[t.KEY]=a,n),!1)}return i},n.serialize=function(e){var n=e.type,r=e.node,i=e.op;if(null==i?void 0:i.attributes){var o=i.attributes[t.KEY];if(n===Tr.LEAF&&o){var a=document.createElement("span");return a.appendChild(r),a.style.fontFamily=o,Object.assign(e,{node:a})}}return e},t.KEY="fontfamily",ss([lh],t.prototype,"render",null),t}(Er),Zh=["author","lmkr","lineguid","insertorder"],Wh={display:"block",boxSizing:"content-box",padding:"13px 0 12px",overflow:"hidden",height:"1px",backgroundOrigin:"content-box",backgroundImage:"linear-gradient(90deg, #bbbfc4, #bbbfc4)",backgroundRepeat:"no-repeat",border:"0"},Uh=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSelect=function(){n.setState({isSelected:!0})},n.handleDeSelect=function(){n.setState({isSelected:!1})},n.state={isSelected:!1},n}return os(t,e),t.prototype.render=function(){var e=this.state.isSelected?as(as({},Wh),{backgroundImage:"linear-gradient(90deg, #3370ff, #3370ff)"}):Wh;return i.createElement(ml,{contentEditable:!1,style:e,"data-faketext":" ",onSelect:this.handleSelect,onDeselect:this.handleDeSelect})},t}(i.Component),Kh=function(e){function t(n){var r=n.editor,i=e.call(this)||this;return i.name="HorizontalLine",i.handleKeyDown=function(e){if(bn.mobile&&"Backspace"===e.key){if((u=(s=i.editor).selection.getSelection()).isCollapsed()){var t=u.start.line-1,n=i.editor.getContentState().getActiveZone().getLine(t);if(n&&i.isHorizontalLine(t)&&0===u.start.offset){var r=n.getOffset(),o=r.start,a=r.end,l=new ae({zoneId:n.getZoneId()}).retain(o).delete(a-o);s.getContentState().apply(l),e.preventDefault(),e.preventEvent(),e.stopEvent()}}}else if("Enter"===e.key){var s,u;if(!(u=(s=i.editor).selection.getSelection()).isCollapsed()){o=u.start,a=u.end;if(o.line===a.line&&i.isHorizontalLine(o.line)){var c=u.toPosition(),d=c.start,f=c.len,h=u.start.zoneId;l=new ae({zoneId:h}).retain(d+f).insertEnterAndLineMarker();s.getContentState().apply(l),e.preventDefault(),e.preventEvent(),e.stopEvent(),s.selection.setSelection({start:{line:o.line+1,offset:1,zoneId:h},end:{line:o.line+1,offset:1,zoneId:h}})}}}},i.handleSelectionChange=function(e){var n,r=e.current;if(r.isCollapsed()){var o=r.start,a=o.zoneId,l=o.line,s=null===(n=i.editor.getContentState().getZoneState(a))||void 0===n?void 0:n.getLine(l);if(s)if(s.getAttributes().toMap()[t.KEY]){var u=r.start,c=r.end,d=s.getModelText().length-1,f=new wt({editor:i.editor,start:as(as({},u),{offset:s.getLineMarker()}),end:as(as({},c),{offset:Math.min(d,s.getLineMarker()+1)})});i.editor.selection.setSelection(f)}}},i.editor=r,r.on(Lt.SELECTION_CHANGE,i.handleSelectionChange),r.registerCommand(t.KEY,(function(){i.doInsertHorizontalLine()})),r.on(Lt.KEYDOWN,i.handleKeyDown),i}os(t,e);var n=t.prototype;return n.isHorizontalLine=function(e){var n=this.editor.getContentState().getActiveZone().getLine(e);if(!n)return!1;var r=n.getOps();return n.getLineAttributes().toMap()[t.KEY]||r.length&&r.filter((function(e){var n;return null===(n=e.attributes)||void 0===n?void 0:n[t.KEY]})).length},n.match=function(e){return e===t.KEY},n.render=function(e){return e.class+=" horizontal-line",i.createElement(Uh,null)},n.serialize=function(e){var t=e.type,n=e.op,r=n&&n.attributes&&n.attributes["horizontal-line"];if(t===Tr.LEAF&&r){var i=document.createElement("span");i.classList.add("horizontal-line");var o=document.createElement("hr");o.classList.add("horizontal-line"),i.appendChild(o),e.node=i}return e},n.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId,i=new J;if(t instanceof HTMLElement){var o=t.tagName,a=t.className;if("SPAN"===o&&a.includes("horizontal-line"))return n.forEach((function(e,t){if(t===r&&e instanceof ae){var n=e.create(e);n.insert(" ",{"horizontal-line":"true"}),i=i.concat(n)}else i=i.concat(e)})),i}return n},n.doInsertHorizontalLine=function(e){var n,r=null!=e?e:this.editor.selection.getSelection(),i=r.start,o=r.end,a=this.editor.getContentState().getZoneState(i.zoneId);if(a){var l=a.getLine(i.line),s=a.getLine(o.line);if(l&&s){var u=a.pointToOffset(i),c=a.pointToOffset(o);if(null!==u&&null!==c){var d=l.hasLineMarker()?1:0,f=l.getLineAttributes().every((function(e){return Zh.includes(e[0])})),h=i.line===o.line&&i.offset===o.offset,p=o.line===a.length()-1,g=((n={})[t.KEY]="true",n);if(h)if(i.offset!==d&&l.isEndOfLine(i.offset))if(p){var v=new ae({zoneId:i.zoneId}).retain(u).insertEnterAndLineMarker().insert(" ",g).insertEnterAndLineMarker();this.editor.getContentState().apply(v,{type:"insertHorizontalLine"})}else{v=new ae({zoneId:i.zoneId}).retain(u).insertEnterAndLineMarker().insert(" ",g).insertEnterAndLineMarker();this.editor.getContentState().apply(v,{type:"insertHorizontalLine"});var m={zoneId:i.zoneId,line:i.line+2,offset:0};this.editor.selection.setSelection({start:m,end:m},!0)}else if(0===i.line&&i.offset===d&&"0"===i.zoneId){v=new ae({zoneId:i.zoneId}).retain(u).insertEnterAndLineMarker().insert(" ",g).insertEnterAndLineMarker();this.editor.getContentState().apply(v,{type:"insertHorizontalLine"})}else if(o.offset===d&&f){v=new ae({zoneId:i.zoneId}).retain(u).insert(" ",g).insertEnterAndLineMarker();this.editor.getContentState().apply(v,{type:"insertHorizontalLine"})}else if(d&&o.offset===d){v=new ae({zoneId:i.zoneId}).retain(u).insertEnterAndLineMarker().insert(" ",g).insertEnterAndLineMarker();this.editor.getContentState().apply(v,{type:"insertHorizontalLine"})}else{v=new ae({zoneId:i.zoneId}).retain(u).insertEnterAndLineMarker().insert(" ",g).insertEnterAndLineMarker();this.editor.getContentState().apply(v,{type:"insertHorizontalLine"})}else{v=new ae({zoneId:i.zoneId}).retain(u).delete(c-u).insertEnterAndLineMarker().insert(" ",g).insertEnterAndLineMarker();this.editor.getContentState().apply(v,{type:"insertHorizontalLine"})}}}}},n.destroy=function(){this.editor.off(Lt.SELECTION_CHANGE,this.handleSelectionChange),this.editor.off(Lt.KEYDOWN,this.handleKeyDown)},t.KEY="horizontal-line",t}(Er);var Yh=function(e,t){return void 0===t&&(t=0),e instanceof TouchEvent?e.changedTouches[t]:(e.originalEvent||e.nativeEvent).changedTouches[t]},Gh=function(e,t,n){return void 0===t&&(t=300),void 0===n&&(n=30),function(e){var t=e.onClick,n=e.onLongPress,r=e.touchDuration,i=void 0===r?300:r,o=e.touchDelta,a=void 0===o?30:o;if(t&&"function"!=typeof t)throw Error('"onClick" should be function');if(n&&"function"!=typeof n)throw Error('"onLongPress" should be function');if("number"!=typeof i)throw Error('"touchDuration" should be number');var l,s=0,u=0,c=0,d=0,f=0,h=0,p=0;return function(e,r){var o=e,g=o.type,v=o.timeStamp,m=Yh(e),b={touchstart:function(){s=d=m.clientX,u=f=m.clientY,c=v,n&&(h=p=0,window.clearTimeout(l),l=window.setTimeout((function(){!(h>=a||p>=a)&&n(e,r)}),i))},touchmove:function(){h+=Math.abs(m.clientX-d),p+=Math.abs(m.clientY-f),d=m.clientX,f=m.clientY},touchend:function(){clearTimeout(l);var n=v;Math.abs(m.clientX-s)>=a||Math.abs(m.clientY-u)>=a||!c||n-c>=i||(t&&t(e,r),s=u=0,c=0)}}[g];b&&b()}}({onClick:e,touchDuration:t,touchDelta:n})},Vh=(function(){function e(e){var t=this;this.options=e,this.dblClickTimer=0,this.firstClickPosition={x:0,y:0},this.firstClickFiredTime=null,this.resetFirstClickFiredTime=function(){t.firstClickFiredTime=null},this.handleClick=Gh((function(e){if(null===t.firstClickFiredTime)t.triggerFirstClick(e);else{var n=Date.now()-t.firstClickFiredTime<=t.options.duration,r=Yh(e),i=r.clientX,o=r.clientY,a=Math.abs(i-t.firstClickPosition.x)<=30&&Math.abs(o-t.firstClickPosition.y)<=30;n&&a?t.triggerDoubleClick(e):t.triggerFirstClick(e)}}))}var t=e.prototype;t.triggerFirstClick=function(e){this.clearFirstClickTimer();var t=Yh(e);this.firstClickPosition={x:t.clientX,y:t.clientY},this.firstClickFiredTime=Date.now(),this.options.onSingleClick(e),this.addFirstClickTimer()},t.triggerDoubleClick=function(e){this.options.onDoubleClick(e),this.resetFirstClickFiredTime(),this.clearFirstClickTimer()},t.addFirstClickTimer=function(){this.dblClickTimer=window.setTimeout(this.resetFirstClickFiredTime,this.options.duration)},t.clearFirstClickTimer=function(){this.dblClickTimer&&window.clearTimeout(this.dblClickTimer),this.dblClickTimer=0},t.destroy=function(){this.clearFirstClickTimer()}}(),{h1:26,h2:20,h3:18,"":14}),Qh=function(e){function t(n){var r=n.editor,i=e.call(this)||this;return i.name="Checkbox",i.handlerMap=new Map,i.innerBody=null,i.handleMobileClickCheckbox=Gh((function(e){return i.handleClickCheckbox(e)})),i.handleCheckboxMousedown=function(e){var t=e.target;if("LI"===(t&&t.tagName)){var n=oa(t,i.editor);n&&i.cursorInCheckBox(e,n.start.zoneId,n.start.line)&&e.preventDefault()}},i.handleClickCheckbox=function(e){var t,n,r=e.target,o=r&&r.tagName,a=i.editor,l=oa(r,i.editor);if(l&&"LI"===o&&i.cursorInCheckBox(e,l.start.zoneId,l.start.line)){e.preventDefault(),e.stopPropagation();var s=l.start,u=s.line,c=s.zoneId,d=a.getContentState().getLineAttributes(c,u).toMap(),f=d.list;if(f){var h=d.list.replace(/^([a-z]+)\d*$/g,"$1"),p=parseInt(f.split(h)[1]),g=/check/.test(f)?"done":"check";a.getContentState().setLineAttributes(c,u,{list:""+g+p}),a.getContentState().setAttributes({start:{line:u,zoneId:c,offset:0},end:{line:u,zoneId:c,offset:(null===(n=null===(t=a.getContentState().getZoneState(c))||void 0===t?void 0:t.getLine(u))||void 0===n?void 0:n.length())||0}},{strikethrough:""})}}},i.editor=r,r.isEditable()&&r.once("paint",(function(){i.innerBody=i.editor.getContainer(),i.bindEvent()})),r.registerCommand(t.KEY,(function(e){"check"===e.value&&ch(r,t.KEY,"check1",!0)})),r.registerCommand(gf.INDENT_LEFT,(function(){yf(r,"check",!1),yf(r,"done",!1)})),r.registerCommand(gf.INDENT_RIGHT,(function(){yf(r,"check",!0),yf(r,"done",!0)})),r.on(Lt.EDITABLE_CHANGE,(function(e){e?i.bindEvent():i.removeEvent()})),i}os(t,e);var n=t.prototype;return n.renderLine=function(e){var t=e.lineState,n=e.children,r=t.getLineAttributes().toMap().list;if(r&&(r.includes("check")||r.includes("done"))){var o=r.replace(/^([a-z]+)\d*$/g,"$1");return i.createElement("ul",{className:"list-"+r+" r-list list-"+o+" r-list-check"},i.createElement("li",null,n))}return n},n.addEventListener=function(e,t,n){var r,i=this,o=function(t){if(t.target instanceof Element)for(var r=t.target;r&&r!==i.innerBody;r=r.parentElement)if(null==r?void 0:r.matches(e)){n.call(r,t);break}};this.handlerMap.set(""+e+t,o),null===(r=this.innerBody)||void 0===r||r.addEventListener(t,o,!1)},n.removeEventListener=function(e,t){var n,r=this.handlerMap.get(""+e+t);r&&(null===(n=this.innerBody)||void 0===n||n.removeEventListener(t,r))},n.bindEvent=function(){this.removeEvent(),this.innerBody&&((Tc.isMobile||Tc.isIPad)&&(this.addEventListener(".list-done, .list-check","touchstart",this.handleMobileClickCheckbox),this.addEventListener(".list-done, .list-check","touchend",this.handleMobileClickCheckbox)),Tc.isMobile||(this.addEventListener(".list-check, .list-done","click",this.handleClickCheckbox),this.addEventListener(".list-check, .list-done","mousedown",this.handleCheckboxMousedown)))},n.removeEvent=function(){this.innerBody&&((Tc.isMobile||Tc.isIPad)&&(this.removeEventListener(".list-done, .list-check","touchstart"),this.removeEventListener(".list-done, .list-check","touchend")),Tc.isMobile||(this.removeEventListener(".list-check, .list-done","click"),this.removeEventListener(".list-check, .list-done","mousedown")))},n.cursorInCheckBox=function(e,t,n){var r=this.editor,i="undefined"!=typeof TouchEvent&&e instanceof TouchEvent,o=e.target.firstChild,a=o.getBoundingClientRect?o.getBoundingClientRect():o.parentElement.getBoundingClientRect(),l=r.getContentState().getLineAttributes(t,n).toMap().heading,s=Vh[l]||14,u=s*(i?.5:.15),c=a.left-.3*s,d=c-s-u,f=a.top+u,h=f+s+u,p=e.clientX||0,g=e.clientY||0;if(i){c=a.left,f=a.top;var v="undefined"!=typeof TouchEvent&&e instanceof TouchEvent?Yh(e):e;p=v.clientX,g=v.clientY}return!!this.clickPositionInCheckbox({e,leftPos:d,rightPos:c,topPos:f,bottomPos:h,clientX:p,clientY:g})},n.clickPositionInCheckbox=function(e){var t=e.e,n=e.clientX,r=e.clientY,i=e.leftPos,o=e.rightPos,a=e.bottomPos,l=e.topPos;return"undefined"!=typeof TouchEvent&&t instanceof TouchEvent&&n>=i&&n<=o||n>=i&&n<=o&&r<=a&&r>=l},n.editorWillDoReturnKey=function(e){var n=e.delta,r=e.editor,i=r.getContentState().getActiveZone(),o=i.getZoneId(),a=r.selection.getSelection(),l=a.toPosition(),s=l.start,u=l.len,c=i.getLine(a.start.line);if(c){var d=c.getLineAttributes().toMap(),f=c.isEmpty(),h=d[t.KEY],p=(null==h?void 0:h.includes("check"))||(null==h?void 0:h.includes("done"));if(!n.ops.length&&p&&!u){var g=new ae({zoneId:o});f?(d.list="",g.retain(s-1).retain(1,d)):g.retain(s).insertEnter().insertLineMarker({list:"check1"}),e.delta=n.compose(g)}}},n.deserialize=function(e){var t,n=e.node,r=e.deltaSet,i=e.zoneId;if(!(n instanceof HTMLElement)||"li"!==n.tagName.toLowerCase())return r;var o=null===(t=n.dataset.list)||void 0===t?void 0:t.match(/^(check|done)(\d+)$/);return o?(Number(o[2])>=1&&Jf(r,i,{list:o[0]}),r):r},n.destroy=function(){this.removeEvent()},t.KEY="list",ss([ga(1001)],t.prototype,"deserialize",null),t}(Er),Xh=function(e){function t(t){var n=t.editor,r=e.call(this)||this;return r.name="Indent",r.textIndentClass="text-indent",n.registerCommand(gf.INDENT_LEFT,(function(){yf(n,"indent",!1)})),n.registerCommand(gf.INDENT_RIGHT,(function(){yf(n,"indent",!0)})),r}os(t,e);var n=t.prototype;return n.match=function(e){return e===t.KEY||"list"===e},n.renderLine=function(e){var n=e.lineState,r=e.children;if(n.getLineAttributes().toMap()[t.KEY]){var i=e.lineClass?" ":"";e.lineClass+=""+(i+this.textIndentClass)}return r},n.editorWillDoReturnKey=function(e){var t=e.delta,n=e.editor,r=n.getContentState().getActiveZone(),i=r.getZoneId(),o=n.selection.getSelection(),a=r.getLine(o.start.line);if(a){var l=a.getLineAttributes().toMap(),s=o.toPosition(),u=s.start,c=s.len;if(l["text-indent"]&&!c){var d=a.isEmpty(),f=new ae({zoneId:i});d?t.ops.length||f.retain(u-1).retain(1,l):t.ops.length?f.retain(u+1).retain(1,l):f.retain(u).insertEnter().insertLineMarker(l),e.delta=t.compose(f)}}},n.editorWillDoDeleteKey=function(e){var t=e.deltaSet,n=e.editor,r=n.getContentState().getActiveZone(),i=r.getZoneId(),o=n.selection.getSelection(),a=r.getLine(o.start.line);if(a){var l=a.getLineAttributes().toMap(),s=1===o.start.offset,u=o.toPosition(),c=u.start,d=u.len;if(!t.get(i).ops.length&&l["text-indent"]&&s&&!d){l["text-indent"]="";var f=new ae({zoneId:i}).retain(c-1).retain(1,l);e.deltaSet=t.compose(f)}}},n.serialize=function(e){var n=e.type,r=e.lineAttributes,i=e.node;if(n===Tr.LINE&&r&&r[t.KEY])if(r.list)i.classList.add(this.textIndentClass),i.style["text-indent"]="2em";else{var o=document.createElement("div");o.setAttribute("style","text-indent: 2em"),o.appendChild(i),o.classList.add(this.textIndentClass),e.node=o}return e},n.deserialize=function(e){var t=this,n=e.node,r=e.deltaSet,i=e.zoneId;if(!(n instanceof HTMLElement))return r;var o=Array.from(n.classList),a=o.find((function(e){return e.startsWith("indent")}));if(o.find((function(e){return e===t.textIndentClass}))&&Jf(r,i,{"text-indent":"true"}),a){var l=Number(a.split("indent")[1]);Number(l)>=1&&Jf(r,i,{list:"indent"+l})}return r},t.KEY="text-indent",ss([ga(1002)],t.prototype,"serialize",null),ss([ga(1001)],t.prototype,"deserialize",null),t}(Er),qh="";Tc.isMac||Tc.isIPad?qh="mac":Tc.isWindows?qh="windows":Tc.isLinux&&(qh="linux");var Jh=function(e){function t(t){var n=t.editor,r=t.shortcutsMap,i=e.call(this)||this;return i.name="KeyboardShortcuts",i.handleKeydown=function(e){var t=e.evt,n=i.getHotKeyName(t);if(n){var r=n.key,o=n.value;return i.editor.execCommand(r,o?{value:o}:void 0),t.preventDefault(),!0}return!1},i.editor=n,i.shortcutToCommandMap=i.normalizeShortCutsMap(r),i.editor.on("keydown",i.handleKeydown),i}os(t,e);var n=t.prototype;return n.getShortCutID=function(e){var t=e.metaKey,n=e.altKey,r=e.shiftKey,i=e.ctrlKey,o=e.keyCode;return[t?"meta":"",n?"alt":"",r?"shift":"",i?"ctrl":"",null!=o?o:""].filter(Boolean).join("-")},n.normalizeShortCutsMap=function(e){var t,n,r,i,o={};try{for(var a=ds(e),l=a.next();!l.done;l=a.next()){var s=l.value,u=s.key,c=s.value,d=s.shortcut,f=void 0;f=Array.isArray(d)?d:[d];try{for(var h=(r=void 0,ds(f)),p=h.next();!p.done;p=h.next()){var g=p.value[qh];if(g)o[this.getShortCutID(g)]={key:u,value:c}}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},n.getHotKeyName=function(e){var t=this.getShortCutID(e);return this.shortcutToCommandMap[t]},t}(Er);var $h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="PlainTextHandler",t}return os(t,e),t.prototype.editorWillPaste=function(e){var t,n=e.deltaSet,r=e.zoneId,i=n.get(r),o=i.ops[0];return o&&o.attributes&&o.attributes.lmkr?(void 0===(t=o.attributes)&&(t={}),Object.keys(t).every((function(e){return Zh.includes(e)}))?(i.ops.shift(),n):n):n},t}(Er),ep=["image"],tp=function(){function e(e){var t=this;this.handleClick=function(e){if(!(e.detail<3)){var n=t.editor,r=n.getContentState().getActiveZone(),i=n.selection.getSelection(),o=i.start,a=i.end,l=o.line,s=r.getLine(l);if(s){if(o.line+1===a.line){var u=r.getLine(a.line);if(!u)return;if((u.hasLineMarker()?1:0)!==a.offset)return}else if(o.line!==a.line)return;var c=s.getAttributes().toMap();t.blackAttrKeyList.every((function(e){return!c[e]}))&&n.selection.setSelection({start:{line:o.line,offset:0,zoneId:o.zoneId},end:{line:o.line,offset:s.length(),zoneId:o.zoneId}},!0)}}},this.editor=e.editor,this.blackAttrKeyList=e.blackAttrKeyList||ep,this.editor.on("click",this.handleClick)}return e.prototype.destroy=function(){this.editor.off("click",this.handleClick)},e}(),np=n(779),rp=n.n(np),ip=function(e){function t(t){var n=e.call(this)||this;return n.name="Toolbar",n.rAF=0,n.manager=null,n.editorDidMount=function(){var e=n.options,t=e.Manager;n.manager=new t({editor:n.editor,i18n:n.i18n,setFormat:n.setFormat,config:e.managerConfig||{},boundary:e.boundary}),n.manager.render({},[])},n.handleSelectionChange=function(){n.updateHighlight()},n.handleContentChange=function(){n.updateHighlight()},n.setFormat=function(e,t){n.editor.execCommand(e,{value:t})},n.handleExecCommand=function(){n.rAF&&cancelAnimationFrame(n.rAF),n.rAF=requestAnimationFrame((function(){n.updateHighlight()}))},n.options=t,n.editor=t.editor,n.i18n=t.i18n,n.bindEvent(),n}os(t,e);var n=t.prototype;return n.destroy=function(){var e;this.unbindEvent(),null===(e=this.manager)||void 0===e||e.release(),cancelAnimationFrame(this.rAF)},n.bindEvent=function(){var e=this.editor;e.on(Lt.SELECTION_CHANGE,this.handleSelectionChange),e.on(Lt.CONTENT_CHANGE,this.handleContentChange),e.on(Lt.EXEC_COMMAND,this.handleExecCommand)},n.unbindEvent=function(){var e=this.editor;e.off(Lt.SELECTION_CHANGE,this.handleSelectionChange),e.off(Lt.CONTENT_CHANGE,this.handleContentChange),e.off(Lt.EXEC_COMMAND,this.handleExecCommand)},n.getMultipleLineAttributes=function(e){for(var t=e.start,n=e.end,r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),o=[],a=r;a<=i;a++)o.push(this.editor.getContentState().getLineAttributes(t.zoneId,a));return o},n.updateHighlight=function(){var e,t,n,r,i=this.editor,o=this.manager,a=new Map,l=new Map,s=i.selection.getSelection(),u=s.start,c=s.end,d=i.getContentState().getEntities({start:u,end:c});if(d.length){a=new Map(Object.entries(d[0].attributes));try{for(var f=ds(d),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.attributes){var g=p.attributes,v=p.text;try{for(var m=(n=void 0,ds(a.entries())),b=m.next();!b.done;b=m.next()){var y=fs(b.value,2),w=y[0];y[1]===g[w]||g.lmkr||"\n"===v||a.delete(w)}}catch(e){n={error:e}}finally{try{b&&!b.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}}else a=new Map}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}}var I=this.getMultipleLineAttributes({start:u,end:c});I.length&&(l=new Map(Object.entries(I[0].toMap())),I.forEach((function(e){var t,n,r=e.toMap();try{for(var i=ds(l.entries()),o=i.next();!o.done;o=i.next()){var a=fs(o.value,2),s=a[0],u=a[1];r[s]!==u&&l.delete(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}})));var C=this.editor.getContentState().getInlineStyleOverride(s.toPosition()),k=Object.assign(op(a.entries()),op(l.entries()),C),E=[];this.options.getDisabledKeys&&(E=this.options.getDisabledKeys({entities:d,selection:s})),null==o||o.render(k,E)},t}(Er);function op(e){return hs(e).reduce((function(e,t){var n=fs(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}function ap(e){var t=e;return{setCurrent:function(e){return t=e},getCurrent:function(){return t},getSafeCurrent:function(){if(null==t)throw new Error("current is null or undefined.");return t}}}var lp=function(){function e(t,n,r){var i,o,a,l,s=this;this.isImmature=!0,this.childElements=[],this.maskCallDidMounts=!1;var u=document.createElement(t),c=e.resolver;if(Array.isArray(r))try{for(var d=ds(r),f=d.next();!f.done;f=d.next()){var h=c(f.value,this.childElements);u.appendChild("string"==typeof h?document.createTextNode(h):h)}}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}else if(void 0!==r){h=c(r,this.childElements);u.appendChild("string"==typeof h?document.createTextNode(h):h)}var p=!1;if(n){var g=n.ref,v=n.didMount,m=n.className,b=n.style,y=ls(n,["ref","didMount","className","style"]);this.ref=g,this.didMount=v,m&&(u.className=m),b&&Object.assign(u.style,b);var w=function(e,t){if(e.startsWith("$")){var n=e.endsWith("$"),r=n?e.substring(1,e.length-1):e.substring(1);u.addEventListener(r,(function(e){return t(e,s.context)}),n),p=!0}else null!=t&&!1!==t&&u.setAttribute(e,!0===t?"":t)};try{for(var I=ds(Object.entries(y)),C=I.next();!C.done;C=I.next()){var k=fs(C.value,2);w(k[0],k[1])}}catch(e){a={error:e}}finally{try{C&&!C.done&&(l=I.return)&&l.call(I)}finally{if(a)throw a.error}}}this.childElements.length||this.didMount||p||this.ref||(this.maskCallDidMounts=!0),this.element=u}var t=e.prototype;return t.getHTMLElement=function(){return this.element},t.callDidMounts=function(e){var t,n;if(!this.isImmature)throw new Error("ToolbarElement can only be used once.");this.isImmature=!1,this.context=e;var r=this.element,i=this.childElements,o=[];try{for(var a=ds(i),l=a.next();!l.done;l=a.next()){var s=l.value.callDidMounts(e);s&&o.push(s)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}this.ref&&this.ref.setCurrent(r);var u=this.didMount&&this.didMount(r,e);if(u&&o.push(u),o.length)return function(){for(var e=o.length-1;e>=0;e--)o[e]()}},e.render=function(e,t,n){var r=e.element;t.prepend(r);var i=!e.maskCallDidMounts&&e.callDidMounts(n);return function(){i&&i(),t.removeChild(r)}},e.createElement=function(t,n,r){return new e(t,n,r)},e.resolver=function(t,n){return t instanceof e?(t.maskCallDidMounts||n.push(t),t.element):t},e}(),sp=lp.render,up=lp.createElement;function cp(e){return function(t){var n=this,r=t.editor,i=t.setFormat,o=t.i18n,a=t.boundary;this.callstackDepth=0,this.updaters=[],this.hasNullInUpdaters=!1,this.renderIncrement=0,this.render=function(e,t){var r,i,o=Object.keys(e);try{for(var a=ds(o),l=a.next();!l.done;l=a.next()){var s=l.value;if(s.startsWith("list-")){var u=e[s];delete e[s];var c=s.substring(5);e[c]||(e[c]=u)}}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}n.renderIncrement+=1,n.callstackDepth+=1;try{for(var d=n.renderIncrement,f=n.updaters.length,h=0;h<f&&d===n.renderIncrement;h++){var p=n.updaters[h];p&&p(e,t)}}finally{n.callstackDepth-=1,!n.callstackDepth&&n.hasNullInUpdaters&&(n.updaters=n.updaters.filter((function(e){return!!e})),n.hasNullInUpdaters=!1)}};var l={editor:r,setFormat:i,i18n:o,subscribeRender:function(e){var t=n.updaters.length;return n.updaters.push(e),function(){var r=n.updaters.lastIndexOf(e,t);n.callstackDepth?(n.updaters[r]=null,n.hasNullInUpdaters=!0):n.updaters.splice(r,1)}},boundary:a||document.documentElement};if("function"!=typeof e){var s=e.element,u=e.host;this.release=sp(s,u,l)}else this.release=e(l)}}var dp="\\b([/?#][-a-zA-Z0-9@:%_+.~#?&/=;()$,!\\*\\[\\]{}^|<>]*)?",fp=/localhost(:[0-9]{2,5})?/,hp=/(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])(:[0-9]{2,5})?/,pp="([\\-a-zA-Z0-9:%_+~#@]{1,256}\\.){1,50}",gp="[\\w.!#$%&'*+-/=?^_\\`{|}~]{1,2000}@[A-Za-z0-9_.-]+\\.";const vp=new(function(){function e(){this.PROTOCOL="https?|s?ftp|ftps|nfs|ssh",this.TOP_DOMAIN="com|org|net|int|edu|gov|mil|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gh|gi|gl|gm|gn|gp|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|site|top|wtf|xxx|xyz|cloud|engineering|help|one",this.LENGTH_LIMITED_EMAIL_REG=new RegExp("^(?!data:)((mailto:"+gp+"[a-z\\-]{2,15})|("+gp+"("+this.TOP_DOMAIN+")))\\b","gi"),this.IP_REG=this.getIpReg(),this.URL_REG=this.getUrlReg(),this.LINK_REG=this.getLinkReg()}var t=e.prototype;return t.getIpReg=function(){return new RegExp("(("+this.PROTOCOL+")://)?(("+fp.source+")|("+hp.source+"))"+dp,"gi")},t.getUrlReg=function(){return new RegExp("((("+this.PROTOCOL+"):\\/\\/"+pp+"[a-z\\-]{2,15})|("+pp+"("+this.TOP_DOMAIN+")))(:[0-9]{2,5})?"+dp,"gi")},t.getLinkReg=function(){return new RegExp("("+this.IP_REG.source+")|("+this.URL_REG.source+")|("+this.LENGTH_LIMITED_EMAIL_REG.source+")","gi")},t.addExtraProtocols=function(e){var t=e.length>0?"|":"";this.PROTOCOL=this.PROTOCOL+t+e.join("|"),this.IP_REG=this.getIpReg(),this.URL_REG=this.getUrlReg(),this.LINK_REG=this.getLinkReg()},t.isValidLink=function(e,t){var n=null!=t?t:this.LINK_REG,r=new RegExp(""+n.source,"gi"),i=new RegExp(r).exec(e);return!(!i||0!==i.index)},t.getRegex=function(e){void 0===e&&(e=[]);var t="^(#|("+hs(["","https?","mailto","ftp","file"],e).join("|")+"):)";return new RegExp(t)},t.completeURLProtocol=function(e,t){void 0===e&&(e=""),void 0===t&&(t=[]);var n=new RegExp(this.LENGTH_LIMITED_EMAIL_REG).test(e);return this.getRegex(t).test(e)?e:n?"mailto:"+e:(e.startsWith("http")||(e="http://"+e),e)},e}());var mp;function bp(e,t){var n=e.boxRect,r=e.relativeRect,i=e.anchorRect,o=r.left,a=r.top,l=r.height,s=r.width,u=i,c=u.top,d=u.left,f=u.right,h=u.bottom,p=u.width,g=u.height,v={top:c-a,left:d-o,right:f-o,bottom:h-a,width:p,height:g},m={top:Math.min(c,v.top),left:Math.min(d,v.left),right:s-v.left-p,bottom:l-v.top-g,width:p,height:g};return t===mp.BC?function(e){var t,n=e.absRect,r=e.boxRect,i=e.anchorRect,o=e.remainRect,a=n.left,l=n.top,s=r.width,u=r.height,c=i.width,d=i.height,f=o.right,h=o.left,p=o.bottom,g=o.top;t=h+c/2>=s/2&&f+c/2>=s/2?{left:a+c/2-s/2,top:0}:f+c/2>=s?{left:a,top:0}:h+c/2>=s?{left:Math.min(a+c+f-s,a),top:0}:{left:0,top:l+d};t.top=p>=u?l+d:g>=u?l-u:l-u*Math.abs(g)/(Math.abs(p)+Math.abs(g));return t}({absRect:v,boxRect:n,anchorRect:i,remainRect:m}):{top:0,left:0}}!function(e){e.BC="BC"}(mp||(mp={}));var yp;!function(e){e[e.TYPE_HOVER=0]="TYPE_HOVER",e[e.TYPE_MODIFY_LINK=1]="TYPE_MODIFY_LINK",e[e.TYPE_MODIFY_ALL=2]="TYPE_MODIFY_ALL",e[e.TYPE_CREATE=3]="TYPE_CREATE"}(yp||(yp={}));var wp=function(e){function t(t){var n=e.call(this,t)||this;n.container=null,n.boxElem=null,n.linkInputElem=null,n.textInputElem=null,n.raf=0,n.handleClickModify=function(){n.setState({type:2},(function(){n.updatePosition(),n.updateFocus()})),n.props.onClickModify&&n.props.onClickModify(n.props.data)},n.handleDelete=function(){n.props.onClickDelete(n.props.data)},n.handleKeyDown=function(e){if(13===e.keyCode){var t=n.state,r=t.text,i=t.link;e.preventDefault(),e.stopPropagation(),n.props.onSubmit({text:r,link:i})}else 27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),n.props.onEsc())},n.handleTextChange=function(e){n.setState({text:e.target.value})},n.handleLinkChange=function(e){n.setState({link:e.target.value})};var r=t.data,i=t.type,o=r.text,a=r.link;return n.state={type:i,text:o,link:a,style:{left:-1e3,top:0}},n}os(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.updatePosition(),this.raf=requestAnimationFrame((function(){e.updateFocus()}))},n.componentWillUnmount=function(){cancelAnimationFrame(this.raf)},n.updatePosition=function(){this.setState({style:this.getPosition()})},n.updateFocus=function(){var e,t,n=this.state.type;3===n?null===(e=this.textInputElem)||void 0===e||e.focus():1!==n&&2!==n||null===(t=this.linkInputElem)||void 0===t||t.focus()},n.getPosition=function(){var e,t,n;return bp({boxRect:this.boxElem.getBoundingClientRect(),relativeRect:null===(n=null===(t=null===(e=this.container)||void 0===e?void 0:e.parentElement)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.getBoundingClientRect(),anchorRect:this.props.anchorRect},mp.BC)},n.renderHoverUI=function(){var e=this,t=this.props.data.link,n=this.props.editable;return i.createElement("div",{ref:function(t){return e.boxElem=t},className:"link-modify-popup layout-row"},i.createElement("div",{className:"link-popup__input-group"},i.createElement("div",{className:"link-row"},i.createElement("span",{className:"link-modify-text"},t),n&&i.createElement("button",{type:"button",onClick:this.handleClickModify,className:"link-modify-submit"},i.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"m17.57 7.244-.006-.006.37-.37a1 1 0 0 0 .001-1.412l-3.434-3.453-.002-.002a1 1 0 0 0-1.414 0l-.705.706.01.01L2 13.186V17a1 1 0 0 0 1 1h3.814L17.57 7.244Zm-3.273.389-2.015-2.015 1.487-1.515 2.023 2.034-1.495 1.496Zm-3.415-.587 2.002 2.002-6.913 6.92h-.004l-1.934-1.935v-.003l6.849-6.984ZM3 20a1 1 0 1 0 0 2h18a1 1 0 1 0 0-2H3Z",fill:"#2B2F36"}))),n&&i.createElement("button",{type:"button",onClick:this.handleDelete,className:"link-modify-delete"},i.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"m10.652 19.131 1.815-2.42 1.429 1.428-1.644 2.192a5.037 5.037 0 1 1-7.963-6.168l1.43-1.788a1 1 0 0 1 1.562 1.25l-1.43 1.787a3.037 3.037 0 1 0 4.8 3.719Zm4.455-2.61-1.45-1.45-1.161-1.16c0-.001 0 0 0 0L8.073 9.486 2.707 4.121a1 1 0 1 1 1.414-1.414l16.97 16.97a1 1 0 1 1-1.414 1.415l-4.57-4.57ZM13.348 4.869 11.532 7.29l-1.428-1.429 1.644-2.192a5.037 5.037 0 1 1 7.962 6.168l-1.43 1.788a1 1 0 1 1-1.561-1.25l1.43-1.787a3.037 3.037 0 1 0-4.801-3.719Z",fill:"#2B2F36"}))))))},n.renderModfiyUI=function(){var e,t,n=this,r=this.props.i18n,o=!!(null===(t=null===(e=this.props.data.entity)||void 0===e?void 0:e.attributes)||void 0===t?void 0:t.image),a=this.state.type,l=r["hyperlink.text"],s=r["hyperlink.link"],u=r["hyperlink.determine"],c=r["hyperlink.add-link"],d=r["hyperlink.enter-text"];return i.createElement("div",{ref:function(e){return n.boxElem=e},className:"link-popup layout-row"},i.createElement("svg",{className:"link-popup__triangle",width:"20px",height:"20px",viewBox:"271 193 224 132",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}),i.createElement("div",{className:"link-popup__input-group"},(2===a||3===a)&&!o&&i.createElement("div",{className:"link-row"},i.createElement("span",{className:"link-row-text"},l),i.createElement("input",{ref:function(e){return n.textInputElem=e},type:"text",spellCheck:!1,placeholder:d,value:this.state.text,onKeyDown:this.handleKeyDown,onChange:this.handleTextChange,className:"link-row-input text-input"})),i.createElement("div",{className:"link-row"},i.createElement("span",{className:"link-row-text"},s),i.createElement("input",{ref:function(e){return n.linkInputElem=e},onKeyDown:this.handleKeyDown,type:"text",spellCheck:!1,className:"link-row-input link-input",value:this.state.link,onChange:this.handleLinkChange,placeholder:c}),i.createElement("button",{type:"button",onClick:function(){return n.props.onSubmit({text:n.state.text,link:n.state.link})},className:"link-submit",disabled:!this.props.onValidLink(this.state.link)},u))))},n.render=function(){var e=this,t=this.state,n=t.type,r=t.style;return i.createElement("div",{ref:function(t){return e.container=t},style:as({position:"absolute",zIndex:999},r)},0===n&&this.renderHoverUI(),0!==n&&this.renderModfiyUI())},t.HYPERLINK_WIDTH=392,t.TYPE_HOVER=0,t.TYPE_MODIFY_LINK=1,t.TYPE_MODIFY_ALL=2,t.TYPE_CREATE=3,t}(i.Component),Ip="auto-url";var Cp=function(e,t,n){var r=new RegExp(""+n.source,"gi");r.lastIndex=0;for(var i,o=null,a=[],l=!1,s=new Map([["(",")"],["[","]"],["{","}"],["<",">"]]),u=null,c=e.hasLineMarker()?1:0,d=e.getModelText(),f=d.slice(c,d.endsWith("\n")?-1:d.length),h=function(){o||(o=[],a=[]);var t=i.index+c,n=i[0];(function(e,t){var n,r=v((n=hs(t.keys())).concat.apply(n,hs(t.values())));return new RegExp("["+r+"]").test(e)})(n,s)&&(n=function(e,t){for(var n=[],r=e.length,i=e,o=0;o<r;o++){var a=e[o],l=new RegExp("["+v(hs(t.values()))+"]").test(a);if(t.has(a))n.push([t.get(a),o]);else if(l){var s=n.pop();if(!s)return i=e.slice(0,o);if(a!==s[0])return i=n[0]?i=e.slice(0,n[0][1]):e.slice(0,s[1])}}n.length&&(i=e.slice(0,n[0][1]));return i}(i[0],s)),u||(u=function(){var t,n,r=0,i=[];try{for(var o=ds(e),a=o.next();!a.done;a=o.next()){var l=a.value;if(l.insert&&"string"==typeof l.insert&&"\n"!==l.insert){var s=l.insert.length;r+=s,e.getAttributes(r-s,r).find((function(e){var t=fs(e,2),n=t[0];return t[1],n.includes("mention-token")}))?i.push([r-s,r]):i.push(null)}else i.push(null)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i.filter(Boolean)}());var r=u.filter((function(e){return null!==e&&(t<e[0]&&t+n.length>=e[0])}));if(r.length){var l=r[0][0];n=n.slice(0,l-t)}if(u.some((function(e){return null!==e&&(t>=e[0]&&t+n.length<=e[1])})))return"continue";o.push([t,n]),a.push(t,t+n.length)};i=r.exec(f);)h();if(o){var p,g=function(e,t){var n=0,r=0;if(t)for(;n<t.length&&0===t[n];)n++;return function i(o,a){if(!t||n>=t.length)e(o,a),r+=o.length;else{var l=t[n]-r,s=o.length;if(l>=s)e(o,a),r+=o.length,l===s&&n++;else{var u=o;if(l>0){var c=u.substring(0,l);e(c,a),r+=l}n++,i(u.substring(l),a)}}}}((p=0,function(e,n){var i;void 0===n&&(n={}),n.list&&/code/.test(n.list)&&(l=!0);var a=e.length,s=Object.keys(n),u=s.find((function(e){return"hyperlink"===e||"auto-url"===e})),c=s.find((function(e){return"removeLink"===e})),d=function(e,t,n,i){if(!o)return!1;for(var a=0;a<o.length;a++){var l=o[a];if(e>=l[0]&&e<l[0]+l[1].length){if(!n){if(i){r.lastIndex=0;var s=r.exec(l[1].substring(t.length));return s?o.splice(a,1,[l[0]+t.length,s[0]]):o.splice(a,1),l[1]}return l[1]}o.splice(a,1),a--}}return!1}(p,e,u,n.removeLink);!d||l||c?t.retain(a):t.retain(a,((i={})["auto-url"]=vp.completeURLProtocol(d),i)),p+=a}),a);e.getOps().forEach((function(e){return g(e.insert,e.attributes||{})}))}function v(e){return e.map((function(e){return"\\"+e})).join("")}};function kp(e){return(kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ep(e,t,n){var r=n.value;if("function"!=typeof r)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(kp(r)));var i=!1;return{configurable:!0,get:function(){if(i||this===e.prototype||this.hasOwnProperty(t)||"function"!=typeof r)return r;var n=r.bind(this);return i=!0,Object.defineProperty(this,t,{configurable:!0,get:function(){return n},set:function(e){r=e,delete this[t]}}),i=!1,n},set:function(e){r=e}}}var xp,Mp="clientside-link_background",Sp="clientside-link_mark",Tp="hyperlink",Ap=function(e){function t(n){var r=e.call(this)||this;return r.props=n,r.name="HyperLinks",r.inlineWrapperCache=null,r.mouseEnterTimer=0,r.show=!1,r.popupMountNode=null,r.closePopupTimer=0,r.linkOperations=[],r.currentSelection=null,r.preventNextClick=!1,r.handleKeydown=function(){var e=r.editor.selection.getSelection(),n=r.editor.getContentState().getActiveZone();0!==e.start.offset&&e.start.offset!==n.getLine(e.start.line).getLineMarker()||!e.isCollapsed()||r.editor.toggleAttribute(t.KEY,"")},r.handleContentChange=function(e){if(r.currentSelection){var t=r.currentSelection.range.start.zoneId,n=e.deltaSet.get(t);if(!n)return;var i=r.currentSelection.position,o=r.editor.transformPosition(n,i);o!==i&&(r.currentSelection={range:o.toRange(),position:o})}},r.completeURLProtocolWithCustom=function(e){return vp.completeURLProtocol(e,r.getCustomProtocols())},r.handlePopUpMouseEnter=function(){r.closePopupTimer&&clearTimeout(r.closePopupTimer)},r.handleDocumentClick=function(e){var t,n=e.target;!document.body.contains(n)||(null===(t=r.popupMountNode)||void 0===t?void 0:t.contains(n))||n.closest('[adit-key="hyperlink"]')||n.closest('[plugin-key="hyperlink"]')||r.preventNextClick||r.closePopup(),r.preventNextClick=!1},r.handleMouseUp=function(e){var t,n=e.target;(null===(t=r.popupMountNode)||void 0===t?void 0:t.contains(n))&&(r.preventNextClick=!0)},r.handleMouseLeave=function(){r.mouseEnterTimer&&clearTimeout(r.mouseEnterTimer),r.popupType===yp.TYPE_HOVER&&(r.closePopupTimer=setTimeout((function(){r.closePopup()}),t.closeDuration))},r.handleMouseEnter=function(e){var t=r.editor,n=e.target,i=n&&n.closest(".outer-u-container");i&&(n=i),r.closePopupTimer&&clearTimeout(r.closePopupTimer),r.mouseEnterTimer=window.setTimeout((function(){var e,i=n&&oa(n,r.editor);if(i){var o=t.getContentState().getEntities(i);o.length>1&&(o=[{start:o[0].start,end:o[o.length-1].end,text:o.map((function(e){return e.text})).join(""),attributes:o[0].attributes}]);var a=o[0],l="",s="";if(a.attributes.hyperlink){var u=JSON.parse(a.attributes.hyperlink);l=a.text,s=u.href}else{var c=i.start,d=i.end,f=null===(e=t.getContentState().getZoneState(c.zoneId))||void 0===e?void 0:e.getLine(c.line);if(!f)return void console.error("Hyperlinks handleMouseEnterUrl zone "+c.zoneId+" line "+c.line+" not exist");s=l=f.getModelText().slice(c.offset,d.offset)}r.currentSelection={range:i,position:i.toPosition()};var h=t.rectModule.getRangeRect({start:a.start,end:a.end}),p=r.relativeRectToScreen(h);r.unmountPopup(),r.openPopup({range:i,anchorRect:p,data:{text:l,link:r.completeURLProtocolWithCustom(s),entity:a},type:wp.TYPE_HOVER})}}),500)},r.handleClick=function(e){if(r.show&&r.popupType!==yp.TYPE_HOVER)e.preventDefault();else if(r.props.onClick)r.props.onClick(e);else{e.preventDefault();var t=e.currentTarget.getAttribute("href");if(!t)return;window.open(r.completeURLProtocolWithCustom(t),"_blank","noopener,noreferrer")}},r.editor=n.editor,r.register(),vp.addExtraProtocols(r.getCustomProtocols()),r.editor.on("keydown",r.handleKeydown),r.editor.on(Lt.CONTENT_CHANGE,r.handleContentChange),r}os(t,e);var n=t.prototype;return n.editorDidMount=function(){var e;this.popupMountNode=document.createElement("div"),this.popupMountNode.setAttribute("id","@editor-kit-hyperlink-container-"+Math.random()),this.popupMountNode.classList.add("adit-popup-container"),this.popupMountNode.style.position="relative",this.popupMountNode.style.top="0px",this.popupMountNode.style.left="0px",(null==(e=this.props.getPopupContainer?this.props.getPopupContainer():document.body)?void 0:e.firstChild)?e.insertBefore(this.popupMountNode,e.firstChild):e.append(this.popupMountNode),document.addEventListener("click",this.handleDocumentClick),document.addEventListener("mouseup",this.handleMouseUp),this.popupMountNode.addEventListener("mouseenter",this.handlePopUpMouseEnter)},n.match=function(e){return e===t.KEY||e===Ip||e===Mp},n.renderInlineWrapper=function(e){var n,r,o=e.index,a=e.attributes,l=e.lineState,s=t.KEY;if(!a[s])return null;var u=o-1,c=null;if(u>=0){var d=null===(n=l.getOps()[u].attributes)||void 0===n?void 0:n[s];if(d){var f=JSON.parse(d);c=null!==(r=null==f?void 0:f.linkId)&&void 0!==r?r:null}}var h=JSON.parse(a[s]).linkId;if(this.inlineWrapperCache&&h===c)return this.inlineWrapperCache;var p=i.createElement("span",{className:"outer-u-container demo-outer-link-container"});return this.inlineWrapperCache=p,p},n.render=function(e){var n,r=e.attributes,o=e.children,a=r[Ip],l=r[t.KEY];if(r["clientside-link_background"]&&(o=i.createElement("span",{className:"lb"},o)),l||a){var s="",u="";if(l){var c=JSON.parse(l);s=c.href,u=c.linkId}else s=a;vp.getRegex(this.getCustomProtocols()).test(s)||(s="");var d=this.completeURLProtocolWithCustom(s),f=!a&&!vp.isValidLink(d.trim(),null===(n=this.props)||void 0===n?void 0:n.customLinkRegexp),h=d;if(f)try{h=decodeURIComponent(d)}catch(e){}return i.createElement("span",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:"url hyperlink-href:"+s+" hyperlink-linkId:"+(u||Ip),"data-href":s,"data-id":u||Ip},i.createElement("a",{onClick:this.handleClick,href:h,rel:"noopener",target:"_blank",style:{cursor:"pointer"}},o))}return o},n._editorLineStateWillRender=function(e){var t=e.lineState,n=new ae({zoneId:t.getZoneId()}),r=this.getCustomLinkRegexp(vp.LINK_REG);Cp(t,n,r),n.ops.length&&(e.lineState=t.compose(n))},n.destroy=function(){var e,t;this.closePopup(),document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("mouseup",this.handleMouseUp),this.popupMountNode&&this.popupMountNode.removeEventListener("mouseenter",this.handlePopUpMouseEnter),this.mouseEnterTimer&&clearTimeout(this.mouseEnterTimer),null===(t=null===(e=this.popupMountNode)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.popupMountNode),this.popupMountNode=null},n.getCustomProtocols=function(){return this.props.customProtocols||[]},n.getCustomLinkRegexp=function(e){return this.props.customLinkRegexp?this.props.customLinkRegexp:e},n.register=function(){var e=this,n=this.editor;n.registerCommand(t.KEY,(function(){var t=n.selection.getSelection();t&&(e.currentSelection={range:t,position:t.toPosition()},t.isCollapsed()?e.handleHyperLinkCommand(t):n.once(Lt.PAINT,(function(){e.handleHyperLinkCommand(t)})),e.addLocalIdToRange(t))}))},n.handleHyperLinkCommand=function(e){var t=this,n=this.editor;if(this.show)this.removeLinkBackColor(),this.closePopup();else{var r=e.isCollapsed(),i=n.rectModule.getCaretRect(e.start);this.openPopup({anchorRect:this.relativeRectToScreen(i),data:{text:"",link:""},range:e,type:r?wp.TYPE_CREATE:wp.TYPE_MODIFY_LINK}),r||requestAnimationFrame((function(){t.addLinkBackColor()}))}},n.openPopup=function(e){var t=this,n=e.anchorRect,r=e.data,a=e.type;this.show=!0,this.popupType=a,o.render(i.createElement(wp,{type:a,i18n:this.props.i18n,anchorRect:n,editable:this.editor.isEditable(),data:r,onSubmit:this.handleSave,onClickDelete:this.handleClickDelete,onClickModify:this.handleClickModify,onValidLink:this.handleValidLink,onEsc:function(){return t.closePopup()}}),this.popupMountNode)},n.closePopup=function(){var e=this;this.show&&(this.removeLinkBackColor(),this.unmountPopup()),this.show=!1,this.currentSelection=null,this.removeLocalIdToRange();var t=this.linkOperations.filter(Boolean);if(this.linkOperations=[],t.length>1){var n=t.pop();t.reduceRight((function(t,n){return e.editor.undoModule.mergeRecords(n,t),n}),n)}},n.unmountPopup=function(){this.popupMountNode&&o.unmountComponentAtNode(this.popupMountNode)},n.relativeRectToScreen=function(e){var t=this.editor.getRect("0"),n=e.left,r=e.top,i=e.bottom,o=e.right,a=e.width,l=e.height;return{left:t.left+n,top:Math.max(t.top+r,40),right:t.left+o,bottom:t.top+i,width:a,height:l}},n.handleValidLink=function(e){var t;return vp.isValidLink(e.trim(),null===(t=this.props)||void 0===t?void 0:t.customLinkRegexp)},n.handleSave=function(e){var t,n=e.text,r=e.link;r=r.trim(),void 0===(t=r)&&(t=""),/^data:/.test(t)&&(r=""),r&&this.doInsertLink(r,n),this.closePopup()},n.handleClickDelete=function(e){var n,r=this.editor,i=e.entity.attributes,o=fs(r.getContentState().getEntities([[t.KEY,i[t.KEY]]]),1)[0];o&&this.addLocalIdToRange(o),r.getContentState().setAttributes(this.selection,((n={})[t.KEY]="",n.removeLink="true",n),{type:Tp}),this.closePopup()},n.addLocalIdToRange=function(e){var t,n=this.editor.getContentState().setAttributes(e,((t={})[Sp]="true",t),{type:Tp});this.linkOperations.push(n)},n.removeLocalIdToRange=function(){var e,t=fs(this.editor.getContentState().getEntities([[Sp,"true"]]),1)[0];if(t){var n=this.editor.getContentState().setAttributes(t,((e={})[Sp]="",e),{type:Tp});this.linkOperations.push(n)}},Object.defineProperty(n,"selection",{get:function(){return this.currentSelection?this.currentSelection.range:this.editor.selection.getSelection()},enumerable:!1,configurable:!0}),n.handleClickModify=function(e){this.popupType=yp.TYPE_MODIFY_ALL;var n=e.entity.attributes,r=this.editor.getContentState().getEntities([[t.KEY,n[t.KEY]]]).find((function(e){return e.attributes===n}));r&&this.addLocalIdToRange(r),this.addLinkBackColor()},n.genHyperLinkAttribFromURL=function(e){var n,r=zt(10);return(n={})[t.KEY]=JSON.stringify({href:this.completeURLProtocolWithCustom(e),linkId:r}),n.removeLink="",n},n.doInsertLink=function(e,n){var r,i,o,a,l,s=this,u=this.editor,c=this.selection,d=c.start,f=c.end,h=this.genHyperLinkAttribFromURL(e),p=u.getContentState(),g=p.getZoneState(d.zoneId);if(g){var v=g.getEntities({start:d,end:f},(function(e){return e===t.KEY})),m="";try{for(var b=ds(v),y=b.next();!y.done;y=b.next()){var w=y.value;m+=w.text;var I=g.getEntities([[t.KEY,w.attributes[t.KEY]]]);try{for(var C=(o=void 0,ds(I)),k=C.next();!k.done;k=C.next()){var E=k.value;this.linkOperations.push(p.setAttributes(E,((l={})[t.KEY]="",l)))}}catch(e){o={error:e}}finally{try{k&&!k.done&&(a=C.return)&&a.call(C)}finally{if(o)throw o.error}}}}catch(e){r={error:e}}finally{try{y&&!y.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}if(!n&&wt.isPointEqual(d,f)&&(n=e),n&&n!==m){var x=p.replaceText({start:d,end:f},n,h,{type:Tp});this.linkOperations.push(x)}else{x=p.setAttributes({start:d,end:f},h,{type:Tp});this.linkOperations.push(x)}f&&this.editor.once("paint",(function(){var e=s.editor.getScrollContainer(),t=f;if(n){var r=p.getZoneState(d.zoneId);if(!r)return;var i=r.pointToOffset(d);if(null!==i){var o=r.offsetToPoint(i+n.length),a=o.line,l=o.offset;t.line=a,t.offset=l}}var c=e.scrollTop||0;u.scrollTo({top:c}),u.focus(),u.selection.setSelection({start:f,end:f},!0)}))}},n.addLinkBackColor=function(){this.setLinkBackColor(!0)},n.removeLinkBackColor=function(){this.setLinkBackColor(!1)},n.setLinkBackColor=function(e){var t,n=this.editor.getContentState().setAttributes(this.selection,((t={})["clientside-link_background"]=e?"true":"",t),{type:Tp});this.linkOperations.push(n)},n.serialize=function(e){var t,n,r,i,o=e.type,a=e.node,l=e.op,s=null===(r=null==l?void 0:l.attributes)||void 0===r?void 0:r.hyperlink;if(!s&&(null===(i=null==l?void 0:l.attributes)||void 0===i?void 0:i[Ip])&&(s=JSON.stringify({href:l.attributes[Ip]})),o===Tr.LEAF&&s){var u=document.createElement("a"),c=JSON.parse(s);try{for(var d=ds(Object.entries(c)),f=d.next();!f.done;f=d.next()){var h=fs(f.value,2),p=h[0],g=h[1];u.setAttribute(p,String(g))}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return u.setAttribute("target","_blank"),u.setAttribute("rel","noopener noreferrer"),u.appendChild(a),Object.assign(e,{node:u})}return e},n.deserialize=function(e){var t,n=e.node,r=e.deltaSet,i=e.zoneId,o=r;if(!(n instanceof HTMLElement))return o;if("a"!==n.tagName.toLowerCase())return o;var a=n.getAttribute("href")||(null===(t=n.closest(".url"))||void 0===t?void 0:t.getAttribute("data-href"));return a?o=fi(o,i,this.genHyperLinkAttribFromURL(a)):o},t.KEY="hyperlink",t.closeDuration=600,ss([Ep],t.prototype,"handleValidLink",null),ss([Ep],t.prototype,"handleSave",null),ss([Ep],t.prototype,"handleClickDelete",null),ss([Ep],t.prototype,"addLocalIdToRange",null),ss([Ep],t.prototype,"removeLocalIdToRange",null),ss([Ep],t.prototype,"handleClickModify",null),t}(Er),Np=["tl","tr","br","bl"];!function(e){e.WRAPPER="image-wrapper",e.CONTAINER="image-container"}(xp||(xp={}));var Lp=["image/jpeg","image/bmp","image/png","image/gif","image/x-icon"];function Dp(e){return e/Math.abs(e)}function zp(e){var t=e.direction,n=e.alignment,r=e.imageSize,i=e.moveVector,o=e.imageMaxWidth,a=e.uuid,l=function(e){var t,n,r=e.direction,i=e.alignment,o=e.imageSize,a=e.moveVector,l=e.imageMaxWidth,s=function(e,t){var n="t"===e[0]?-1:1,r="l"===e[1]?-1:1;return{width:t.width*r,height:t.height*n}}(r,o),u=[Dp(s.width),Dp(s.height)],c=a.x,d=a.y,f="center"===i?2:1,h=o.width/f,p=o.height,g=s.width/f,v=s.height,m=l/f,b=g*v<0?-1:1,y=d*g*b<v*c*b;try{for(var w=ds([["left","tr","top"],["center","tl","top"],["center","tr","top"],["right","tl","top"],["left","bl","side"],["right","br","side"]]),I=w.next();!I.done;I=w.next()){var C=I.value;C[0]===i&&C[1]===r&&(y="top"===C[2])}}catch(e){t={error:e}}finally{try{I&&!I.done&&(n=w.return)&&n.call(w)}finally{if(t)throw t.error}}var k=fs((y?[g+c,v*(g+c)/g]:[g*(v+d)/v,v+d]).map((function(e,t){return e*u[t]})),2),E=k[0],x=k[1],M=[h<p?20/f:20*h/p,h<p?20/f*p/h:20],S=[m,m*p/h],T=fs([Math.round(Math.min(S[0],Math.max(M[0],E))),Math.round(Math.min(S[1],Math.max(M[1],x)))],2);return{width:T[0]*f,height:T[1]}}({direction:t,alignment:n,imageSize:r,moveVector:i,imageMaxWidth:o}),s=l.width,u=l.height;s===r.width&&u===r.height||function(e,t,n){var r,i=Op(n),o=document.querySelector("#"+i);null===(r=null==o?void 0:o.parentNode)||void 0===r||r.removeChild(o),(o=document.createElement("style")).setAttribute("id",i),o.textContent=Rp(n)+"{\n        width: "+e+"px!important;\n    }",document.body.appendChild(o)}(s,0,a)}function Op(e){return"image-resize-rect-style-"+e}function Rp(e){return'.image-wrapper img[data-uuid="'+e+'"]'}var _p=zt(6);function jp(){return zt(8)}function Pp(e){e.forEach((function(e){e instanceof ae&&e.forEach((function(e){var t;(null===(t=e.attributes)||void 0===t?void 0:t.image)&&(e.attributes.uuid=jp())}))}))}function Bp(e){return e.getOps().some((function(e){return function(e){var t;return null===(t=e.attributes)||void 0===t?void 0:t.image}(e)}))}const Fp=function(){return ms.Date.now()};var Hp=/\s/;const Zp=function(e){for(var t=e.length;t--&&Hp.test(e.charAt(t)););return t};var Wp=/^\s+/;const Up=function(e){return e?e.slice(0,Zp(e)+1).replace(Wp,""):e};var Kp=/^[-+]0x[0-9a-f]+$/i,Yp=/^0b[01]+$/i,Gp=/^0o[0-7]+$/i,Vp=parseInt;const Qp=function(e){if("number"==typeof e)return e;if(As(e))return NaN;if(zs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=zs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Up(e);var n=Yp.test(e);return n||Gp.test(e)?Vp(e.slice(2),n?2:8):Kp.test(e)?NaN:+e};var Xp=Math.max,qp=Math.min;const Jp=function(e,t,n){var r,i,o,a,l,s,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function p(e){return u=e,l=setTimeout(v,t),c?h(e):a}function g(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=o}function v(){var e=Fp();if(g(e))return m(e);l=setTimeout(v,function(e){var n=t-(e-s);return d?qp(n,o-(e-u)):n}(e))}function m(e){return l=void 0,f&&r?h(e):(r=i=void 0,a)}function b(){var e=Fp(),n=g(e);if(r=arguments,i=this,s=e,n){if(void 0===l)return p(s);if(d)return clearTimeout(l),l=setTimeout(v,t),h(s)}return void 0===l&&(l=setTimeout(v,t)),a}return t=Qp(t)||0,zs(n)&&(c=!!n.leading,o=(d="maxWait"in n)?Xp(Qp(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=i=l=void 0},b.flush=function(){return void 0===l?a:m(Fp())},b};const $p=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return zs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Jp(e,t,{leading:r,maxWait:t,trailing:i})};var eg=function(){function e(e){var t=this;this.editor=e,this.canDrag=!1,this.pointX=0,this.pointY=0,this.pageX=0,this.pageY=0,this.diffX=0,this.diffY=0,this.body=document.body,this.isMoved=!1,this.oriScrollTop=0,this.events=new Map,this.bind=function(){var e=t.editor.getScrollContainer();e?(document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mousedown",t.handleMouseDown),document.addEventListener("mouseup",t.handleMouseUp),e.addEventListener("scroll",t.handleScroll)):t.editor.once(Lt.PAINT,t.bind)},this.isSameInstance=function(e){return t.editor.getContainer().contains(e)},this.handleMouseDown=function(e){var n,r,i,o,a,l;if(e.target instanceof HTMLElement&&t.editor.isEditable()&&t.isSameInstance(e.target)&&(null===(i=e.target)||void 0===i?void 0:i.classList.contains("point"))){var s=t.editor.getScrollContainer(),u=null===(o=e.target.closest(".image-wrapper"))||void 0===o?void 0:o.querySelector("img");if(u)if(t.image=u,!t.image.closest(".unresize")){var c=t.image.closest(".ace-line");t.oriScrollTop=null!==(l=null===(a=s)||void 0===a?void 0:a.scrollTop)&&void 0!==l?l:0,t.resizeImageLineKey=null,t.direction=e.target.getAttribute("data-direction"),t.imageWidth=t.image.clientWidth,t.imageHeight=t.image.clientHeight,t.imageMaxWidth=c.clientWidth,t.imageMaxWidth=t.imageMaxWidth&&t.imageMaxWidth-4,t.uuid=t.image.getAttribute("data-uuid"),t.canDrag=!0,t.pointX=e.pageX,t.pointY=e.pageY,t.alignment="left";try{for(var d=ds([["align-left","left"],["align-center","center"],["align-right","right"]]),f=d.next();!f.done;f=d.next()){var h=fs(f.value,2),p=h[0],g=h[1];c.classList.contains(p)&&(t.alignment=g)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return t.direction&&["tl","br"].includes(t.direction)?t.body.classList.add("keep-nwse-cursor"):t.direction&&["tr","bl"].includes(t.direction)&&t.body.classList.add("keep-nesw-cursor"),e.preventDefault(),!1}}},this.applyDynamicResize=function(e){var n=e.pageX,r=e.pageY,i=e.target,o=e.scrollTop;if(t.direction&&t.imageWidth&&t.uuid&&t.alignment&&t.imageHeight&&t.imageMaxWidth){var a=o-t.oriScrollTop;t.diffX=n-t.pointX,t.diffY=r-t.pointY+a,t.isMoved=!0;var l={width:t.imageWidth,height:t.imageHeight},s={x:t.diffX,y:t.diffY};zp({direction:t.direction,alignment:t.alignment,imageSize:l,moveVector:s,imageMaxWidth:t.imageMaxWidth,uuid:t.uuid});var u=i;if(!t.resizeImageLineKey){for(;u&&u!==document.body&&(!u.id||!/magicdomid/.test(u.id));)u=u.parentElement;t.resizeImageLineKey=i&&i.id}}},this.handleScroll=$p((function(e){var n,r,i=e.target;if(i&&t.canDrag&&t.pageX&&t.pageY&&t.isSameInstance(i)){var o=t.editor.getScrollContainer();t.applyDynamicResize({pageX:t.pageX,pageY:t.pageY,target:i,scrollTop:null!==(r=null===(n=o)||void 0===n?void 0:n.scrollTop)&&void 0!==r?r:0})}}),16),this.handleMouseMove=$p((function(e){var n,r,i=e.target;if(i&&t.canDrag&&t.isSameInstance(i)){var o=t.editor.getScrollContainer();t.pageX=e.pageX,t.pageY=e.pageY,t.applyDynamicResize({pageX:t.pageX,pageY:t.pageY,target:i,scrollTop:null!==(r=null===(n=o)||void 0===n?void 0:n.scrollTop)&&void 0!==r?r:0})}}),16),this.handleMouseUp=function(){t.resizeImageLineKey=null,t.canDrag=!1,t.isMoved&&t.uuid&&(t.body.classList.remove("keep-nwse-cursor"),t.body.classList.remove("keep-nesw-cursor"),t.handleResize()),t.isMoved=!1},this.clearTempStyle=function(){var e;if(t.uuid){var n=document.querySelector("#"+Op(t.uuid));null===(e=null==n?void 0:n.parentNode)||void 0===e||e.removeChild(n)}}}var t=e.prototype;return t.unbind=function(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mousedown",this.handleMouseDown),document.removeEventListener("mouseup",this.handleMouseUp);var e=this.editor.getScrollContainer();e&&e.removeEventListener("scroll",this.handleScroll),this.events.clear()},t.handleResize=function(){var e,t;if(this.uuid){var n=this.editor.getContainer().querySelector(Rp(this.uuid));if(n){var r=oa(n,this.editor);if(r){var i=n.clientWidth,o=r.start.zoneId,a=this.editor.getContentState().getZoneState(o);if(a){var l=a.getEntities(r);if(l.length){var s=this.events.get("resize");if(null==s?void 0:s.length)try{for(var u=ds(s),c=u.next();!c.done;c=u.next()){(0,c.value)(as(as({},l[0]),{attributes:as(as({},l[0].attributes),{width:i})}))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}this.editor.once(Lt.PAINT,this.clearTempStyle)}}}}}},t.onResize=function(e){var t=this.events.get("resize")||[];t.push(e),this.events.set("resize",t)},e}();const tg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selected:!1},t.handleSelect=function(){t.setState({selected:!0})},t.handleDeSelect=function(){t.setState({selected:!1})},t}return os(t,e),t.prototype.render=function(){var e=this.props,t=e.uuid,n=e.src,r=e.alt,o=e.width,a=e.height,l=!1===e.resizeable?"unresize":"";return(0,i.createElement)(ml,{key:t,onSelect:this.handleSelect,onDeselect:this.handleDeSelect,className:xp.CONTAINER+" "+l,disableDefaultSelected:!0},(0,i.createElement)("span",{className:xp.WRAPPER+" "+(this.state.selected?"selected":"")},Np.map((function(e){return(0,i.createElement)("span",{key:e,className:"point "+e+" n-icon-dragable","data-direction":e})})),(0,i.createElement)("img",{style:{width:o?o+"px":"100%",height:a?a+"px":"100%"},src:(n||"").replace(/"/g,"&quot;"),"data-uuid":t,"data-resizeable":l,alt:r})))},t}(i.Component);var ng=function(e){function t(n){var r=e.call(this)||this;r.name="Image",r.uploadInput=function(){var e,t,n=document.createElement("input"),r={type:"file",id:_p,multiple:"true",style:"display: none;",accept:"image/png, image/gif, image/jpeg, image/bmp, image/x-icon"};try{for(var i=ds(Object.entries(r)),o=i.next();!o.done;o=i.next()){var a=fs(o.value,2),l=a[0],s=a[1];n.setAttribute(l,s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return document.body.appendChild(n),n}(),r.canResetSelection=!0,r.handleUploadImage=function(){r.uploadInput.click()},r.handleInputChange=function(e){if(e.target){var t=e.target,n=t.files;if(n&&!function(e){var t,n;try{for(var r=ds(Array.from(e)),i=r.next();!i.done;i=r.next()){var o=i.value;if(!o)return!1;if(!Lp.includes(o.type))return!1}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!!e.length}(n))return console.warn("No support image type");if(n){var i=r.editor.selection.getSelection().toPosition();r.insertImage(i,n)}t.value=""}},r.handleKeyDown=function(e){if(bn.mobile&&"Backspace"===e.key){var t=r.editor,n=t.selection.getSelection();if(n.isCollapsed()){var i=n.start.line-1,o=r.editor.getContentState().getActiveZone().getLine(i);if(o&&Bp(o)&&0===n.start.offset){var a=o.getOffset(),l=a.start,s=a.end,u=new ae({zoneId:o.getZoneId()}).retain(l).delete(s-l);t.getContentState().apply(u),e.preventDefault(),e.preventEvent(),e.stopEvent()}}}},r.handleSelectionChange=function(e){if(r.canResetSelection){var t=e.current,n=t.start,i=t.end;if(!(n.line===i.line)){var o=function(e,t){var n=e.start,r=e.end,i=n.zoneId,o=t.getContentState().getZoneState(i);if(!o)return{start:!1,end:!1};var a=o.getLine(n.line),l=o.getLine(r.line);return a&&l?{start:Bp(a),end:Bp(l)}:{start:!1,end:!1}}(t,r.editor),a=o.start,l=o.end;if(!a&&!l)return;r.fixSelectionOnImageLine(o,t,r.editor)}}},r.fixSelectionOnImageLine=function(e,t,n){if(r.canResetSelection){r.canResetSelection=!1;var i=t.start,o=t.end,a=t.isBackward,l=i.zoneId,s=e.start,u=e.end,c=n.getContentState().getZoneState(l),d=c.getLine(i.line),f=c.getLine(o.line),h=i,p=o,g=!1;d&&s&&(h={line:i.line,offset:0,zoneId:l},g=!0),f&&u&&(p={line:o.line,offset:f.length()-1,zoneId:l},g=!0),g&&(n.selection.setSelection({start:h,end:p,isBackward:a}),n.selection.updateBrowserSelection(!0),r.canResetSelection=!0)}},r.updateImageAttributes=function(e){var n,i,o=e.start,a=e.end,l=r.editor.getContentState(),s=l.getZoneState(o.zoneId);if(s){var u=s.pointToOffset(o),c=s.pointToOffset(a);if(null!==u&&null!==c){var d=as(as(as({},r.oldDataToNewData(e.attributes)),e.attributes),((n={})[t.KEY]="true",n)),f=Object.keys(d).reduce((function(e,t){return e[t]=d[t].toString(),e}),{}),h=new ae({zoneId:o.zoneId}).retain(u).retain(c-u,as(((i={})[t.KEY]="true",i),f));l.apply(h)}}},r.deserialize=function(e){var n,r,i=e.node,o=e.deltaSet,a=e.zoneId,l=i;return"IMG"===(null===(r=null==l?void 0:l.tagName)||void 0===r?void 0:r.toUpperCase())?o.concat(new ae({zoneId:a}).insert(" ",((n={alt:l.getAttribute("alt")||""})[t.KEY]="true",n.src=l.getAttribute("src")||"",n.uuid=jp(),n.width=l.getAttribute("width")||"",n))):o},r.options=n;var i=n.editor;return r.editor=i,r.event=new eg(r.editor),r.event.bind(),r.uploadInput.addEventListener("change",r.handleInputChange),r.event.onResize(r.updateImageAttributes),i.registerCommand(t.KEY,r.handleUploadImage),i.on(Lt.PASTE,r.handlePaste),i.on(Lt.KEYDOWN,r.handleKeyDown),i.on(Lt.SELECTION_CHANGE,r.handleSelectionChange),r}os(t,e);var n=t.prototype;return n.match=function(e){return e===t.KEY},n.handlePaste=function(e){var t;if(function(e){var t=e.clipboardData;if(!t)return!1;var n=t.types,r=t.items,i=void 0===r?[]:r,o=JSON.stringify(n),a=1===n.length&&"Files"===n[0],l=2===n.length&&/("text\/plain","Files"|"Files","text\/plain")/.test(o),s=2===n.length&&/"text\/html","Files"|"Files","text\/html"/.test(o),u=Tc.isSafari&&/"Files","text\/uri-list"/.test(o);if(a||l||s||u){var c=Array.prototype.slice.call(i).filter((function(e){return"file"===e.kind})),d=c.filter((function(e){return 0===e.type.indexOf("image/")}));return d.length===c.length&&d.map((function(e){return e.getAsFile()})).filter((function(e){return!!e})).length>0}return!1}(e.nativeEvent)){var n=null===(t=e.nativeEvent.clipboardData)||void 0===t?void 0:t.files;if(null==n?void 0:n.length){var r=this.editor.selection.getSelection().toPosition();this.insertImage(r,n)}}},n.insertImage=function(e,n){var r,i;if(this.options.onInsertImage)this.options.onInsertImage(e,n);else{var o=this.editor.getContentState(),a=e.zoneId,l=e.len,s=e.start,u=e.toRange().start.line,c=o.getActiveZone().getLine(u);if(c){var d=!(0===u)&&c.isEmpty(),f=new ae({zoneId:a}).retain(s).delete(l);!d&&f.insertEnter();var h=function(e){var n,r={uuid:jp(),src:window.URL.createObjectURL(e)},i=Object.keys(r).reduce((function(e,t){return e[t]=r[t].toString(),e}),{});f.insert(" ",as((n={},n[t.KEY]="true",n),i)).insertEnter()};try{for(var p=ds(Array.from(n)),g=p.next();!g.done;g=p.next()){h(g.value)}}catch(e){r={error:e}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}o.apply(f)}}},n.editorWillCopy=function(e){Pp(e.deltaSet)},n.editorWillPaste=function(e){var t,n=e.deltaSet,r=e.zoneId;Pp(n);var i=n.deltas,o=i[0].ops[i[0].ops.length-1];if(null===(t=null==o?void 0:o.attributes)||void 0===t?void 0:t.image){var a=new ae({zoneId:r}).insertEnter();e.deltaSet=n.concat(a)}},n.serialize=function(e){var n,r,i=e.node,o=e.op;if(!(null==o?void 0:o.attributes))return e;var a=this.oldDataToNewData(o.attributes);if(null==a?void 0:a[t.KEY]){var l=(new DOMParser).parseFromString("<img>","text/html").querySelector("img");l.setAttribute("src",a.src);try{for(var s=ds(Object.entries(a)),u=s.next();!u.done;u=s.next()){var c=fs(u.value,2),d=c[0],f=c[1];l.setAttribute(d,String(f))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return l.appendChild(i),Object.assign(e,{node:l})}return e},n.oldDataToNewData=function(e){var n;if(!e[t.KEY]||"true"===e[t.KEY])return e;try{var r=JSON.parse(e[t.KEY]);e=as(as({},r.attributes),((n={})[t.KEY]="true",n.src=r.src,n.uuid=jp(),n))}catch(t){console.error("plugin: Image render error, attributes: "+e)}return e},n.render=function(e){var t=this.oldDataToNewData(e.attributes);return e.key=t.uuid,i.createElement(tg,as({},t,{resizeable:this.options.resizeable,src:t.src}))},n.destroy=function(){var e;this.event.unbind(),this.uploadInput.removeEventListener("change",this.handleInputChange),this.editor.off(Lt.PASTE,this.handlePaste),this.editor.off(Lt.KEYDOWN,this.handleKeyDown),this.editor.off(Lt.SELECTION_CHANGE,this.handleSelectionChange),e=this.uploadInput,document.body.removeChild(e)},t.KEY="image",ss([Ep],t.prototype,"handlePaste",null),ss([ga(999)],t.prototype,"serialize",null),ss([ga(999)],t.prototype,"render",null),t}(Er);const rg=function(e,t,n){var r=null==e?void 0:Pu(e,t);return void 0===r?n:r};const ig=cf((function(e){var t=Lu(e,ff);return t.length&&t[0]===e[0]?uf(t):[]}));const og=function(e,t,n,r){var i=-1,o=af,a=!0,l=e.length,s=[],u=t.length;if(!l)return s;n&&(t=Lu(t,fd(n))),r?(o=lf,a=!1):t.length>=200&&(o=Uc,a=!1,t=new Zc(t));e:for(;++i<l;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;s.push(c)}else o(t,d,r)||s.push(c)}return s};const ag=cf((function(e,t){return df(e)?og(e,ac(t,1,df,!0)):[]}));const lg=function(){};const sg=Od&&1/Vc(new Od([,-0]))[1]==1/0?function(e){return new Od(e)}:lg;const ug=function(e,t,n){var r=-1,i=af,o=e.length,a=!0,l=[],s=l;if(n)a=!1,i=lf;else if(o>=200){var u=t?null:sg(e);if(u)return Vc(u);a=!1,i=Uc,s=new Zc}else s=t?[]:l;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var f=s.length;f--;)if(s[f]===d)continue e;t&&s.push(d),l.push(c)}else i(s,d,n)||(s!==l&&s.push(d),l.push(c))}return l};const cg=cf((function(e){return ug(ac(e,1,df,!0))}));const dg=function(e){return!0===e||!1===e||Ts(e)&&"[object Boolean]"==Ss(e)};var fg=Math.ceil,hg=Math.max;const pg=function(e,t,n,r){for(var i=-1,o=hg(fg((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a};const gg=function(e,t,n){if(!zs(n))return!1;var r=typeof t;return!!("number"==r?Sd(n)&&Uu(t,n.length):"string"==r&&t in n)&&lu(n[t],e)};var vg=1/0;const mg=function(e){return e?(e=Qp(e))===vg||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};const bg=function(e){return function(t,n,r){return r&&"number"!=typeof r&&gg(t,n,r)&&(n=r=void 0),t=mg(t),void 0===n?(n=t,t=0):n=mg(n),r=void 0===r?t<n?1:-1:mg(r),pg(t,n,r,e)}}();const yg=function(e){return e&&e.length?ug(e):[]};function wg(e,t){if(!e)return null;for(var n=e,r=0;n!==t&&null!==n;){r+=n.offsetTop;var i=n.offsetParent;if(!(i instanceof HTMLElement))return console.error(i,"is not HTMLElement"),null;n=i}return r}const Ig=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const Cg=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),l=a.length;l--;){var s=a[e?l:++i];if(!1===n(o[s],s,o))break}return t}}();const kg=function(e,t){return e&&Cg(e,t,Td)};const Eg=function(e,t){return function(n,r){if(null==n)return n;if(!Sd(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(kg);const xg=function(e){return"function"==typeof e?e:fc};const Mg=function(e,t){return(ps(e)?Ig:Eg)(e,xg(t))};var Sg,Tg;!function(e){e.FIND="find",e.REPLACE="replace"}(Tg||(Tg={}));var Ag=Tg.FIND,Ng=Tg.REPLACE,Lg=((Sg={}).GLOBAL_SEARCH={mac:{metaKey:!0,shiftKey:!0,keyCode:70},windows:{ctrlKey:!0,shiftKey:!0,keyCode:70}},Sg.CREATE_DOC={mac:{metaKey:!0,altKey:!0,code:"KeyN"},windows:{altKey:!0,ctrlKey:!0,keyCode:78}},Sg.CREATE_SHEET={mac:{metaKey:!0,altKey:!0,shiftKey:!0,keyCode:78},windows:{altKey:!0,shiftKey:!0,ctrlKey:!0,keyCode:78}},Sg.SHORTCUTS={mac:{metaKey:!0,keyCode:191},windows:{ctrlKey:!0,keyCode:191}},Sg.h1={mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:49},mac:{altKey:!0,metaKey:!0,keyCode:49}},Sg.backcolor={windows:{keyCode:72,ctrlKey:!0,altKey:!0},mac:{keyCode:72,metaKey:!0,altKey:!0}},Sg.h2={mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:50},mac:{altKey:!0,metaKey:!0,keyCode:50}},Sg.h3={mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:51},mac:{altKey:!0,metaKey:!0,keyCode:51}},Sg.heading={titleEnable:!1},Sg.bold={windows:{key:"b",ctrlKey:!0},mac:{metaKey:!0,key:"b"}},Sg.italic={windows:{key:"i",ctrlKey:!0},mac:{key:"i",metaKey:!0}},Sg.underline={windows:{key:"u",ctrlKey:!0},mac:{key:"u",metaKey:!0}},Sg.strikethrough={windows:{key:"x",ctrlKey:!0,shiftKey:!0},mac:{key:"x",metaKey:!0,shiftKey:!0}},Sg.alignleft={imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"l",ctrlKey:!0,shiftKey:!0},mac:{key:"l",metaKey:!0,shiftKey:!0}},Sg.aligncenter={imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"e",ctrlKey:!0,shiftKey:!0},mac:{key:"e",metaKey:!0,shiftKey:!0}},Sg.alignright={imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"r",ctrlKey:!0,shiftKey:!0},mac:{key:"r",metaKey:!0,shiftKey:!0}},Sg.alignfull={listEnable:!1,windows:{ctrlKey:!0,which:"f",shiftKey:!0},mac:{metaKey:!0,which:"f",shiftKey:!0}},Sg.insertorderedlist=[{imageEnable:!1,windows:{key:"7",ctrlKey:!0,shiftKey:!0},mac:{key:"7",metaKey:!0,shiftKey:!0}},{imageEnable:!1,windows:{key:"&",ctrlKey:!0,shiftKey:!0},mac:{key:"&",metaKey:!0,shiftKey:!0}}],Sg.insertunorderedlist=[{imageEnable:!1,windows:{key:"8",ctrlKey:!0,shiftKey:!0},mac:{key:"8",metaKey:!0,shiftKey:!0}},{imageEnable:!1,windows:{key:"*",ctrlKey:!0,shiftKey:!0},mac:{key:"*",metaKey:!0,shiftKey:!0}}],Sg.insertcodelist={imageEnable:!1,windows:{altKey:!0,ctrlKey:!0,which:"c"},mac:{metaKey:!0,altKey:!0,which:"c"}},Sg.blockquote={windows:{keyCode:190,shiftKey:!0,ctrlKey:!0},mac:{keyCode:190,shiftKey:!0,metaKey:!0}},Sg.insertseparator={windows:{ctrlKey:!0,which:"s",altKey:!0},mac:{metaKey:!0,which:"s",altKey:!0}},Sg.link={titleEnable:!0,windows:{ctrlKey:!0,key:"k"},mac:{metaKey:!0,key:"k"}},Sg.checkbox={imageEnable:!1,windows:{ctrlKey:!0,which:"t",altKey:!0},mac:{metaKey:!0,which:"t",altKey:!0}},Sg.insertimage={listEnable:!1,windows:{ctrlKey:!0,which:"u",shiftKey:!0},mac:{metaKey:!0,which:"u",shiftKey:!0}},Sg.imagefullscreen={listEnable:!1,windows:{ctrlKey:!0,which:"f",shiftKey:!0},mac:{metaKey:!0,which:"f",shiftKey:!0}},Sg.undo={titleEnable:!0,mentionEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"z"},mac:{metaKey:!0,which:"z"}},Sg.redo=[{titleEnable:!0,mentionEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"z",shiftKey:!0},mac:{metaKey:!0,which:"z",shiftKey:!0}},{titleEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"y"}}],Sg.sheet={windows:{},mac:{},imageEnable:!1},Sg.ppt={windows:{keyCode:116},mac:{metaKey:!0,shiftKey:!0,keyCode:80}},Sg.mindmap={window:{keyCode:vf.F6},mac:{metaKey:!0,shiftKey:!0,keyCode:vf.J}},Sg.print={windows:{ctrlKey:!0,which:"p"},mac:{metaKey:!0,which:"p"}},Sg.inlinecode={windows:{ctrlKey:!0,which:"c",shiftKey:!0},mac:{ctrlKey:!0,which:"c",metaKey:!0}},Sg.doInsertTable={windows:{altKey:!0,ctrlKey:!0,keyCode:vf.A},mac:{metaKey:!0,altKey:!0,keyCode:vf.A}},Sg[Ag]={windows:{ctrlKey:!0,keyCode:vf.F},mac:{metaKey:!0,keyCode:vf.F}},Sg[Ng]={windows:{ctrlKey:!0,keyCode:vf.H},mac:{metaKey:!0,shiftKey:!0,keyCode:vf.H}},Sg);function Dg(e){var t,n,r="",i=0,o="";if(Tc.isMac)r="mac";else{if(!Tc.isWindows)return"";r="windows"}var a=function(t){var n=Lg[t],a=n;ps(n)||(a=[n]),Mg(a,(function(n){var a=n[r]||n.windows,l=Td(a),s=bc(e,l);void 0!==s.which&&(s.which=String.fromCharCode(s.which).toLowerCase()),s.key&&(s.key=s.key.toLowerCase()),JSON.stringify(a)===JSON.stringify(s)&&l.length>i&&(o=t,i=l.length)}))};try{for(var l=ds(Object.keys(Lg)),s=l.next();!s.done;s=l.next()){a(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return o}var zg=[vf.Up,vf.Down,vf.Left,vf.Right],Og=[vf.C,vf.V,vf.X];function Rg(e){return Tc.isMac||Tc.isSafari?e.metaKey&&!e.altKey:e.ctrlKey&&!e.altKey}function _g(e){return Rg(e)&&-1!==Og.indexOf(e.keyCode)}var jg={ROWS_ZONE_ID:"rs",COLS_ZONE_ID:"cs",ROW_ID:"r1",COL_ID:"c1",CELL_ID:"x"};function Pg(e,t){if(null==t&&(t=e||Math.pow(2,32),e=0),"number"!=typeof e)throw new Error("invalid arguments to getRandomInt: "+e+", "+t);return Math.floor(Bg()*(t-e))+e}function Bg(){return window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296:Math.random()}function Fg(e){for(var t="abcdefghijklmnopqrstuvwyz0123456789",n="",r=0;r<e;r++)n+=t[Pg(t.length)];return n}function Hg(){return jg.ROWS_ZONE_ID+Fg(32)}function Zg(){return jg.COLS_ZONE_ID+Fg(32)}function Wg(){return jg.ROW_ID+Fg(32)}function Ug(){return jg.COL_ID+Fg(32)}function Kg(e,t){if("string"!=typeof e||"string"!=typeof t)throw new Error("got non-string rowId or colId: "+e+" "+t);if(-1!==e.indexOf(",")||-1!==t.indexOf(","))throw new Error("got rowId or colId: "+e+" "+t);return jg.CELL_ID+e+jg.CELL_ID+t}function Yg(e){var t=e.split("x");return{rowId:t[1],colId:t[2]}}function Gg(e,t,n){void 0===n&&(n=!1);var r=[];return e.forEach((function(e){t.forEach((function(t){n?r.push(Kg(t,e)):r.push(Kg(e,t))}))})),r}function Vg(e){return jg.CELL_ID===e.charAt(0)&&70===e.length}function Qg(e,t){return"aceTable-"+e+" "+t}function Xg(e){var t=/(^|\s*)aceTable-([a-zA-Z0-9]+)\s([a-zA-Z0-9]+)(\s|$)/.exec(e);return t?{rowId:t[2],colId:t[3]}:null}function qg(e){var t=/^([a-zA-Z0-9]+)\s([a-zA-Z0-9]+)$/.exec(e);return t?{rowId:t[1],colId:t[2]}:null}function Jg(e){var t=/([a-zA-Z0-9]+)\s([a-zA-Z0-9]+)/.exec(e);return t?{rowId:t[1],colId:t[2]}:null}function $g(e,t){var n=t.rowId,r=t.colId,i=[],o=e[n]&&e[n].vectorIds,a=e[r]&&e[r].vectorIds;return o&&a?(o.forEach((function(e){a.forEach((function(t){i.push(Kg(e,t))}))})),i):i}function ev(e,t,n){var r=Jg(t);if(r)return $g(n,r).includes(e)}function tv(e,t,n,r){if(!e.length||!e[0])return"";if(1===e.length&&!(e[0].mergeCellID&&e[0].rowspan&&e[0].colspan))return"disabled";var i,o=ov(t,n,r);if(!o)return!1===o?"disabled":o;for(var a=new Set,l=e.length,s=0;s<l;s++){var u=e[s];if(!u||!u.mergeCellID)return i="unmerge";i="merged",a.add(u.mergeCellID)}return a.size>1&&(i="unmerge"),i}function nv(e,t,n){var r=[];return n.forEach((function(n){var i=Yg(n);if(i){var o=i.rowId,a=i.colId,l=e.indexOf(o),s=t.indexOf(a);r.push([l,s])}})),r}function rv(e,t,n,r){"string"==typeof n&&(n=[n]);var i=new Set,o=nv(e,t,n);return o.length?(o.forEach((function(e){var t=fs(hs(e),2),n=t[0],o=t[1];-1!==n&&-1!==o&&i.add(r[n][o])})),Array.from(i)):null}function iv(e,t,n,r){var i=rv(t,n,e,r),o=!1;if(i&&i.length){var a=i[0].mergeCellID,l=i[0].colspan,s=i[0].rowspan;if(a&&(void 0!==l||void 0!==s)){if(0===Number(l)||0===Number(s))return o=!0;o=!1}}return o}function ov(e,t,n){var r=new Map;nv(e,t,n).forEach((function(e){var t=fs(hs(e),2),n=t[0],i=t[1];if(r.has(n)){var o=r.get(n);o.push(i),r.set(n,o)}else r.set(n,[i])}));var i=Array.from(r.keys()).sort((function(e,t){return e-t})),o=Array.from(r.values());if(!i.length)return"";var a=!1,l=!1;return 1===i.length?(l=!0,o.forEach((function(e){for(var t=e.sort((function(e,t){return e-t})),n=t.length,r=0;r<n;r++)if(0!==n[r]){if(r>0&&t[r-1]+1!==t[r]){a=!1;break}a=!0}}))):o.forEach((function(e,t){for(var n=e.sort((function(e,t){return e-t})),r=n.length,i=0;i<r;i++)if(0!==r[i]){if(i>0&&n[i-1]+1!==n[i]){a=!1;break}a=!0}0!==t&&(l=ef(o[t-1],e))})),!(!l||!a)}const av=Rd&&new Rd;const lv=av?function(e,t){return av.set(e,t),e}:fc;var sv=Object.create;const uv=function(){function e(){}return function(t){if(!zs(t))return{};if(sv)return sv(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const cv=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=uv(e.prototype),r=e.apply(n,t);return zs(r)?r:n}};const dv=function(e,t,n){var r=1&t,i=cv(e);return function t(){var o=this&&this!==ms&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}};var fv=Math.max;const hv=function(e,t,n,r){for(var i=-1,o=e.length,a=n.length,l=-1,s=t.length,u=fv(o-a,0),c=Array(s+u),d=!r;++l<s;)c[l]=t[l];for(;++i<a;)(d||i<o)&&(c[n[i]]=e[i]);for(;u--;)c[l++]=e[i++];return c};var pv=Math.max;const gv=function(e,t,n,r){for(var i=-1,o=e.length,a=-1,l=n.length,s=-1,u=t.length,c=pv(o-l,0),d=Array(c+u),f=!r;++i<c;)d[i]=e[i];for(var h=i;++s<u;)d[h+s]=t[s];for(;++a<l;)(f||i<o)&&(d[h+n[a]]=e[i++]);return d};const vv=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};const mv=function(){};function bv(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}bv.prototype=uv(mv.prototype),bv.prototype.constructor=bv;const yv=bv;const wv=av?function(e){return av.get(e)}:lg;const Iv={};var Cv=Object.prototype.hasOwnProperty;const kv=function(e){for(var t=e.name+"",n=Iv[t],r=Cv.call(Iv,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t};function Ev(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Ev.prototype=uv(mv.prototype),Ev.prototype.constructor=Ev;const xv=Ev;const Mv=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};const Sv=function(e){if(e instanceof yv)return e.clone();var t=new xv(e.__wrapped__,e.__chain__);return t.__actions__=Mv(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t};var Tv=Object.prototype.hasOwnProperty;function Av(e){if(Ts(e)&&!ps(e)&&!(e instanceof yv)){if(e instanceof xv)return e;if(Tv.call(e,"__wrapped__"))return Sv(e)}return new xv(e)}Av.prototype=mv.prototype,Av.prototype.constructor=Av;const Nv=Av;const Lv=function(e){var t=kv(e),n=Nv[t];if("function"!=typeof n||!(t in yv.prototype))return!1;if(e===n)return!0;var r=wv(n);return!!r&&e===r[0]};const Dv=gc(lv);var zv=/\{\n\/\* \[wrapped with (.+)\] \*/,Ov=/,? & /;const Rv=function(e){var t=e.match(zv);return t?t[1].split(Ov):[]};var _v=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;const jv=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(_v,"{\n/* [wrapped with "+t+"] */\n")};var Pv=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];const Bv=function(e,t){return Ig(Pv,(function(n){var r="_."+n[0];t&n[1]&&!af(e,r)&&e.push(r)})),e.sort()};const Fv=function(e,t,n){var r=t+"";return vc(e,jv(r,Bv(Rv(r),n)))};const Hv=function(e,t,n,r,i,o,a,l,s,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var d=[e,t,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,l,s,u],f=n.apply(void 0,d);return Lv(e)&&Dv(f,d),f.placeholder=r,Fv(f,e,t)};const Zv=function(e){return e.placeholder};var Wv=Math.min;const Uv=function(e,t){for(var n=e.length,r=Wv(t.length,n),i=Mv(e);r--;){var o=t[r];e[r]=Uu(o,n)?i[o]:void 0}return e};var Kv="__lodash_placeholder__";const Yv=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Kv||(e[n]=Kv,o[i++]=n)}return o};const Gv=function e(t,n,r,i,o,a,l,s,u,c){var d=128&n,f=1&n,h=2&n,p=24&n,g=512&n,v=h?void 0:cv(t);return function m(){for(var b=arguments.length,y=Array(b),w=b;w--;)y[w]=arguments[w];if(p)var I=Zv(m),C=vv(y,I);if(i&&(y=hv(y,i,o,p)),a&&(y=gv(y,a,l,p)),b-=C,p&&b<c){var k=Yv(y,I);return Hv(t,n,e,m.placeholder,r,y,k,s,u,c-b)}var E=f?r:this,x=h?E[t]:t;return b=y.length,s?y=Uv(y,s):g&&b>1&&y.reverse(),d&&u<b&&(y.length=u),this&&this!==ms&&this instanceof m&&(x=v||cv(x)),x.apply(E,y)}};const Vv=function(e,t,n){var r=cv(e);return function i(){for(var o=arguments.length,a=Array(o),l=o,s=Zv(i);l--;)a[l]=arguments[l];var u=o<3&&a[0]!==s&&a[o-1]!==s?[]:Yv(a,s);if((o-=u.length)<n)return Hv(e,t,Gv,i.placeholder,void 0,a,u,void 0,void 0,n-o);var c=this&&this!==ms&&this instanceof i?r:e;return sc(c,this,a)}};const Qv=function(e,t,n,r){var i=1&t,o=cv(e);return function t(){for(var a=-1,l=arguments.length,s=-1,u=r.length,c=Array(u+l),d=this&&this!==ms&&this instanceof t?o:e;++s<u;)c[s]=r[s];for(;l--;)c[s++]=arguments[++a];return sc(d,i?n:this,c)}};var Xv="__lodash_placeholder__",qv=128,Jv=Math.min;const $v=function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==qv&&8==n||r==qv&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var s=e[3];e[3]=s?hv(s,l,t[4]):l,e[4]=s?Yv(e[3],Xv):t[4]}return(l=t[5])&&(s=e[5],e[5]=s?gv(s,l,t[6]):l,e[6]=s?Yv(e[5],Xv):t[6]),(l=t[7])&&(e[7]=l),r&qv&&(e[8]=null==e[8]?t[8]:Jv(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e};const em=function(e){var t=mg(e),n=t%1;return t==t?n?t-n:t:0};var tm=Math.max;const nm=function(e,t,n,r,i,o,a,l){var s=2&t;if(!s&&"function"!=typeof e)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=i=void 0),a=void 0===a?a:tm(em(a),0),l=void 0===l?l:em(l),u-=i?i.length:0,64&t){var c=r,d=i;r=i=void 0}var f=s?void 0:wv(e),h=[e,t,n,r,i,c,d,o,a,l];if(f&&$v(h,f),e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],!(l=h[9]=void 0===h[9]?s?0:e.length:tm(h[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?Vv(e,t,l):32!=t&&33!=t||i.length?Gv.apply(void 0,h):Qv(e,t,n,r);else var p=dv(e,t,n);return Fv((f?lv:Dv)(p,h),e,t)};var rm=cf((function(e,t,n){var r=1;if(n.length){var i=Yv(n,Zv(rm));r|=32}return nm(e,r,t,n,i)}));rm.placeholder={};const im=rm;var om=function(){function e(e,t,n){void 0===n&&(n={}),this.execute=e,this.applicator=t,this.options=n}var t=e.prototype;return Object.defineProperty(t,"bound",{get:function(){return null!=this.options.bound&&this.options.bound},enumerable:!1,configurable:!0}),Object.defineProperty(t,"setter",{get:function(){return null!=this.options.setter&&this.options.setter},enumerable:!1,configurable:!0}),Object.defineProperty(t,"getter",{get:function(){return null!=this.options.getter&&this.options.getter},enumerable:!1,configurable:!0}),Object.defineProperty(t,"property",{get:function(){return null!=this.options.property&&this.options.property},enumerable:!1,configurable:!0}),Object.defineProperty(t,"method",{get:function(){return null==this.options.method||this.options.method},enumerable:!1,configurable:!0}),Object.defineProperty(t,"optionalParams",{get:function(){return null!=this.options.optionalParams&&this.options.optionalParams},enumerable:!1,configurable:!0}),e}();const am=function(e,t){return e&&kg(e,xg(t))};function lm(e,t){return am(t,(function(t,n){e[n]=t})),e}function sm(e,t){return lm(e.bind(t),e)}const um=function(e){return void 0===e};var cm=function(){function e(){this._weakMap=new WeakMap}var t=e.prototype;return t.set=function(e,t){for(var n=this._weakMap,r=0,i=e.length-1;r<i;r++){var o=e[r],a=n.get(o);a||(a=new Map,n.set(o,a)),n=a}n.set(e[e.length-1],t)},t.get=function(e){for(var t=this._weakMap,n=0,r=e.length;n<r&&(t=t.get(e[n]),!um(t));n++);return t},t.has=function(e){return!um(this.get(e))},e}();const dm=function(e){return"string"==typeof e||!ps(e)&&Ts(e)&&"[object String]"==Ss(e)};function fm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length>=2&&zs(e[0])&&dm(e[1])&&Os(e[0].constructor)&&e[0].constructor.prototype===e[0]}function hm(e,t){return e===t}var pm=new(function(){function e(){}var t=e.prototype;return t.createDecorator=function(e){var t=this,n=e.applicator,r=e.optionalParams;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=i,l=function(r,i,o){var l=t._resolveDescriptor(r,i,o),s=l.value,u=l.get,c=l.set;return gm.has([r,i])||(Os(s)?l.value=lm(n.apply({config:e,target:r,value:s,args:a}),s):Os(u)&&e.getter?l.get=lm(n.apply({config:e,target:r,value:u,args:a}),u):Os(c)&&e.setter&&(l.set=lm(n.apply({config:e,target:r,value:c,args:a}),c))),l};return r&&fm.apply(void 0,hs(i))?(a=[],l(i[0],i[1],i[2])):l}},t.createInstanceDecorator=function(e){var t=this,n=e.applicator,r=e.bound,i=e.optionalParams;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var l=o,s=function(i,o,a){var s=t._resolveDescriptor(i,o,a),u=s.value,c=s.writable,d=s.enumerable,f=s.configurable,h=s.get,p=s.set,g=!gm.has([i,o]),v=gm.get([i,o])||{fns:[],properties:[]},m=g&&Os(h),b=g&&Os(p),y=g&&Os(u),w=g&&!m&&!b&&!y,I=m?h:y?u:void 0;if(v.properties.push(o),v.fns.push((function(o,a,s){return t._isApplicable(s,e)?(r&&(o=sm(o,a)),lm(n.apply({args:l,target:i,instance:a,value:o,config:e}),o)):o})),gm.set([i,o],v),!g)return s;v.isSetter=b,v.isGetter=m,v.isMethod=y,v.isProperty=w;var C=function(e,t,n){return v.fns.reduce((function(e,r){return r(e,n,t)}),e)},k=function(e){var t=h||void 0,n=p||void 0;if(m||b)m&&(t=C(h,{value:h,getter:!0},e)),b&&(n=C(p,{value:p,setter:!0},e)),Object.defineProperty(e,o,{enumerable:d,configurable:f,get:t,set:n});else if(y||w){var r=C(u,y?{value:u,method:!0}:{value:u,property:!0},e);Object.defineProperty(e,o,{writable:c,enumerable:d,configurable:f,value:r})}};return(y||w)&&(delete s.value,delete s.writable),s.get=function(){if(hm(this,i))return I;k(this);var e=Object.getOwnPropertyDescriptor(this,o);return e.get?e.get.call(this):e.value},s.set=function(e){k(this);var t=Object.getOwnPropertyDescriptor(this,o);t.set?t.set.call(this,e):(w||y)&&(this[o]=e)},s};return i&&fm.apply(void 0,hs(o))?(l=[],s(o[0],o[1],o[2])):s}},t._isApplicable=function(e,t){return!(e.getter&&!t.getter||e.setter&&!t.setter||e.method&&!t.method||e.property&&!t.property)},t._resolveDescriptor=function(e,t,n){return n||(Object.getOwnPropertyDescriptor(e,t)||{})},e}()),gm=new cm,vm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return os(t,e),t.prototype.apply=function(e){var t=e.value,n=e.config.execute,r=e.args,i=e.instance;return i?n.apply(void 0,hs([t,i],r)):t},t}((function(){}));const mm=pm.createInstanceDecorator(new om(im,new vm,{optionalParams:!0}));const bm=function(e,t,n){(void 0!==n&&!lu(e[t],n)||void 0===n&&!(t in e))&&Fu(e,t,n)};var ym="object"==typeof exports&&exports&&!exports.nodeType&&exports,wm=ym&&"object"==typeof module&&module&&!module.nodeType&&module,Im=wm&&wm.exports===ym?ms.Buffer:void 0,Cm=Im?Im.allocUnsafe:void 0;const km=function(e,t){if(t)return e.slice();var n=e.length,r=Cm?Cm(n):new e.constructor(n);return e.copy(r),r};const Em=function(e){var t=new e.constructor(e.byteLength);return new Yc(t).set(new Yc(e)),t};const xm=function(e,t){var n=t?Em(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const Mm=kd(Object.getPrototypeOf,Object);const Sm=function(e){return"function"!=typeof e.constructor||Cd(e)?{}:uv(Mm(e))};var Tm=Function.prototype,Am=Object.prototype,Nm=Tm.toString,Lm=Am.hasOwnProperty,Dm=Nm.call(Object);const zm=function(e){if(!Ts(e)||"[object Object]"!=Ss(e))return!1;var t=Mm(e);if(null===t)return!0;var n=Lm.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Nm.call(n)==Dm};const Om=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};const Rm=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var l=t[o],s=r?r(n[l],e[l],l,n,e):void 0;void 0===s&&(s=e[l]),i?Fu(n,l,s):Zu(n,l,s)}return n};const _m=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var jm=Object.prototype.hasOwnProperty;const Pm=function(e){if(!zs(e))return _m(e);var t=Cd(e),n=[];for(var r in e)("constructor"!=r||!t&&jm.call(e,r))&&n.push(r);return n};const Bm=function(e){return Sd(e)?wd(e,!0):Pm(e)};const Fm=function(e){return Rm(e,Bm(e))};const Hm=function(e,t,n,r,i,o,a){var l=Om(e,n),s=Om(t,n),u=a.get(s);if(u)bm(e,n,u);else{var c=o?o(l,s,n+"",e,t,a):void 0,d=void 0===c;if(d){var f=ps(s),h=!f&&ud(s),p=!f&&!h&&bd(s);c=s,f||h||p?ps(l)?c=l:df(l)?c=Mv(l):h?(d=!1,c=km(s,!0)):p?(d=!1,c=xm(s,!0)):c=[]:zm(s)||Ju(s)?(c=l,Ju(l)?c=Fm(l):zs(l)&&!Os(l)||(c=Sm(s))):d=!1}d&&(a.set(s,c),i(c,s,r,o,a),a.delete(s)),bm(e,n,c)}};const Zm=function e(t,n,r,i,o){t!==n&&Cg(n,(function(a,l){if(o||(o=new Pc),zs(a))Hm(t,n,l,r,e,i,o);else{var s=i?i(Om(t,l),a,l+"",t,n,o):void 0;void 0===s&&(s=a),bm(t,l,s)}}),Bm)};const Wm=function(e){return cf((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&gg(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,o)}return t}))}((function(e,t,n){Zm(e,t,n)}));function Um(e,t){return e(t={exports:{}},t.exports),t.exports}var Km="function"==typeof Symbol&&Symbol.for,Ym=Km?Symbol.for("react.element"):60103,Gm=Km?Symbol.for("react.portal"):60106,Vm=Km?Symbol.for("react.fragment"):60107,Qm=Km?Symbol.for("react.strict_mode"):60108,Xm=Km?Symbol.for("react.profiler"):60114,qm=Km?Symbol.for("react.provider"):60109,Jm=Km?Symbol.for("react.context"):60110,$m=Km?Symbol.for("react.async_mode"):60111,eb=Km?Symbol.for("react.concurrent_mode"):60111,tb=Km?Symbol.for("react.forward_ref"):60112,nb=Km?Symbol.for("react.suspense"):60113,rb=Km?Symbol.for("react.suspense_list"):60120,ib=Km?Symbol.for("react.memo"):60115,ob=Km?Symbol.for("react.lazy"):60116,ab=Km?Symbol.for("react.block"):60121,lb=Km?Symbol.for("react.fundamental"):60117,sb=Km?Symbol.for("react.responder"):60118,ub=Km?Symbol.for("react.scope"):60119;function cb(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Ym:switch(e=e.type){case $m:case eb:case Vm:case Xm:case Qm:case nb:return e;default:switch(e=e&&e.$$typeof){case Jm:case tb:case ob:case ib:case qm:return e;default:return t}}case Gm:return t}}}function db(e){return cb(e)===eb}var fb={AsyncMode:$m,ConcurrentMode:eb,ContextConsumer:Jm,ContextProvider:qm,Element:Ym,ForwardRef:tb,Fragment:Vm,Lazy:ob,Memo:ib,Portal:Gm,Profiler:Xm,StrictMode:Qm,Suspense:nb,isAsyncMode:function(e){return db(e)||cb(e)===$m},isConcurrentMode:db,isContextConsumer:function(e){return cb(e)===Jm},isContextProvider:function(e){return cb(e)===qm},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Ym},isForwardRef:function(e){return cb(e)===tb},isFragment:function(e){return cb(e)===Vm},isLazy:function(e){return cb(e)===ob},isMemo:function(e){return cb(e)===ib},isPortal:function(e){return cb(e)===Gm},isProfiler:function(e){return cb(e)===Xm},isStrictMode:function(e){return cb(e)===Qm},isSuspense:function(e){return cb(e)===nb},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===Vm||e===eb||e===Xm||e===Qm||e===nb||e===rb||"object"==typeof e&&null!==e&&(e.$$typeof===ob||e.$$typeof===ib||e.$$typeof===qm||e.$$typeof===Jm||e.$$typeof===tb||e.$$typeof===lb||e.$$typeof===sb||e.$$typeof===ub||e.$$typeof===ab)},typeOf:cb},hb=Um((function(e,t){0})),pb=(hb.AsyncMode,hb.ConcurrentMode,hb.ContextConsumer,hb.ContextProvider,hb.Element,hb.ForwardRef,hb.Fragment,hb.Lazy,hb.Memo,hb.Portal,hb.Profiler,hb.StrictMode,hb.Suspense,hb.isAsyncMode,hb.isConcurrentMode,hb.isContextConsumer,hb.isContextProvider,hb.isElement,hb.isForwardRef,hb.isFragment,hb.isLazy,hb.isMemo,hb.isPortal,hb.isProfiler,hb.isStrictMode,hb.isSuspense,hb.isValidElementType,hb.typeOf,Um((function(e){e.exports=fb})),Object.getOwnPropertySymbols),gb=Object.prototype.hasOwnProperty,vb=Object.prototype.propertyIsEnumerable;function mb(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}})()&&Object.assign;var bb="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function yb(e,t,n,r,i){}yb.resetWarningCache=function(){0};Function.call.bind(Object.prototype.hasOwnProperty);function wb(){}function Ib(){}Ib.resetWarningCache=wb;var Cb=Um((function(e){e.exports=function(){function e(e,t,n,r,i,o){if(o!==bb){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ib,resetWarningCache:wb};return n.PropTypes=n,n}()})),kb=function(){function e(){this.rowIndex=-1,this.colGroupIndex=-1,this.tempColAttribs=[],this.colIndex=-1,this.rowsZoneId=null,this.colsZoneId=null,this.rowIds=[],this.colIds=[],this.rowAttribs=[],this.colAttribs=[],this.dummyCellIds=[],this.currentMovement=1}var t=e.prototype;return t.setColAttrib=function(e,t){this.colAttribs[e]=this.colAttribs[e]||{},Object.assign(this.colAttribs[e],t)},t.setRowAttrib=function(e,t){this.rowAttribs[e]=this.rowAttribs[e]||{},Object.assign(this.rowAttribs[e],t)},t.collect=function(e){e instanceof HTMLTableColElement&&this.collectCol(e),e instanceof HTMLTableCellElement&&(this.collectCell(e),this.collectWidth(e),this.collectHeight(e),this.collectMergeCellAttrs(e),this.collectBackgroundColor(e),this.collectBorder(e),this.collectVAlign(e),this.collectPadding(e)),e instanceof HTMLTableRowElement&&(this.collectHeight(e),this.carriageReturn())},t.collectWidth=function(e){var t=e.getAttribute("width"),n=this.colIndex,r=this.colAttribs[n]||{},i=this.tempColAttribs[n]||{mergeCol:this.currentMovement},o=as({},r);t&&!o.colWidth&&1===i.mergeCol&&(o.colWidth=t,this.setColAttrib(n,o),this.tempColAttribs[n]=as(as({},i),{mergeCol:this.currentMovement}))},t.collectHeight=function(e){var t=parseInt(e.style.height||e.getAttribute("height")||""),n=+(e.getAttribute("rowspan")||"1");if(t&&!(n>1)){var r=this.rowIndex,i=this.rowAttribs[r]||{};if(!(+i.rowHeight>t)){var o=as({},i);t&&(o.rowHeight=""+t,this.setRowAttrib(r,o))}}},t.collectCell=function(e){var t,n,r=this;for(-1===this.rowIndex&&this.carriageReturn(),this.colIndex++;(null===(t=this.rowAttribs[this.rowIndex])||void 0===t?void 0:t.mergeCellID)&&(null===(n=this.colAttribs[this.colIndex])||void 0===n?void 0:n.mergeCellID)&&this.colAttribs[this.colIndex].mergeCellID.split(",").filter(Boolean).some((function(e){var t;return(null===(t=r.rowAttribs[r.rowIndex])||void 0===t?void 0:t.mergeCellID).split(",").includes(e)}));)this.colIndex++;var i=e.getAttribute("colspan")?Number(e.getAttribute("colspan")):1;this.currentMovement=isNaN(i)?1:i,this.currentMovement&&(this.rowsZoneId||(this.rowsZoneId=Hg()),this.colsZoneId||(this.colsZoneId=Zg()),this.rowIds[this.rowIndex]||this.rowIds.push(Wg()),this.colIds[this.colIndex]||this.colIds.push(Ug()))},t.collectMergeCellAttrs=function(e){var t,n,r=e.getAttribute("rowspan"),i=e.getAttribute("colspan"),o=r?Number(r):0,a=i?Number(i):0;if(o>1||a>1){o=Math.max(o,1),a=Math.max(a,1);for(var l=Fg(8),s=0;s<o;s++){this.setRowAttrib(this.rowIndex+s,((t={})[Ub.MERGE_CELL_ID]=this.getFinalMergeId(l,M.Row,this.rowIndex+s),t));for(var u=0;u<a;u++)this.setColAttrib(this.colIndex+u,((n={})[Ub.MERGE_CELL_ID]=this.getFinalMergeId(l,M.Column,this.colIndex+u),n)),this.rowIds[this.rowIndex+s]||this.rowIds.push(Wg()),this.colIds[this.colIndex+u]||this.colIds.push(Ug()),0===s&&0===u||this.dummyCellIds.push(Kg(this.rowIds[this.rowIndex+s],this.colIds[this.colIndex+u]))}}},t.collectBorder=function(e){var t,n,r,i,o,a,l=e.style,s=l.borderLeftWidth,u=l.borderLeftStyle,c=l.borderLeftColor,d=l.borderLeft,f=l.borderRightWidth,h=l.borderRightStyle,p=l.borderRightColor,g=l.borderRight,v=l.borderTopWidth,m=l.borderTopStyle,b=l.borderTopColor,y=l.borderTop,w=l.borderBottomWidth,I=l.borderBottomStyle,C=l.borderBottomColor,k=l.borderBottom,E=s&&u&&c?s+" "+u+" "+c:d,x=f&&h&&p?f+" "+h+" "+p:g,M=v&&m&&b?v+" "+m+" "+b:y,S=w&&I&&C?w+" "+I+" "+C:k,T=Fg(8);if(E||x||M||S){var A=JSON.parse((null===(o=this.rowAttribs[this.rowIndex])||void 0===o?void 0:o[Ub.BORDER])||"{}");this.setRowAttrib(this.rowIndex,((t={})[Ub.BORDER]=JSON.stringify(as(as({},A),((n={})[T]={left:E,right:x,top:M,bottom:S},n))),t));var N=JSON.parse((null===(a=this.colAttribs[this.colIndex])||void 0===a?void 0:a[Ub.BORDER])||"{}");this.setColAttrib(this.colIndex,((r={})[Ub.BORDER]=JSON.stringify(as(as({},N),((i={})[T]={left:E,right:x,top:M,bottom:S},i))),r))}},t.collectCellAttribute=function(e,t){var n,r,i,o,a,l,s=Fg(8),u=JSON.parse((null===(a=this.rowAttribs[this.rowIndex])||void 0===a?void 0:a[e])||"{}");this.setRowAttrib(this.rowIndex,((n={})[e]=JSON.stringify(as(as({},u),((r={})[s]=t,r))),n));var c=JSON.parse((null===(l=this.colAttribs[this.colIndex])||void 0===l?void 0:l[e])||"{}");this.setColAttrib(this.colIndex,((i={})[e]=JSON.stringify(as(as({},c),((o={})[s]=t,o))),i))},t.collectBackgroundColor=function(e){var t=e.style.backgroundColor;this.collectCellAttribute(Ub.BACKGROUND_COLOR,t)},t.collectVAlign=function(e){var t=e.style.verticalAlign||e.getAttribute("valign");t&&this.collectCellAttribute(Ub.V_ALIGN,t)},t.collectPadding=function(e){var t=e.style,n=t.paddingLeft,r=t.paddingRight,i=t.paddingTop,o=t.paddingBottom;if(n||r||i||o){var a="0px",l=(i||a)+" "+(r||a)+" "+(o||a)+" "+(n||a);this.collectCellAttribute(Ub.PADDING,l)}},t.getFinalMergeId=function(e,t,n){var r,i=t===M.Row?this.rowAttribs:this.colAttribs;return(null===(r=i[n])||void 0===r?void 0:r.mergeCellID)?i[n].mergeCellID+","+e:e},t.carriageReturn=function(){this.colIndex=-1,this.rowIndex++},t.collectCol=function(e){var t,n=this.colGroupIndex+Number(null!==(t=e.getAttribute("span"))&&void 0!==t?t:1),r=e.width;if(r)for(;this.colGroupIndex<n;)this.colGroupIndex++,this.setColAttrib(this.colGroupIndex,{colWidth:r})},t.getCurrentZoneId=function(){return Kg(this.rowIds[this.rowIndex],this.colIds[this.colIndex])},t.flush=function(){this.rowIndex=-1,this.colIndex=-1,this.colGroupIndex=-1,this.colsZoneId=null,this.rowsZoneId=null,this.rowIds=[],this.colIds=[],this.rowAttribs=[],this.colAttribs=[],this.dummyCellIds=[],this.currentMovement=1,this.tempColAttribs=[]},e}();function Eb(){window.getSelection().removeAllRanges()}function xb(e){return Math.max.apply(Math,hs(e))}function Mb(e){return Math.min.apply(Math,hs(e))}function Sb(e,t,n){for(var r=-1,i=-1,o=e;o>=0&&-1===r;o--){for(var a=t;a>=0&&-1===i;a--){var l=n[o][a];(void 0===l.colspan||l.colspan&&l.colspan>0)&&(i=a)}var s=n[o][i];(void 0===s.rowspan||s.rowspan&&s.rowspan>0)&&(r=o)}return{rowIndex:-1===r?e:r,colIndex:-1===i?t:i}}function Tb(e,t){return Object.prototype.toString.apply(e).toLowerCase()==="[object "+t.toLowerCase()+"]"}function Ab(e,t){return Tb(e,"object")&&Tb(t,"object")?Wm(e,t):t}function Nb(e,t,n){var r=t&&t[e];if(r)try{return r(n)}catch(e){console.log(e)}}var Lb=new(function(){function e(){this.isRealMousedown=!1,this.invalidMousedown=!1,this.bindEvent()}return e.prototype.bindEvent=function(){var e=this;Tc.isSafari&&(document.addEventListener("mousedown",(function(){e.isRealMousedown=!0})),document.addEventListener("mouseup",(function(){e.isRealMousedown||(e.invalidMousedown=!0),e.isRealMousedown=!1})))},e}());function Db(e,t){var n=[];return e.forEach((function(e,r){var i=e.insert.id,o=e.attributes||{};n[r]=[];var a=o[Ub.ROW_HEIGHT],l=zb(e),s=JSON.parse(o[Ub.BORDER]||"{}"),u=JSON.parse(o[Ub.BACKGROUND_COLOR]||"{}"),c=JSON.parse(o[Ub.V_ALIGN]||"{}"),d=JSON.parse(o[Ub.PADDING]||"{}"),f=JSON.parse(o[Ub.FONT_FAMILY]||"{}"),h=JSON.parse(o[Ub.FONT_SIZE]||"{}"),p=JSON.parse(o[Ub.FONT_WEIGHT]||"{}");t.forEach((function(e,t){var o,g,v=e.insert.id,m=Kg(i,v),b=zb(e),y=e.attributes||{},w=null===(g=null==e?void 0:e.attributes)||void 0===g?void 0:g.colWidth,I=JSON.parse(y[Ub.BACKGROUND_COLOR]||"{}"),C=JSON.parse(y[Ub.V_ALIGN]||"{}"),k=JSON.parse(y[Ub.PADDING]||"{}"),E=JSON.parse(y[Ub.BORDER]||"{}"),x=ig(Object.keys(I),Object.keys(u))[0],M=ig(Object.keys(C),Object.keys(c))[0],S=ig(Object.keys(E),Object.keys(s))[0],T=ig(Object.keys(k),Object.keys(d))[0];n[r][t]=((o={zoneId:m,rowHeight:a,backgroundColor:u[x],valign:c[M],border:s[S],fontFamily:f[m],fontSize:h[m],fontWeight:p[m],padding:d[T],colSpan:1,rowSpan:1,colWidth:w,constantRowNums:1,constantColNums:1})[Ub.MERGE_CELL_ID]="",o);var A=ig(b,l);A.length>0&&(n[r][t][Ub.MERGE_CELL_ID]=A[0])}))})),function(e){e.forEach((function(t,n){t.forEach((function(t,r){var i,o,a=e[n][r],l=a[Ub.MERGE_CELL_ID],s=null===(i=e[n])||void 0===i?void 0:i[r-1],u=null===(o=e[n-1])||void 0===o?void 0:o[r],c=l&&(null==s?void 0:s[Ub.MERGE_CELL_ID])===l,d=l&&(null==u?void 0:u[Ub.MERGE_CELL_ID])===l;c&&(e[n][r-s.constantColNums].colSpan=s.constantColNums+1,a.constantColNums=s.constantColNums+1,a.colSpan=0),d&&(e[n-u.constantRowNums][r].rowSpan=u.constantRowNums+1,a.constantRowNums=u.constantRowNums+1,a.rowSpan=0)}))}))}(n),n}function zb(e){var t,n=null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t[Ub.MERGE_CELL_ID];return n?n.split(","):[]}var Ob=["author","lmkr","lineguid","insertorder"];function Rb(e,t){e.forEach((function(e){e.zoneType!==M.Content&&e.forEach((function(e){e.attributes&&Object.entries({isCustomBorder:[Ub.BORDER],isCustomValign:[Ub.V_ALIGN],isCustomPadding:[Ub.PADDING],isCustomBackgroundColor:[Ub.BACKGROUND_COLOR],isCustomFont:[Ub.FONT_FAMILY,Ub.FONT_SIZE,Ub.FONT_WEIGHT]}).forEach((function(n){var r=fs(n,2),i=r[0],o=r[1];(null==t?void 0:t[i])||o.forEach((function(t){e.attributes[t]&&delete e.attributes[t]}))}))}))}))}var _b,jb={BUTTON:"click_delete_button",KEYBOARD:"delete_keyboard"},Pb="insertTable",Bb=["magicObject","aceTable"],Fb="aceTable",Hb="width_fixed",Zb={x:2,y:2};!function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(_b||(_b={}));var Wb,Ub={SEPARATOR:"|",M_SEPARATOR:",",SEMICOLON_SEPARATOR:";",ROW_HEIGHT:"rowHeight",COL_WIDTH:"colWidth",MERGE_CELL_ID:"mergeCellID",COL_SPAN:"colspan",ROW_SPAN:"rowspan",BORDER:"border",BACKGROUND_COLOR:"backgroundColor",FONT_FAMILY:"fontFamily",FONT_SIZE:"fontSize",FONT_WEIGHT:"fontWeight",COL_MIN_WIDTH:"colMinWidth",V_ALIGN:"valign",PADDING:"padding"},Kb=100,Yb="ignore-dom",Gb={UPDATE_CELL_SELECT:"UPDATE_CELL_SELECT",OVERLAY_CHANGE:"OVERLAY_CHANGE",CONTEXT_CHANGE:"CONTEXT_CHANGE",CUT:"TABLE_CUT",COPY:"TABLE_COPY"},Vb={MOVE:"move",CLICK:"click",OTHER:""},Qb={EDITABLE_CHANGE:"ace-table-editable-change",SELECT_CHANGED:"table-selected-changed",KEY_EVENT:"ace-key-event",BEFORE_TABLE_KEY_EVENT:"before_table_inner_keydown",HORZ_REISZE:"table_horz_resize",SCROLLABLE:"table_scrollable",DELETE_COL:"delete_col_atIndex",TABLE_REGISTER_ZONE_END:"tableRegisterZoneEnd",DELETE_TABLE_ON_MAIN_ZONE:"delete_table_on_main_zone"},Xb={TABLE_FULL_WIDTH:"tableFullWidth",PASTE_CELLS_ONTO_TABLE:"paste-cells-onto-table",TABLE_COL_WIDTH:"tableColWidth",TABLE_CELL_FOCUS:"tableCellFocus",TABLE_DRAG:"tableDrag",ADD_ROW:"addRow",DELETE_ROW:"deleteRow",ADD_COL:"addCol",DELETE_COL:"deleteCol",CHECK_IS_FOCUSED:"checkIsFocused",ADD_LINE_BETWEEN_TABLES:"addLineBetweenTables",TABLE_MERGE_CELL:"mergeCell",TABLE_UNMERGE_CELL:"unmergeCell",DELETE_TABLE:"deleteTable",ZONE_FOCUS:"zoneFocus",APPLY_VECTOR_CHANGESET:"applyVectorChangeset",CLEAR_ZONE_CONTENT:"clearZoneContent",REPLACE_VECTOR_RANGE:"replaceVectorRange",APPLY_ATTRIBUTES_TO_ROW_OR_COL:"applyAttributesToRowOrCol"},qb="1px solid #dee0e3",Jb="colCountsChange",$b=["h1","h2","h3","bold","italic","underline","backcolor","checkbox","blockquote","insertorderedlist","insertunorderedlist","alignleft","aligncenter","alignright","insertcodelist"],ey={SELECTION_POPUP:".selection-popup",TABLE_HEADER:".ace-table-toolbars",TABLE_SPECIAL_SELECTION:".table-special-selection",ACE_TABLE_TOOLBAR_POPOVER_CLASS:".ace-table-toolbar-popover"},ty={innerZoneEditor:Cb.object,innerZoneIdToInitialHTML:Cb.object.isRequired},ny=["bold","italic","underline","strikethrough","heading","align","list","backgroundcolor","fontcolor","fontsize","blockquote","fontfamily"];function ry(e){return"table-id-"+e.replace(" ","-")}function iy(e){return e[Ub.MERGE_CELL_ID]?e[Ub.MERGE_CELL_ID].split(Ub.M_SEPARATOR):[]}function oy(e,t){var n=t.rAttr,r=t.cAttr;try{var i=n[e]?JSON.parse(n[e]):{},o=r[e]?JSON.parse(r[e]):{};return i[ig(Object.keys(i),Object.keys(o))[0]]}catch(e){console.log(e)}}function ay(e){var t=e.rAttr,n=e.cAttr,r=e.rIndex,i=e.cIndex,o=e.cellAttribs;if(e.cellId){var a=oy(Ub.BORDER,{rAttr:t,cAttr:n});a&&(o[r][i][Ub.BORDER]=a)}}function ly(e){var t=e.rAttr,n=e.cAttr,r=e.rIndex,i=e.cIndex,o=e.cellAttribs,a=oy(Ub.V_ALIGN,{rAttr:t,cAttr:n});a&&(o[r][i][Ub.V_ALIGN]=a)}function sy(e){var t=e.rAttr,n=e.cAttr,r=e.rIndex,i=e.cIndex,o=e.cellAttribs,a=oy(Ub.BACKGROUND_COLOR,{rAttr:t,cAttr:n});a&&(o[r][i][Ub.BACKGROUND_COLOR]=a)}function uy(e){var t=e.rAttr,n=e.cAttr,r=e.rIndex,i=e.cIndex,o=e.cellAttribs,a=oy(Ub.PADDING,{rAttr:t,cAttr:n});a&&(o[r][i][Ub.PADDING]=a)}function cy(e){var t=e.rAttr,n=e.cAttr,r=e.rIndex,i=e.cIndex,o=e.cellAttribs,a=e.cellId;if(a)try{var l=t[Ub.FONT_SIZE]?JSON.parse(t[Ub.FONT_SIZE]):{},s=n[Ub.FONT_SIZE]?JSON.parse(n[Ub.FONT_SIZE]):{};l[a]&&l[a]===s[a]&&(o[r][i][Ub.FONT_SIZE]=l[a]);var u=t[Ub.FONT_WEIGHT]?JSON.parse(t[Ub.FONT_WEIGHT]):{},c=n[Ub.FONT_WEIGHT]?JSON.parse(n[Ub.FONT_WEIGHT]):{};u[a]&&u[a]===c[a]&&(o[r][i][Ub.FONT_WEIGHT]=u[a]);var d=t[Ub.FONT_FAMILY]?JSON.parse(t[Ub.FONT_FAMILY]):{},f=n[Ub.FONT_FAMILY]?JSON.parse(n[Ub.FONT_FAMILY]):{};d[a]&&d[a]===f[a]&&(o[r][i][Ub.FONT_FAMILY]=d[a])}catch(e){console.log("e",e)}}function dy(e,t){var n=e.rAttr,r=e.cAttr,i=e.rIndex,o=e.cIndex,a=e.cellAttribs;if(e.cellId){var l=oy(t,{rAttr:n,cAttr:r});l&&(a[i][o][t]=l)}}function fy(e){var t,n=e.rowIndex,r=e.colIndex,i=e.cellAttribs,o=rg(i,[n,r,Ub.BORDER],{});0!==r&&((t=rg(i,[n,r-1,Ub.BORDER]))&&t.right&&(o.left=t.right));0!==n&&((t=rg(i,[n-1,r,Ub.BORDER]))&&t.bottom&&(o.top=t.bottom));return o}function hy(e,t){return Object.keys(e).reduce((function(n,r){var i=t[r];try{i=JSON.parse(i)}catch(e){}var o=Ab(i,e[r]);return n[r]=Tb(o,"object")?JSON.stringify(o):o,n}),{})}function py(e,t){var n=e.colIds,r=e.colAttribs;return n.map((function(e,n){return r[n]?r[n][Ub.COL_WIDTH]:t||null})).filter((function(e){return null!==e}))}function gy(e){var t,n=e.ops.pop();(null===(t=null==n?void 0:n.insert)||void 0===t?void 0:t.endsWith("\n"))&&(n.insert=n.insert.slice(0,-1)),(null==n?void 0:n.insert)&&e.ops.push(n)}!function(e){e.TOP="top",e.LEFT="left",e.BOTTOM="bottom",e.RIGHT="right",e.ALL="all"}(Wb||(Wb={}));const vy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getChildContext=function(){var e=t.props;return{innerZoneEditor:e.editor,innerZoneIdToInitialHTML:e.zoneIdToInitialHTML}},t}return os(t,e),t.prototype.render=function(){return i.Children.only(this.props.children)},t.childContextTypes=ty,t}(i.Component);function my(e){var t,n,r,i,o,a={};try{for(var l=ds(e.getContent().entries()),s=l.next();!s.done;s=l.next()){var u=fs(s.value,2),c=u[0],d=u[1];if(d.getType()!==M.Content){a[c]=a[c]||{forRow:d.getType()===M.Row,vectorIds:[]};var f=d.getContent().ops;try{for(var h=(r=void 0,ds(f)),p=h.next();!p.done;p=h.next()){var g=p.value,v=null===(o=g.insert)||void 0===o?void 0:o.id;v&&a[c].vectorIds.push(v),g.attributes&&(a[c].attributes=g.attributes)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a}function by(e,t){var n,r,i,o=e.getZoneState(t);if(!o)return[];var a=o.getContent().ops,l=[];try{for(var s=ds(a),u=s.next();!u.done;u=s.next()){var c=null===(i=u.value.insert)||void 0===i?void 0:i.id;c&&l.push(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return l}var yy=Dg,wy=Rg,Iy=_g,Cy=Yg,ky=iv,Ey=function(e){function t(t){var n,r=e.call(this,t)||this;r.isComponentMounted=!1,r.isMouseDown=!1,r.isMouseTableSelectionMoreThanOne=!1,r.tableHeaderRef=null,r.arrowKeyTimer=null,r.currentHoverOfZone=null,r.tableColsWidth=[],r.tableWidth=0,r.currentStack="",r.attributesApplyingQueue={},r.updateCallStack=[],r.isInBuffer=!0,r.minDragWidths=[],r.idleTimer=0,r.contentEditable=!1,r.blockIdToZoneId={},r.zoneBlockMinWidthMap={},r.customStatus={},r.invalidMouseDown=!1,r.instanceName="ACE_TABLE",r.shouldRetain=!0,r.calcUpdateTableRectInfo=function(){var e=r.props.editor,t=r.tableWrapperOuterRef.closest(".ace-line");if(t){var n=oa(t,e);if(n){var i=n.start.line,o=e.rectModule.getLineRect({zoneId:fe,line:i}),a=o.top,l=o.left,s=o.bottom,u=r.tableRectInfo.get("top"),c=r.tableRectInfo.get("bottom"),d=r.tableRectInfo.get("left");return(u!==a||c!==s||d!==l)&&(r.tableRectInfo.clear(),r.tableRectInfo.set("top",a),r.tableRectInfo.set("bottom",s),r.tableRectInfo.set("left",l),!0)}}},r.setSelectionInFirstCellOfSelectedCells=function(){var e=r.getSelectedZonesWithVisible();e.length&&r.setSelectionOntoCell(e[0],{start:[0,0],end:[-1,-1]})},r.setCursorInFirstCellOfSelectedCells=function(){var e=r.getSelectedZonesWithVisible();e.length&&r.setSelectionOntoCell(e[0],{start:[0,0],end:[0,-1]})},r.bindEvents=function(){var e=r.props.editor;e.on("inner-zone-focus",r.handleInnerZoneFocus),e.on("ace-focus",r.handleAceFocus),e.on("ace-blur",r.handleAceBlur),e.on("ace-table-editable-change",r.setContentEditable),e.on("ace-mousedown",r.handleAceMouseDown),e.on(Gb.UPDATE_CELL_SELECT,r.selectedCellsChange),e.on("set-zone-block-min-width",r.setZoneBlockMinWidth),e.on("remove-zone-block-min-width",r.removeZoneBlockMinWidth)},r.removeEvents=function(){var e=r.props.editor;e.off("inner-zone-focus",r.handleInnerZoneFocus),e.off("ace-focus",r.handleAceFocus),e.off("ace-blur",r.handleAceBlur),e.off("ace-table-editable-change",r.setContentEditable),e.off("ace-mousedown",r.handleAceMouseDown),e.off(Gb.UPDATE_CELL_SELECT,r.selectedCellsChange),e.off("set-zone-block-min-width",r.setZoneBlockMinWidth),e.off("remove-zone-block-min-width",r.removeZoneBlockMinWidth)},r.getTableId=function(){return r.tableId},r.getDocbodyRect=function(){var e=r.props.editor.getRect(),t=e.right;return{width:e.width,right:t,left:e.left}},r.handleToolbarShown=function(){r.setState({addRemoveIsShown:!0})},r.handleToolbarHidden=function(){r.setState({addRemoveIsShown:!1})},r.getRect=function(e){var t;if(e&&e.parentNode&&r.props.editor.getContainer()&&!(null===(t=e.closest(".ace-line"))||void 0===t?void 0:t.classList.contains("ace-line-collapsed"))){var n=e.getBoundingClientRect(),i=n.width,o=n.left,a=n.right,l=n.top;return{bottom:n.bottom,height:n.height,left:o,right:a,top:l,width:i}}},r.triggerArrorKeyAMomentAgo=function(){r.arrowKeyTimer&&clearTimeout(r.arrowKeyTimer),r.arrowKeyTimer=window.setTimeout((function(){r.arrowKeyTimer=null}),100)},r.handleHeaderMouseDown=function(e,t,n,i){var o,a;if(void 0===i&&(i=!1),e.target instanceof HTMLElement&&((null===(o=e.target)||void 0===o?void 0:o.closest(".ace-table-col-select"))||(null===(a=e.target)||void 0===a?void 0:a.closest(".ace-table-row-select")))&&!r.isEmpty()&&!(e.button>1)){var l=function(e){r.updateSelectedCellsViaHeader(e,n,i)},s=function(e){document.removeEventListener("mouseup",s),document.removeEventListener("mousemove",l),r.disposeTableMouseSelection(),r.selectedCellsChange();var t=r.props.editor,n=t.getScrollContainer().scrollTop||0;e.target instanceof HTMLElement&&!e.target.classList.contains("dmc-button")&&t.scrollTo({top:n})};r.props.editor.call("headerMouseDown",r),r.disposeTableMouseSelection(),document.addEventListener("mouseup",s),document.addEventListener("mousemove",l),r.isMouseDown=!0,r.updateCurrentHoverHeader(t,n);var u=n?t:0,c=n?0:t;if(!wy(e))if(e.shiftKey){if(-1!==r.state.currentRowAnchor&&-1!==r.state.currentColAnchor){var d=n?r.state.currentRowAnchor:0,f=n?0:r.state.currentColAnchor,h=n?u:r.getRowCount()-1,p=n?r.getColCount()-1:c;if(i){var g=r.getFocusIndices({currentRowAnchor:d,currentColAnchor:f,currentRowFocus:h,currentColFocus:p});r.em&&r.em.emit("tableToolbarsMouseDownWithShift",{selectCellIds:g,position:n?"left":"top"})}r.setFocusIndices({currentRowAnchor:d,currentColAnchor:f,currentRowFocus:h,currentColFocus:p})}}else r.setState({currentRowAnchor:u,currentColAnchor:c,isSelectRowOrCol:!0,forRows:n},(function(){}))}},r.handleKeyDown=function(e){var t=r.props.editor,n=r.state.selectedCellIds,i=e.evt.nativeEvent,o=i.target;if(o.closest(".ace-table-mount-point")&&!Nb("KeyDownEvent",r.props.tableOptions,{tableInstance:r,evt:i})){t.call(Qb.BEFORE_TABLE_KEY_EVENT,{target:o});["Control","Meta","Alt","Shift","Backspace","Delete"].includes(i.key)||Iy(i)||$b.includes(yy(i))||0===n.length||r.setState({selectedCellIds:[]})}},r.findMergeCellBorder=function(e){for(var t=r.state.cellAttribs,n=[e],i=[],o=0;o<t.length+1;o++)i[o]=[];for(;n.length;){var a=n.pop();if(a){var l=a.rowIndex,s=a.colIndex,u=a.mergeId;if(!(l<0||l>t.length||s<0||s>t[0].length)){var c=rg(t,[l,s,Ub.ROW_SPAN]);if(rg(t,[l,s,Ub.COL_SPAN])||c)return fy({rowIndex:l,colIndex:s,cellAttribs:t});i[l+1]&&!i[l+1][s]&&rg(t,[l+1,s,Ub.MERGE_CELL_ID])===u&&n.push({rowIndex:l+1,colIndex:s,mergeId:u}),i[l-1]&&!i[l-1][s]&&rg(t,[l-1,s,Ub.MERGE_CELL_ID])===u&&n.push({rowIndex:l-1,colIndex:s,mergeId:u}),i[l]&&!i[l][s+1]&&rg(t,[l,s+1,Ub.MERGE_CELL_ID])===u&&n.push({rowIndex:l,colIndex:s+1,mergeId:u}),i[l]&&!i[l][s-1]&&rg(t,[l,s-1,Ub.MERGE_CELL_ID])===u&&n.push({rowIndex:l,colIndex:s-1,mergeId:u})}}}return{}},r.updateSelectedCells=function(e){if(r.isMouseDown){r.isEmpty()&&r.setState({selectedCellIds:[],selectType:Vb.MOVE});var t=r.state,n=t.currentRowAnchor,i=t.currentColAnchor,o=r.getRowAndColIndexOfCurrentFocusZone(),a=o.rowIndex,l=o.colIndex;-1!==a&&-1!==l&&-1!==n&&-1!==i&&r.setFocusIndices({currentRowAnchor:n,currentColAnchor:i,currentRowFocus:a,currentColFocus:l,isUpdateCaret:!r.contentEditable,selectType:Vb.MOVE})}},r.updateSelectedCellsViaHeader=function(e,t,n){if(!wy(e)&&r.isMouseDown){r.isEmpty()&&!n&&r.setState({selectedCellIds:[]});var i=r.state,o=i.rowHeaderHeights,a=i.colHeaderWidths,l=r.state,s=l.currentRowAnchor,u=l.currentColAnchor,c=r,d=c.currentHoverOfRowHeader,f=c.currentHoverOfColHeader,h=[],p=0,g=0,v=0,m=0;if(t&&-1!==d){var b=d,y=r.getColCount()-1;n?h=r.getFocusIndices({currentRowAnchor:s,currentColAnchor:u,currentRowFocus:b,currentColFocus:y,isNeat:false}).selectedCellIds:r.setFocusIndices({currentRowAnchor:s,currentColAnchor:u,currentRowFocus:b,currentColFocus:y,isNeat:false});for(var w=Math.min(s,b),I=Math.max(s,b),C=w;C<=I;C++)g+=o[C];v=1,m=o.slice(0,w).reduce((function(e,t){return e+t}),1),p=a.slice(0).reduce((function(e,t){return e+t}))}if(!t&&-1!==f){b=r.getRowCount()-1,y=f;n?h=r.getFocusIndices({currentRowAnchor:s,currentColAnchor:u,currentRowFocus:b,currentColFocus:y,isNeat:!1}).selectedCellIds:r.setFocusIndices({currentRowAnchor:s,currentColAnchor:u,currentRowFocus:b,currentColFocus:y,isNeat:!1});var k=Math.min(u,y),E=Math.max(u,y);for(C=k;C<=E;C++)p+=a[C];m=1,v=a.slice(0,k).reduce((function(e,t){return e+t}),1),g=o.slice(0).reduce((function(e,t){return e+t}))}n&&r.em&&r.em.emit("tableToolbarsMouseMove",{selectedCellIds:h,position:{x:v,y:m},rect:{width:p,height:g},positionType:t?"left":"top"})}},r.tableWillDelete=function(e){void 0===e&&(e=jb.BUTTON),Nb("tableDeleted",r.props.tableOptions,{type:e,tableId:r.tableId,tableInstance:r})},r.getDeleteInnerZoneDeltaSet=function(){var e=r.props.editor,t=fs(r.getAllChildZones()),n=t[0],i=t[1],o=t.slice(2),a=e.getContentState(),l=new J;o.filter((function(e,t){return o.indexOf(e)===t})).forEach((function(e){var t=a.getZoneState(e);if(t&&"\n"!==t.getModelText()){var n=new ae({zoneId:e}).delete(t.totalWidth()-1);l=l.compose(n)}}));var s=new St({zoneId:n}).delete(r.getRowCount());l=l.compose(s);var u=new Tt({zoneId:i}).delete(r.getColCount());return l=l.compose(u)},r.copyTable=function(){r.props.editor.call(Gb.COPY)},r.cutTable=function(){r.props.editor.call(Gb.CUT)},r.handleHorzResizeStart=function(e){r.setState({columnBeingResized:e}),r.props.editor.call("horzResizeStart");var t=r.state.colAttribs,n=Number(t[e][Ub.COL_WIDTH]);n||(n=r.calColHeaderWidths().colHeaderWidths[e]);var i=Math.max(r.getColMinWidth(e),r.getCellMinWidth());n<i&&r.setColumnWidth(e,i)},r.handleToggleSelectTable=function(e){e?(r.selectAll(),r.focusAndCollapseSelectionOntoCell(0,0,[0,0],!1)):(r.unselectAll(),r.props.editor.focus(),r.focusAndCollapseSelectionOntoCell(0,0))},r.notifySelectCol=function(e,t){var n,i;e.preventDefault(),Eb(),Array.isArray(t)||(t=[t]);var o=[];if(!e.shiftKey)try{for(var a=ds(t),l=a.next();!l.done;l=a.next()){var s=l.value;o.push.apply(o,hs(r.getColZones(r.state.rowIds[s],wy(e))))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}r.em&&r.em.emit("tableToolbarsClick",{indices:t,selectedCellIds:o,positionType:"top"})},r.notifySelectRow=function(e,t){var n,i;e.preventDefault(),Eb();var o=[];if(Array.isArray(t)||(t=[t]),!e.shiftKey)try{for(var a=ds(t),l=a.next();!l.done;l=a.next()){var s=l.value;o.push.apply(o,hs(r.getRowZones(r.state.rowIds[s],wy(e))))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}r.em&&r.em.emit("tableToolbarsClick",{indices:t,selectedCellIds:o,positionType:"left"})},r.handleSelectCol=function(e,t){var n;if(Array.isArray(t)||(t=[t]),(null===(n=r.props.tableOptions)||void 0===n?void 0:n.autoFocus)?r.focusAndCollapseSelectionOntoCell(0,t[0]):setTimeout((function(){Eb()})),e.preventDefault(),!e.shiftKey){var i=t.map((function(e){return r.state.colIds[e]}));r.selectCol(i,wy(e))}},r.handleSelectRow=function(e,t){var n;if(Array.isArray(t)||(t=[t]),(null===(n=r.props.tableOptions)||void 0===n?void 0:n.autoFocus)?r.focusAndCollapseSelectionOntoCell(t[0],0):Eb(),e.preventDefault(),!e.shiftKey){var i=t.map((function(e){return r.state.rowIds[e]}));r.selectRow(i,wy(e))}},r.getRowCount=function(){return r.state.rowIds.length},r.getColCount=function(){return r.state.colIds.length},r.getRowIds=function(){return r.state.rowIds.slice(0)},r.getColIds=function(){return r.state.colIds.slice(0)},r.getCellIds=function(){for(var e=[],t=r.getRowIds(),n=r.getColIds(),i=0;i<t.length;i++)for(var o=t[i],a=0;a<n.length;a++){var l=n[a];e.push(Kg(o,l))}return e},r.getTableBorder=function(){return r.state.aceTableBorder},r.getRowsZoneId=function(){return r.state.rowsZoneId},r.getColsZoneId=function(){return r.state.colsZoneId},r.isEmpty=function(){return 0===r.state.rowIds.length||0===r.state.colIds.length},r.getTable=function(){return r.tableRef},r.getTableWrapper=function(){return r.tableWrapperRef},r.getTableInnerWrapper=function(){return r.tableWrapperInnerRef},r.getScrollable=function(){return r.tableWrapperInnerRef.scrollableRef},r.getSelectedZonesForSpecialSelection=function(){return r.state.selectedCellIds.slice(0)},r.getEditor=function(){return r.props.editor},r.setHintRowsToDelete=function(e,t){r.setState({hintRowsToDeleteStartIndex:e,hintRowsToDeleteCount:t})},r.setHintColsToDelete=function(e,t){r.setState({hintColsToDeleteStartIndex:e,hintColsToDeleteCount:t})},r.deleteZoneContents=function(e){var t=r.props.editor.getContentState(),n=t.getZoneState(e);if(n&&n.getLine(n.length()-1)){var i=new ae({zoneId:e}).delete(n.totalWidth()-1);t.apply(i,{type:Xb.CLEAR_ZONE_CONTENT})}},r.getRowIdsFromRegions=function(e){return r.state.rowIds.slice(e[0],e[1])},r.getColIdsFromRegions=function(e){return r.state.colIds.slice(e[0],e[1])},r.getWhollySelectedRegions=function(e){for(var t={rows:{},cols:{}},n=e||r.getSelectedZonesForSpecialSelection(),i=0;i<n.length;i++){var o=r.getRowAndColIndicesForCellId(n[i]);o&&(t.rows[o.rowIndex]=(t.rows[o.rowIndex]||0)+1,t.cols[o.colIndex]=(t.cols[o.colIndex]||0)+1)}var a=[],l=[],s=r.getRowCount(),u=r.getColCount();for(i=0;i<s;++i)t.rows[i]===u&&a.push(i);for(i=0;i<u;++i)t.cols[i]===s&&l.push(i);return{rows:a,cols:l,entireTable:a.length===s&&l.length===u}},r.getPartiallySelectedRegions=function(){for(var e={},t={},n=r.getSelectedZonesForSpecialSelection(),i=0;i<n.length;i++){var o=r.getRowAndColIndicesForCellId(n[i]);o&&(e[o.rowIndex]=!0,t[o.colIndex]=!0)}return{partialRows:Object.keys(e).map((function(e){return parseInt(e,10)})),partialCols:Object.keys(t).map((function(e){return parseInt(e,10)}))}},r.hasSelectedZonesForSpecialSelection=function(){return r.state.selectedCellIds.length>0},r.getIsSelectAll=function(){return r.state.isSelectAll},r.getSelectStatus=function(){return r.state.selectedCellIds},r.select=function(e){r.setState({selectedCellIds:e})},r.selectAll=function(){r.setState({selectedCellIds:r.getCellIds(),currentRowAnchor:0,currentColAnchor:0,currentRowFocus:r.state.rowIds.length-1,currentColFocus:r.state.colIds.length-1,isSelectAll:!0,selectType:Vb.CLICK})},r.unselectAll=function(){r.isComponentMounted&&r.setState({selectedCellIds:[],currentRowAnchor:-1,currentColAnchor:-1,currentRowFocus:null,currentColFocus:null,isSelectAll:!1})},r.updateBorderHighlightStatus=function(e,t){e&&(t?e.classList.add("ace-table-is-highlight"):e.classList.remove("ace-table-is-highlight"))},r.toggleBorderHighlight=function(e){var t=r.getTableOuterWrapperRef();if(void 0===e)return r.updateBorderHighlightStatus(t,!r.isHighlight),void(r.isHighlight=!r.isHighlight);r.updateBorderHighlightStatus(t,e),r.isHighlight=!r.isHighlight},r.selectCol=function(e,t){var n,i,o,a,l=r.state.colIds;e=Array.isArray(e)?e:[e];var s=l.indexOf(e[e.length-1]),u=r.getRowIds(),c=[];try{for(var d=ds(e),f=d.next();!f.done;f=d.next()){var h=f.value;try{for(var p=(o=void 0,ds(u)),g=p.next();!g.done;g=p.next()){var v=g.value;c.push(Kg(v,h))}}catch(e){o={error:e}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var m={selectedCellIds:t?ig(r.state.selectedCellIds,c).length===c.length?ag(r.state.selectedCellIds,c):cg(c,r.state.selectedCellIds):c,currentRowAnchor:0,currentColAnchor:s,currentRowFocus:u.length-1,currentColFocus:s,selectType:Vb.CLICK};r.setState(m)},r.getAllChildZones=function(){return[r.state.rowsZoneId,r.state.colsZoneId].concat(r.getCellIds())},r._getTableScrollWidth=function(e,t){var n=t||Kb;return r.state.colHeaderWidths.reduce((function(t,r,i){return t+=i!==e?r+1:n+1}),1)},r.setContentEditable=function(e){r.contentEditable=e},r.isEditingDisabled=function(){return!r.contentEditable||r.isEmpty()},r.getRowAndColIndicesForNode=function(e,t){void 0===t&&(t=!1);var n=e.closest("tr"),i=e.closest("td"),o=r.tbodyRef,a=-1,l=-1;if(n&&i)a=Array.from(o.querySelectorAll("tr")).indexOf(n),l=Array.from(n.querySelectorAll("td")).indexOf(i);else if(t)return r.getRowAndColIndicesForHeaderNode(e);return{rowIndex:a,colIndex:l}},r.getRowAndColIndicesForHeaderNode=function(e){var t,n,r=-1,i=-1,o=e.closest("button.ace-table-row-select"),a=e.closest("button.ace-table-col-select");if(o){var l=(null===(t=e.closest(".ace-table-row-headers"))||void 0===t?void 0:t.querySelectorAll(".ace-table-row-select"))||[];r=Array.from(l).indexOf(o)}else if(a){var s=(null===(n=e.closest(".ace-table-col-headers"))||void 0===n?void 0:n.querySelectorAll(".ace-table-col-select"))||[];i=Array.from(s).indexOf(a)}return{rowIndex:r,colIndex:i}},r.getIsNearCellEdge=function(e,t,n){var i=r.tableWrapperRef.querySelector("tr:nth-child("+(t+1)+")");if(!i)return!1;var o=i.querySelector("td:nth-child("+(n+1)+")");if(!o)return!1;var a=o.querySelector(".tb-resizable-grippy");if(!a)return!1;var l=a.getBoundingClientRect().left-e.clientX;return l>0&&l<=4},r.getRowAndColIndicesForCellId=function(e){var t=Cy(e),n=t.rowId,i=t.colId,o=r.state.rowIds.indexOf(n),a=r.state.colIds.indexOf(i);return-1===o||-1===a?null:{rowIndex:o,colIndex:a}},r.focusAndSelectCellContents=function(e){var t=e.rowIndex,n=e.colIndex,i=e.cellId;if(!i&&void 0!==t&&void 0!==n&&t>=0&&n>=0&&t<=r.state.rowIds.length&&n<=r.state.colIds.length&&(i=r.getZoneIdFromRowAndColIndex(t,n)),i){var o=r.props.editor,a=o.getContentState().getZoneState(i);if(a){var l=a.length()-1,s=a.getLine(l);s&&o.selection.setSelection({start:{zoneId:i,line:0,offset:0},end:{zoneId:i,line:l,offset:s.length()-1},zoneId:i},!0)}}},r.disposeTableMouseSelection=function(){r.setCurrentHoverOfZone(null),r.updateCurrentHoverHeader(-1,!0),r.updateCurrentHoverHeader(-1,!1),r.isMouseDown=!1,r.isMouseTableSelectionMoreThanOne=!1,document.removeEventListener("mouseup",r.handleTableMouseUpAfterMove),document.removeEventListener("mousemove",r.updateSelectedCells),r.setHighlightColumn(null),r.setHighlightRow(null)},r.getPointOfCurrentTable=function(){var e=r.tablePlugin.instanceManager.getInstanceById(r.tableId);if(!e)return null;var t=r.tablePlugin.instanceManager.getLineStateByInstance(e);return t?{zoneId:t.parent.getZoneId(),line:t.index,offset:t.length()}:null},r.setHighlightColumn=function(e){r.setState({columnWithRightBorderHighlighted:e})},r.setHighlightRow=function(e){r.setState({rowWithBottomBorderHighlighted:e})},r.getDropDestination=function(e,t){return-1===t?e:t<e?t-1:t},r.getSelectionBoundingRect=function(e){var t=r.props.editor,n=e.start,i=e.end;return n.zoneId!==i.zoneId||n.line!==i.line||n.offset!==i.offset?null:{left:t.rectModule.getCaretRect(n).left,width:0}},r.horizontalScrollToZone=function(e){var t=e.start.zoneId;if("0"!==t){var n=r.getSelectionBoundingRect(e);if(n){var i=n.left,o=n.width,a=r.getRowAndColIndicesForCellId(t);if(a){for(var l=0,s=a.colIndex-1;s>=0;s--)l+=r.state.colHeaderWidths[s];var u=l+i,c=r.tablePlugin.instanceManager.getInstanceBySubZoneId(t);if(c){var d=c.getScrollable();if(d){d.style.marginLeft&&(u+=-parseInt(d.style.marginLeft,10));var f=u+o;d.scrollLeft>f&&(d.scrollLeft=f)}}}}}},r.setFocusIndices=function(e){var t=e.currentRowAnchor,n=e.currentRowFocus,i=e.currentColAnchor,o=e.currentColFocus,a=e.isUpdateCaret,l=void 0!==a&&a,s=e.selectType,u=void 0===s?Vb.OTHER:s,c=e.isNeat,d=void 0===c||c;if(!ef([n,o,t,i,u],[r.state.currentRowFocus,r.state.currentColFocus,r.state.currentRowAnchor,r.state.currentColAnchor,r.state.selectType])){var f=r.getFocusIndices({currentRowAnchor:t,currentRowFocus:n,currentColAnchor:i,currentColFocus:o,isNeat:d}).selectedCellIds;(f.length>1||r.isMouseTableSelectionMoreThanOne)&&(r.isMouseTableSelectionMoreThanOne=!0,l&&r.focusAndCollapseSelectionOntoCell(n,o,[0,0],!1),r.setState({selectedCellIds:f,currentRowFocus:n,currentColFocus:o,currentRowAnchor:t,currentColAnchor:i,selectType:u}))}},r.moveFocusCell=function(e,t){if(!r.isEmpty()){var n=void 0,i=void 0,o=void 0,a=void 0;if(r.state.selectedCellIds.length)o=r.state.currentRowAnchor,a=r.state.currentColAnchor,n=r.state.currentRowFocus,i=r.state.currentColFocus;else{var l=r.props.editor.getContentState().getActiveZone().getZoneId();if(!l)return;var s=r.getRowAndColIndicesForCellId(l);if(!s)return;o=n=s.rowIndex,a=i=s.colIndex}n=Math.max(0,Math.min(r.getRowCount()-1,n+e)),i=Math.max(0,Math.min(r.getColCount()-1,i+t)),r.setFocusIndices({currentRowAnchor:o,currentColAnchor:a,currentRowFocus:n,currentColFocus:i})}},r.selectEntireCell=function(e){var t=e.cellId,n=e.withMergedCell,i=void 0!==n&&n,o=r.getRowAndColIndicesForCellId(t);if(o){var a=r.state,l=a.cellAttribs,s=a.colIds,u=a.rowIds,c=o.rowIndex,d=o.colIndex,f=[t],h=d,p=c;if(i){var g=l[c][d];g[Ub.COL_SPAN]>1&&(h=d+g[Ub.COL_SPAN]-1),g[Ub.ROW_SPAN]>1&&(p=c+g[Ub.ROW_SPAN]-1);for(var v=c;v<=p;v++)for(var m=d;m<=h;m++){var b=Kg(u[v],s[m]);b!==t&&f.push(b)}}r.setState({selectedCellIds:f,currentRowAnchor:c,currentColAnchor:d,currentRowFocus:p,currentColFocus:h,selectType:Vb.MOVE}),r.focusAndCollapseSelectionOntoCell(c,d,[0,0],!1)}},r.ensureValidCurrentIndices=function(e,t){void 0===e&&(e=r.getRowCount()),void 0===t&&(t=r.getColCount());var n=r.state,i=n.currentRowAnchor,o=n.currentColAnchor,a=n.currentRowFocus,l=n.currentColFocus;i&&i>=e&&r.setState({currentRowAnchor:e-1}),o&&o>=t&&r.setState({currentColAnchor:t-1}),a&&a>=e&&r.setState({currentRowFocus:e-1}),l&&l>=t&&r.setState({currentColFocus:t-1})},r.insertRowAtIndex=function(e){e>=0&&e<=r.getRowCount()&&r.replaceVectorRange(!0,r.state.rowsZoneId,e,e,1)},r.getExtendStyleOptions=function(e){var t=r.props.tableOptions,n=null==t?void 0:t.extendStyle;return dg(e)&&e?{border:e,backgroundColor:e}:n},r.finalizeDeletionOfHighlightedRows=function(){if(r.state.hintRowsToDeleteCount)if(0===r.state.hintRowsToDeleteStartIndex&&r.state.hintRowsToDeleteCount===r.getRowCount())r.deleteTable();else{var e=r.getWhollySelectedRegions().rows||[];r.groupConsecutiveIndices(e).reverse().forEach((function(e){return r.deleteRowAtIndex(e.index,e.count)})),r.setState({hintRowsToDeleteStartIndex:-1,hintRowsToDeleteCount:0},(function(){r.props.editor.focus()}))}},r.setCellStyle=function(e,t){var n=r.state.tableStyle;n[e]=t,r.setState({tableStyle:n})},r.getCellStyle=function(e){return o.findDOMNode(r.cellRefs["cell-"+e]).style||""},r.deleteColAtIndex=function(e,t){void 0===t&&(t=1);var n=r.props.editor,i=r.getTableInfo();if(r.currentStack=Jb,r.tableWidth=r.tableWidth||i&&i.width,0!==e||t!==r.getColCount()){r.focusAndCollapseSelectionOntoCell(0,e===r.state.colIds.length-t?e-1:e+t),r.ensureValidCurrentIndices(0,r.getColCount()-t);var o=new Mt({zoneId:r.state.colsZoneId,zoneType:M.Column}).retain(e).delete(t);n.getContentState().apply(o,{type:Xb.DELETE_COL})}else r.deleteTable(jb.BUTTON);r.currentStack=""},r.finalizeDeletionOfHighlightedCols=function(){var e=r.state,t=e.hintColsToDeleteCount,n=e.hintColsToDeleteStartIndex;if(t)if(0===n&&t===r.getColCount())r.deleteTable();else{var i=r.getWhollySelectedRegions().cols||[];r.groupConsecutiveIndices(i).reverse().forEach((function(e){return r.deleteColAtIndex(e.index,e.count)})),r.setState({hintColsToDeleteStartIndex:-1,hintColsToDeleteCount:0})}},r.groupConsecutiveIndices=function(e){return e.reduce((function(e,t){var n=e[e.length-1];return n&&n.index+n.count===t?n.count++:e.push({index:t,count:1}),e}),[])},r.updateFocus=function(e){var t={isFocused:e};r.setState(t)},r.updateHover=function(e){r.setState({isHovered:e})},r.checkIsFocused=function(){var e=r.props.editor;return e.isFocus()&&r.getCellIds().includes(e.getContentState().getActiveZone().getZoneId())},r.calColHeaderWidths=function(){var e,t,n,i,a=r.state,l=a.rowIds,s=a.colIds,u=a.cellAttribs,c=a.colAttribs,d=a.rowAttribs,f=[],h=[];if(!(s[0]&&u[0].length&&c.length&&d.length))return{colHeaderWidths:f,colHeaderTypes:h};for(var p=function(a){for(var c=-1,d=0;d<l.length;d++){var p=u[d][a];if(!Number.isInteger(p[Ub.COL_SPAN])){var g=Kg(l[d],s[a]);if(I=o.findDOMNode(r.cellRefs["cell-"+g])){var v=null===(e=I.getClientRects())||void 0===e?void 0:e[0],m=0===a?0:1,b=null!==(t=null==v?void 0:v.width)&&void 0!==t?t:I.clientWidth+m;f[a]=b}break}if(0!==p[Ub.COL_SPAN]);else{var y=u[d][a+1];-1!==c||y&&0===y[Ub.COL_SPAN]||(c=d)}}if(-1!==c){var w=s.map((function(e,t){return u[c][t][Ub.COL_SPAN]>1})).lastIndexOf(!0,a);if(-1!==w){var I,C=f.slice(w);g=Kg(l[c],s[w]);if(I=o.findDOMNode(r.cellRefs["cell-"+g])){v=null===(n=I.getClientRects())||void 0===n?void 0:n[0];for(var k=b=null!==(i=null==v?void 0:v.width)&&void 0!==i?i:I.clientWidth+1,E=f.length;E<=a;E++){var x=C.reduce((function(e,t){return e+=Number(t)}),0);f[E]=(k-x)/(a-w+1-C.length),h[E]=E!==a?"colMerged":""}}}}},g=0;g<s.length;g++)p(g);return{colHeaderWidths:f,colHeaderTypes:h}},r.scrollLeftTo=function(e){r.getScrollable().scrollLeft=e},r.findCellOffsetToTable=function(e){var t=o.findDOMNode(r.cellRefs["cell-"+e]).parentElement;if(t){var n=t.clientHeight;return{top:wg(t,o.findDOMNode(r.tableRef)),height:n}}},r.getColMinWidth=function(e){return Object.keys(r.zoneBlockMinWidthMap).reduce((function(t,n){var i=r.getRowAndColIndicesForCellId(n);if(!i)return t;var o=i.colIndex;if(e!==o)return t;var a=r.zoneBlockMinWidthMap[n],l=Object.values(a);return Math.max.apply(Math,hs([t],l))}),0)+16},r.setZoneBlockMinWidth=function(e){var t=e.zoneId,n=e.blockId,i=e.minWidth;r.zoneBlockMinWidthMap[t]=r.zoneBlockMinWidthMap[t]||{},r.zoneBlockMinWidthMap[t][n]=i},r.removeZoneBlockMinWidth=function(e){var t=e.zoneId,n=e.blockId;r.zoneBlockMinWidthMap[t]&&r.zoneBlockMinWidthMap[t][n]&&delete r.zoneBlockMinWidthMap[t][n]};var i=r.props,a=i.contentEditable,l=i.rowsZoneId,s=i.colsZoneId,u=i.rowIds,c=i.colIds,d=i.rowAttribs,f=i.colAttribs,h=i.adit,p=i.toolBarScale,g=i.rangeDom,v=i.isResponsiveWidth,m=i.aceTableBorder;r.editor=r.props.editor,h&&h.getSDKBus&&(r.em=h.getSDKBus()),r.tableId=Qg(l,s),r.tablePlugin=r.props.editor.pluginManager.getPlugin(Hy.KEY);var b=r.getCellAttribsFromRowAndColAttribs(d,f,u,c).cellAttribs,y=f.map((function(e){var t=e[Ub.COL_WIDTH];return v?t?Number(t)+1:t:Number(t||Kb)+1})),w=null===(n=r.props.tableOptions)||void 0===n?void 0:n.customContext;return Nb("tableWillMount",r.props.tableOptions,{editor:r.props.editor,customContext:w}),r.state={colHeaderWidths:y,colMinWidths:[],colHeaderTypes:[],rowHeaderHeights:[],rowContentHeights:[],rowBeingResizedHeights:[],scrollLeft:0,currentRowAnchor:0,currentColAnchor:0,currentRowFocus:0,currentColFocus:0,currentRowHovered:-1,currentColHovered:-1,columnBeingResized:-1,rowBeingResized:-1,columnWithRightBorderHighlighted:null,rowWithBottomBorderHighlighted:null,selectedCellIds:[],selectedCellColor:null,addRemoveIsShown:!1,hintRowsToDeleteStartIndex:-1,hintRowsToDeleteCount:0,hintColsToDeleteStartIndex:-1,hintColsToDeleteCount:0,isFocused:!1,isHovered:!1,isSelectAll:!1,rowsZoneId:l,colsZoneId:s,rowIds:u.slice(0),colIds:c.slice(0),rowAttribs:d,colAttribs:f,cellAttribs:b,selectType:Vb.OTHER,horzResizeDiff:0,vertResizeDiff:0,toolBarScale:p,tableStyle:{},isSelectRowOrCol:!1,forRows:!1,customContext:w||{},aceTableBorder:m},r.tableRectInfo=new Map(Object.entries({top:0,bottom:0,left:0,right:0})),r.cellRefs={},r.minDragWidths=f.map((function(){return r.colMinWidth})),r.rangeDom=g,r.tableColsWidth=py({colIds:c,colAttribs:f},v?void 0:r.colDefaultWidth),r.contentEditable=a,r.props.editor.on("contentchange",r.handleContentChange),r}os(t,e);var n=t.prototype;return n.handleContentChange=function(e){var t,n,r,i,o,a,l,s,u,c,d=this.props,f=d.colsZoneId,h=d.rowsZoneId,p=d.editor,g=e.deltaSet.deltas;if(g[f]||g[h]){var v=p.getContentState(),m=v.getZoneState(h),b=v.getZoneState(f);if(m&&b){var y=m.getLine(0),w=b.getLine(0),I=[],C=[],k=[],E=[];if(y)try{for(var x=ds(y),M=x.next();!M.done;M=x.next()){var S=M.value;I.push(S.insert.id),k.push(S.attributes||{})}}catch(e){t={error:e}}finally{try{M&&!M.done&&(n=x.return)&&n.call(x)}finally{if(t)throw t.error}}if(w)try{for(var T=ds(w),A=T.next();!A.done;A=T.next()){S=A.value;C.push(S.insert.id),E.push(S.attributes||{})}}catch(e){r={error:e}}finally{try{A&&!A.done&&(i=T.return)&&i.call(T)}finally{if(r)throw r.error}}var N=[];try{for(var L=ds(I),D=L.next();!D.done;D=L.next()){var z=D.value;try{for(var O=(l=void 0,ds(C)),R=O.next();!R.done;R=O.next()){var _=R.value;N.push(Kg(z,_))}}catch(e){l={error:e}}finally{try{R&&!R.done&&(s=O.return)&&s.call(O)}finally{if(l)throw l.error}}}}catch(e){o={error:e}}finally{try{D&&!D.done&&(a=L.return)&&a.call(L)}finally{if(o)throw o.error}}var j=this.getCellIds();try{for(var P=ds(N),B=P.next();!B.done;B=P.next()){var F=B.value;j.includes(F)||v.getZoneState(F)||v.addZone(F)}}catch(e){u={error:e}}finally{try{B&&!B.done&&(c=P.return)&&c.call(P)}finally{if(u)throw u.error}}this.setRep(h,f,I,C,k,E)}}},n.getColAndROWIds=function(){var e=this.state;return{colIds:e.colIds,rowIds:e.rowIds}},n.calcCellPoint=function(e){var t=Cy(e),n=t.rowId,r=t.colId,i=this.state,o=i.colIds;return{x:i.rowIds.indexOf(n),y:o.indexOf(r)}},n.getTableColsWidth=function(){return this.tableColsWidth},n.getComponentMounted=function(){return this.isComponentMounted},n.getTableRectInfo=function(){return this.tableRectInfo},n.componentDidMount=function(){this.isComponentMounted=!0,this.bindEvents(),this.calcUpdateTableRectInfo(),this.calcTableContentRectInfo();var e={tableInstance:this,tableId:this.tableId,setCustomContext:this.setCustomContext,getCustomContext:this.getCustomContext,isInBuffer:this.isInBuffer,idleTimer:this.idleTimer,editor:this.props.editor};Nb("tableDidMount",this.props.tableOptions,e),this.props.editor.on("keydown",this.handleKeyDown),this.tableWrapperInnerRef.handleContentResize()},n.getCellLayoutWidth=function(e){var t,n,r=this.cellRefs["cell-"+e],i=this.getRowAndColIndicesForCellId(e);if(!r||!i)return null;var o=this.getScrollable(),a=o?o.scrollLeft:0,l=this.state,s=l.cellAttribs,u=l.colAttribs,c=this.props.isResponsiveWidth;this.tableRef.style["table-layout"]="auto";var d=r.clientWidth+1;this.tableRef.style["table-layout"]="",o&&(o.scrollLeft=a);var f=this.getMergedCellIdForZoneId(e),h=i.rowIndex,p=i.colIndex,g=null===(t=s[h][p])||void 0===t?void 0:t.colspan,v=c?0:Kb;f&&g&&(d-=u.slice(p+1,p+g).reduce((function(e,t){return e+(Number(t.colWidth)||v)}),0));var m=(null===(n=u[p])||void 0===n?void 0:n.colWidth)||v;return Math.max(d,m)},n.on=function(e,t){var n=this.props.editor;"CONTEXT_CHANGE"!==e&&"colHorzResize"!==e&&"scroll"!==e&&"removeColOrRow"!==e||n.on(e,t)},n.off=function(e,t){var n=this.props.editor;"CONTEXT_CHANGE"!==e&&"colHorzResize"!==e&&"scroll"!==e&&"removeColOrRow"!==e||n.off(e,t)},n.getCustomContext=function(){return this.state.customContext},n.setCustomContext=function(e,t){this.setState((function(t){return{customContext:Object.assign({},t.customContext,e)}}),t)},n.getRectOfZone=function(e){var t=this,n=this.state,r=n.rowIds,i=n.colIds,a=n.cellAttribs,l=n.scrollLeft,s=n.rowHeaderHeights,u=n.colHeaderWidths,c=n.horzResizeDiff,d=n.columnBeingResized,f=n.rowBeingResized,h=n.vertResizeDiff,p=[],g=[],v=[],m=[],b=new Map;nv(r,i,e).forEach((function(n,r){var i=fs(hs(n),2),y=i[0],w=i[1];if(-1!==y&&-1!==w&&!m.includes(y+"|"+w)){var I=a[y][w],C=I.mergeCellID,k=I.colspan,E=I.rowspan,x=C&&0!==k&&0!==E,M=!x&&C&&(0===k||0===E),S=M?0:Math.floor(a[y][w][Ub.COL_WIDTH]),T=M?0:Math.floor(a[y][w][Ub.ROW_HEIGHT]);if(-1!==d&&d===w&&(S+=c),-1!==d&&d===w-1&&(S-=c),-1!==f&&f===y&&(T+=h),-1!==f&&f===y-1&&(T-=h),x||M||(T=Math.max(T,s[y])),x){var A=o.findDOMNode(t.cellRefs["cell-"+e[r]]);T=Math.max(T,A.clientHeight)}var N=u.slice(0,w).reduce((function(e,t){return e+t}),1);p.push(N+t.tableRectInfo.get("left")-l);var L=s.slice(0,y).reduce((function(e,t){return e+t}),1);if(g.push(L+t.tableRectInfo.get("top")),v.push(L+t.tableRectInfo.get("top")+T),b.has(y)){var D=b.get(y)+Number(S);b.set(y,D)}else b.set(y,Number(S));if(x&&0!==E)for(var z=1;z<E;z++){var O=y+z;if(b.has(O)){var R=b.get(O)+Number(S);b.set(O,R)}else b.set(O,Number(S))}m.push(y+"|"+w)}}));var y=Array.from(b.values());return{left:Mb(p)||null,bottom:xb(v)||null,top:Mb(g)||null,width:xb(y)||null}},n.isToolbarShown=function(){return this.state.isFocused},n.shouldComponentUpdate=function(e,t){return!ef(e,this.props)||!ef(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.state,r=n.selectedCellIds,i=n.isSelectAll,o=n.selectType;t.selectedCellIds.length!==r.length&&t.isSelectAll===i&&this.setState({isSelectAll:!1});var a={prevState:t,prevProps:e,nextState:this.state,nextProps:this.props,setCustomContext:this.setCustomContext,getCustomContext:this.getCustomContext};Nb("tableDidUpdate",this.props.tableOptions,a),t.selectType!==o&&this.contentEditable&&this.selectedCellsChange()},n.getRectOfZoneInEditor=function(e){var t=this,n=this.props.editor,r=this.state,i=r.rowIds,o=r.colIds,a=r.cellAttribs,l=r.colAttribs,s=r.scrollLeft,u=[],c=[],d=[],f=nv(i,o,e),h=new Map;f.forEach((function(e){var n=fs(hs(e),2),r=n[0],i=n[1],o=a[r][i][Ub.COL_WIDTH],c=l.slice(0,i).reduce((function(e,t){return t.colWidth?e+Number(t[Ub.COL_WIDTH]):e+100}),1);if(u.push(c+t.tableRectInfo.get("left")-s),h.has(r)){var d=h.get(r)+Number(o);h.set(r,d)}else h.set(r,Number(o))}));var p=Array.from(h.values());return e.forEach((function(e,t){if(!iv(e,i,o,a)){var r=n.rectModule.getLineRect({zoneId:e,line:0}).top;r&&c.push(r-9);var l=n.getContentState().getZoneState(e);if(l){var s=n.rectModule.getLineRect({zoneId:e,line:l.length()-1}),u=s.bottom,f=s.height;u&&d.push(u+f+8)}}})),{left:Mb(u)||null,bottom:xb(d)||null,top:Mb(c)||null,width:xb(p)||null}},n.selectedCellsChange=function(){var e=this.props.editor,t=this.state,n=t.selectedCellIds,r=t.cellAttribs,i=t.rowIds,o=t.colIds,a=t.selectType,l=this.getCellIds(),s=n.filter((function(e){return l.includes(e)})),u=rv(i,o,s,r);if(u){var c=tv(u,i,o,s),d=this.getRectOfZoneInEditor(s);e.call("specialSelectionChange",{rect:d,selectedCellIds:s,mergeStatus:a===Vb.MOVE?c:null,selectType:"TABLE_CELL"})}},n.getSelectedCellStatus=function(e){var t=e||this.state.selectedCellIds,n=this.state,r=n.cellAttribs,i=n.rowIds,o=n.colIds,a=rv(i,o,t,r);return a?tv(a,i,o,t):""},n.setRangeOnRangeDom=function(){if(this.contentEditable){var e=this.rangeDom,t=window.getSelection();if(t.focusNode!==e&&(t.removeAllRanges(),e)){var n=new Range;n.selectNode(e),t.addRange(n)}}},n.componentWillUnmount=function(){var e=this.props.editor;this.disposeTableMouseSelection(),this.isComponentMounted=!1,clearTimeout(this.blurTimeout),this.removeEvents();var t={tableInstance:this,tableId:this.tableId,setCustomContext:this.setCustomContext,getCustomContext:this.getCustomContext,editor:e};Nb("tableWillUnMount",this.props.tableOptions,t),e.off("keydown",this.handleKeyDown),e.off("contentchange",this.handleContentChange)},n.isTableMounted=function(){return this.isComponentMounted},n.enterBuffer=function(){this.isInBuffer=!0;var e=this.getTableInnerWrapper();if(e){e.requestIdleHandleContentResize();var t={tableId:this.tableId,isInBuffer:this.isInBuffer,idleTimer:this.idleTimer,tableInstance:this,setCustomContext:this.setCustomContext,getCustomContext:this.getCustomContext};Nb("enterBuffer",this.props.tableOptions,t)}},n.leaveBuffer=function(){this.isInBuffer=!1;var e=this.getTableInnerWrapper();e&&e.cancelIdleHandleContentResize();var t={isInBuffer:this.isInBuffer,idleTimer:this.idleTimer};Nb("leaveBuffer",this.props.tableOptions,t)},n.handleBlockDidCreate=function(e){var t,n,r=null===(n=null===(t=document.querySelector(".block-id-"+e))||void 0===t?void 0:t.closest(".ace-editor"))||void 0===n?void 0:n.getAttribute("data-zone-id");r&&this.getCellIds().includes(r)&&(this.blockIdToZoneId[e]=r)},n.handleBlockDelete=function(e){var t=this;this.blockIdToZoneId[e]&&setTimeout((function(){delete t.blockIdToZoneId[e]}))},n.focusAndCollapseSelectionOntoCell=function(e,t,n,r,i){if(void 0===n&&(n=[0,0]),void 0===r&&(r=!0),void 0===i&&(i=!0),!(e<0||t<0||e>=this.state.rowIds.length||t>=this.state.colIds.length)){var o=this.getZoneIdFromRowAndColIndex(e,t);this.focusAndCollapseSelectionOntoCellByZoneId(o,n,r,i)}},n.focusAndCollapseSelectionOntoCellByZoneId=function(e,t,n,r){void 0===t&&(t=[0,0]),void 0===n&&(n=!0),void 0===r&&(r=!0),this.setSelectionOntoCell(e,{start:t,end:t},r),this.handleInnerZoneFocus({zoneId:e});var i=this.state.selectedCellIds;n&&i.length&&this.setState({selectedCellIds:[]})},n.setSelectionOntoCell=function(e,t,n){void 0===n&&(n=!0);var r=this.getEditor(),i=r.getContentState().getZoneState(e);if(i){var o=fs(t.start,2),a=o[0],l=o[1],s=fs(t.end,2),u=s[0],c=s[1];if(-1===a&&(a=i.length()-1),-1===u&&(u=i.length()-1),0===l){if(!(d=i.getLine(a)))return;l=d.getLineMarker()}if(-1===l){if(!(d=i.getLine(a)))return;l=d.length()-1}if(0===c){if(!(d=i.getLine(u)))return;c=d.getLineMarker()}if(-1===c){var d;if(!(d=i.getLine(u)))return;c=d.length()-1}var f={start:{zoneId:e,line:a,offset:l},end:{zoneId:e,line:u,offset:c}};r.selection.setSelection(f,n),this.getCellHost(e).focus()}},n.handleTableMouseUpAfterMove=function(){this.disposeTableMouseSelection(),this.setSelectionInFirstCellOfSelectedCells(),this.contentEditable&&this.selectedCellsChange()},n.handleMouseSelection=function(){this.disposeTableMouseSelection(),document.addEventListener("mouseup",this.handleTableMouseUpAfterMove),document.addEventListener("mousemove",this.updateSelectedCells)},n.handleTableMouseDown=function(e){if(Lb.invalidMousedown)return Lb.invalidMousedown=!1,void(Lb.isRealMousedown=!1);if(e.target){var t=e.target;if(!(t.closest(".tb-resizable-grippy")||t.closest(".hpx-button")||t.closest(".tb-scrollable-scrollbar")||this.isEmpty()||e.button>1||t.closest(".gallery")||t.closest(".new-gallery"))){this.handleMouseSelection(),this.isMouseDown=!0;var n=this.getRowAndColIndicesForNode(e.target),r=n.rowIndex,i=n.colIndex;if(-1!==r&&-1!==i)if(wy(e)){e.preventDefault();var o=this.getZoneIdFromRowAndColIndex(r,i);if(!o)return;var a=this.state.selectedCellIds.indexOf(o),l=this.state.selectedCellIds.slice(0);-1!==a?l.splice(a,1):l.push(o),this.setState({selectedCellIds:l})}else if(e.shiftKey){var s=this.state,u=s.currentRowAnchor,c=s.currentColAnchor;-1!==u&&-1!==c&&this.setFocusIndices({currentRowAnchor:u,currentColAnchor:c,currentRowFocus:r,currentColFocus:i,isUpdateCaret:!this.contentEditable})}else this.setState({currentRowAnchor:r,currentColAnchor:i,currentColFocus:i,currentRowFocus:r,selectedCellIds:[]});else{if(!this.contentEditable)return;this.addLineBetweenTables(e)}}}},n.addLineBetweenTables=function(e){var t,n;e.preventDefault();var r=this.props.editor,i=this.tableRef.getBoundingClientRect().top,o=e.clientY<=i,a=this.getPointOfCurrentTable();if(a){var l=as({},a),s=-1;if(o){(this.tablePlugin.instanceManager.getInstanceByLineNum(a.zoneId,a.line-1)||0===a.line&&a.zoneId===fe)&&(s=a.line,l.offset=0)}else{var u=r.getContentState().getZoneState(a.zoneId);if(!u)return;var c=u.length()-1,d=this.tablePlugin.instanceManager.getInstanceByLineNum(a.zoneId,a.line+1);a.line<c&&d&&(s=a.line+1)}if(-1!==s){var f=null!==(n=null===(t=r.getContentState().getZoneState(l.zoneId))||void 0===t?void 0:t.pointToOffset(l))&&void 0!==n?n:null;if(null===f)return;var h=new ae({zoneId:l.zoneId}).retain(f).insertEnterAndLineMarker();r.getContentState().apply(h),r.selection.setSelection({start:{zoneId:l.zoneId,line:s,offset:0},end:{zoneId:l.zoneId,line:s,offset:0}})}}},n.ontHeaderTriangleClick=function(e,t,n){e.preventDefault(),Eb();var r=n?t:0,i=n?0:t;this.setState({currentRowAnchor:r,currentColAnchor:i,isSelectRowOrCol:!0,forRows:n});var o=n?this.getRowZones(this.state.rowIds[t],wy(e)):this.getColZones(this.state.colIds[t],wy(e));this.em&&this.em.emit("tableToolbarTriangleClick",{index:t,selectedCellIds:o,positionType:n?"left":"top"})},n.updateCurrentHoverHeader=function(e,t){this.isMouseDown&&(t?this.currentHoverOfRowHeader=e:this.currentHoverOfColHeader=e)},n.getSelectionRange=function(e){var t=this,n=(e||this.getSelectedZonesForSpecialSelection()).map((function(e){return t.getRowAndColIndicesForCellId(e)})),r=n.map((function(e){return e.colIndex})),i=[Mb(r),xb(r)],o=n.map((function(e){return e.rowIndex}));return{colRange:i,rowRange:[Mb(o),xb(o)]}},n.getZoneIdWhichContentShouldCompose=function(e){var t=e.rowIndex,n=e.colIndex,r=e.rowRange,i=void 0===r?[]:r,o=e.colRange,a=void 0===o?[]:o,l=this.getZoneIdFromRowAndColIndex(t,n);if(!l)return null;var s=this.getEditor().getContentState().getZoneState(l);if(!s)return null;var u=s.getLine(0);return t===i[0]&&n===a[0]||u&&(1!==s.length()||u.length()!==u.getLineMarker()+1)?l:null},n.getMergedCellIdForZoneId=function(e){var t=this.getRowAndColIndicesForCellId(e);if(t){var n=t.rowIndex,r=t.colIndex,i=this.state.cellAttribs[n][r];return i&&i.mergeCellID}},n.updateRowAndColRangeOfPasteOntoTable=function(e){var t=e.minRow,n=e.minCol,r=e.rowIdsOfPaste,i=e.colIdsOfPaste,o=this.state,a=o.rowIds,l=o.colIds,s=o.rowsZoneId,u=o.colsZoneId,c=t+r.length-a.length;c>0&&this.replaceVectorRange(!0,s,a.length,a.length,c);var d=n+i.length-l.length;d>0&&this.replaceVectorRange(!1,u,l.length,l.length,d)},n.updateRowAndColAttributeOfPasteOntoTable=function(e){for(var t=this,n=e.minRow,r=e.minCol,i=e.rowIds,o=e.colIds,a=e.colAttribs,l=e.rowAttribs,s={},u={},c={},d={},f={},h={},p=function(e){for(var t=function(t){var p=g.getZoneIdFromRowAndColIndex(n+e,r+t),v=Kg(i[e],o[t]);if(!p)return"continue";var m=l[e],b=a[t],y=Object.keys(m),w=Object.keys(b),I=JSON.parse(m[Ub.BORDER]||"{}"),C=JSON.parse(b[Ub.BORDER]||"{}");I&&C&&I[v]&&ef(C[v],I[v])&&(c[p]=I[v]);var k=pf(y,w,(function(e,t){return 0===e.indexOf("font")&&e===t}));k.length&&k.forEach((function(t){0===t.indexOf("fontSize")&&(f[p]=JSON.parse(l[e][t])[v]),0===t.indexOf("fontWeight")&&(h[p]=JSON.parse(l[e][t])[v]),0===t.indexOf("fontFamily")&&(d[p]=JSON.parse(l[e][t])[v])}));var E=m[Ub.MERGE_CELL_ID],x=b[Ub.MERGE_CELL_ID];if(E&&x){var M=E.split(Ub.M_SEPARATOR),S=x.split(Ub.M_SEPARATOR),T=ig(M,S)[0];T&&(s[T]=s[T]||new Set,s[T].add(p))}var A=JSON.parse(m[Ub.BACKGROUND_COLOR]||"{}"),N=JSON.parse(b[Ub.BACKGROUND_COLOR]||"{}");if(A&&N&&A[v]&&A[v]===N[v]){var L=A[v];u[L]=u[L]||new Set,u[L].add(p)}},p=0;p<o.length;p++)t(p)},g=this,v=0;v<i.length;v++)p(v);Object.values(s).forEach((function(e){t.mergeCells(hs(e))})),Object.entries(u).forEach((function(e){var n=fs(e,2),r=n[0],i=n[1];t.setBackgroundColor({color:r,cellIds:hs(i)})})),Object.entries(f).forEach((function(e){var n=fs(e,2),r=n[0],i=n[1];try{var o=i;new RegExp(/\D/).test(i)||(o+="px"),t.setFontAttribute(Ub.FONT_SIZE,o,[r])}catch(e){console.log("e",e)}})),Object.entries(h).forEach((function(e){var n=fs(e,2),r=n[0],i=n[1];try{var o=parseInt(i,10);t.setFontAttribute(Ub.FONT_WEIGHT,o,[r])}catch(e){console.log("e",e)}})),Object.entries(d).forEach((function(e){var n=fs(e,2),r=n[0],i=n[1];try{var o=i;t.setFontAttribute(Ub.FONT_FAMILY,o,[r])}catch(e){console.log("e",e)}})),Object.entries(c).forEach((function(e){var n=fs(e,2),r=n[0],i=n[1];try{t.setBorderStyle(as({zoneId:r},i))}catch(e){console.log(e)}})),this.applyAttributesOfZone()},n.updateCellContentOfPasteOntoTable=function(e){for(var t=e.minRow,n=e.minCol,r=e.rowIds,i=e.colIds,o=e.deltaSet,a=this.state,l=a.rowIds,s=a.colIds,u=this.props.editor,c=[],d=u.getContentState(),f=new J,h=0;h<r.length;h++)for(var p=0;p<i.length;p++){var g=Kg(r[h],i[p]),v=Kg(l[t+h],s[n+p]),m=o.get(g),b=d.getZoneState(v);b&&m&&m instanceof ae&&(f=f.compose(new ae({zoneId:v}).delete(b.totalWidth()-1)).compose(new ae({zoneId:v,ops:m.ops}))),c.push(v)}u.getContentState().apply(f),this.setState({selectedCellIds:c})},n.getBackgroundColor=function(e){var t=this.getRowAndColIndicesForCellId(e);if(!t)return null;var n=this.state.cellAttribs,r=t.rowIndex,i=t.colIndex;return rg(n,[r,i,Ub.BACKGROUND_COLOR],"")},n.getFontAttribute=function(e){var t=this.getRowAndColIndicesForCellId(e);if(!t)return{};var n=this.state.cellAttribs,r=t.rowIndex,i=t.colIndex,o=rg(n,[r,i,Ub.FONT_FAMILY],void 0),a=rg(n,[r,i,Ub.FONT_WEIGHT],void 0),l=rg(n,[r,i,Ub.FONT_SIZE],void 0),s={};return o&&(s.fontFamily=o),l&&(s.fontSize=l),a&&(s.fontWeight=a),s},n.setFontAttribute=function(e,t,n){var r=this;void 0===n&&(n=[]);var i=this.state.cellAttribs;[Ub.FONT_FAMILY,Ub.FONT_SIZE,Ub.FONT_WEIGHT].indexOf(e)<0||n.forEach((function(o){var a;r.performDocumentApplyAttributesToZone({zoneId:o,attributes:(a={},a[e]=t,a)});var l=r.getRowAndColIndicesForCellId(o);if(l){var s=l.rowIndex,u=l.colIndex,c=rg(i,[s,u,Ub.COL_SPAN]),d=rg(i,[s,u,Ub.ROW_SPAN]),f=[];c>1&&bg(u+1,u+c).forEach((function(e){var t=r.getZoneIdFromRowAndColIndex(s,e);t&&n.indexOf(t)<0&&f.push(t)})),d>1&&bg(s+1,s+d).forEach((function(e){var t=r.getZoneIdFromRowAndColIndex(e,u);t&&n.indexOf(t)<0&&f.push(t)})),f.length&&r.setFontAttribute(e,t,f)}}))},n.setBackgroundColor=function(e){var t,n,r=this,i=e.color,o=e.cellIds,a=void 0===o?[]:o,l=this.state.cellAttribs,s=function(e){var t;u.performDocumentApplyAttributesToZone({zoneId:e,attributes:(t={},t[Ub.BACKGROUND_COLOR]=i,t)});var n=u.getRowAndColIndicesForCellId(e);if(!n)return"continue";var o=n.rowIndex,s=n.colIndex,c=rg(l,[o,s,Ub.COL_SPAN]),d=rg(l,[o,s,Ub.ROW_SPAN]),f=[];c>1&&bg(s+1,s+c).forEach((function(e){var t=r.getZoneIdFromRowAndColIndex(o,e);t&&a.indexOf(t)<0&&f.push(t)})),d>1&&bg(o+1,o+d).forEach((function(e){var t=r.getZoneIdFromRowAndColIndex(e,s);t&&a.indexOf(t)<0&&f.push(t)})),f.length&&u.setBackgroundColor({color:i,cellIds:f})},u=this;try{for(var c=ds(a.values()),d=c.next();!d.done;d=c.next()){s(d.value)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}},n.getBorderAttributeByCellId=function(e){var t=this.getRowAndColIndicesForCellId(e);if(!t)return null;var n=this.state.cellAttribs,r=t.rowIndex,i=t.colIndex,o=rg(n,[r,i,Ub.MERGE_CELL_ID]);return o?this.findMergeCellBorder({mergeId:o,rowIndex:r,colIndex:i}):fy({rowIndex:r,colIndex:i,cellAttribs:n})},n.updateBackgroundStylesOfMergeCell=function(e){for(var t=e.colRange,n=e.rowRange,r=this.state,i=r.rowIds,o=r.colIds,a=Kg(i[n[0]],o[t[0]]),l=this.getBackgroundColor(a)||"",s=[],u=n[0];u<=n[1];u++)for(var c=t[0];c<=t[1];c++)if(u!==n[0]||c!==t[0]){var d=Kg(i[u],o[c]);s.push(d)}this.setBackgroundColor({color:l,cellIds:s}),this.applyAttributesOfZone()},n.updateFontStyleOfMergeCell=function(e){for(var t=this,n=e.colRange,r=e.rowRange,i=this.state,o=i.rowIds,a=i.colIds,l=Kg(o[r[0]],a[n[0]]),s=this.getFontAttribute(l)||{},u=[],c=r[0];c<=r[1];c++)for(var d=n[0];d<=n[1];d++)if(c!==r[0]||d!==n[0]){var f=Kg(o[c],a[d]);u.push(f)}u.length&&(Object.keys(s).forEach((function(e){t.setFontAttribute(e,s[e],u)})),this.applyAttributesOfZone())},n.updateBorderStyleOfMergeCell=function(e){var t=e.colRange,n=e.rowRange,r=this.state,i=r.rowIds,o=r.colIds,a=fs(n,2),l=a[0],s=a[1],u=fs(t,2),c=u[0],d=u[1],f=this.getZoneIdFromRowAndColIndex(l,c),h=this.getZoneIdFromRowAndColIndex(s,d);if(f&&h){var p=this.getBorderAttributeByCellId(f)||{},g=this.getBorderAttributeByCellId(h)||{},v=p.top,m=p.left,b=p.right,y=p.bottom,w=g.right,I=g.bottom;w=w||b,I=I||y;for(var C=l;C<=s;C++)for(var k=c;k<=d;k++){var E,x,M=this.getZoneIdFromRowAndColIndex(C,k);if(M&&this.removeBorderStyle({zoneId:M,borders:[Wb.ALL]}),v&&C===l&&C>0)(E=this.getZoneIdFromRowAndColIndex(C-1,k))&&this.setBorderStyle({zoneId:E,bottom:v,isRecursion:!1});if(I&&C===s&&C<i.length-1)(x=this.getZoneIdFromRowAndColIndex(C+1,k))&&this.setBorderStyle({zoneId:x,top:I,isRecursion:!1});if(m&&k===c&&k>0)(E=this.getZoneIdFromRowAndColIndex(C,k-1))&&this.setBorderStyle({zoneId:E,right:m,isRecursion:!1});if(w&&k===d&&k<o.length-1)(x=this.getZoneIdFromRowAndColIndex(C,k+1))&&this.setBorderStyle({zoneId:x,left:w,isRecursion:!1})}this.setBorderStyle({zoneId:f,top:v,bottom:I,left:m,right:w}),this.applyAttributesOfZone()}},n.updateBorderStyleOfUnMergeCell=function(e){for(var t=e.colRange,n=e.rowRange,r=this.state,i=r.rowIds,o=r.colIds,a=fs(n,2),l=a[0],s=a[1],u=fs(t,2),c=u[0],d=u[1],f=Kg(i[l],o[c]),h=this.getBorderAttributeByCellId(f)||{},p=h.top,g=h.left,v=h.right,m=h.bottom,b=l;b<=s;b++)for(var y=c;y<=d;y++){var w=Kg(i[b],o[y]);this.removeBorderStyle({zoneId:w,borders:[Wb.ALL]}),b===s&&m&&this.setBorderStyle({zoneId:w,bottom:m}),y===d&&v&&this.setBorderStyle({zoneId:w,right:v})}this.setBorderStyle({zoneId:f,top:p,left:g}),this.applyAttributesOfZone()},n.mergeCells=function(e){var t,n,r,i,o=this.props.tableOptions,a=this.state,l=a.rowAttribs,s=a.colAttribs,u=a.cellAttribs,c=this.getSelectionRange(e),d=c.colRange,f=c.rowRange,h=Fg(8),p=[];(null==o?void 0:o.isCustomBorder)&&this.updateBorderStyleOfMergeCell({colRange:d,rowRange:f}),(null==o?void 0:o.isCustomFont)&&this.updateFontStyleOfMergeCell({colRange:d,rowRange:f}),(null==o?void 0:o.isCustomBackgroundColor)&&this.updateBackgroundStylesOfMergeCell({colRange:d,rowRange:f});for(var g=f[0];g<=f[1];g++)for(var v=function(e){var t,n,r=u[g][e][Ub.MERGE_CELL_ID];r&&(l[g]=as(as({},l[g]),((t={})[Ub.MERGE_CELL_ID]=l[g][Ub.MERGE_CELL_ID].split(Ub.M_SEPARATOR).filter((function(e){return e!==r})).join(Ub.M_SEPARATOR),t)),s[e]=as(as({},s[e]),((n={})[Ub.MERGE_CELL_ID]=s[e][Ub.MERGE_CELL_ID].split(Ub.M_SEPARATOR).filter((function(e){return e!==r})).join(Ub.M_SEPARATOR),n)));var i=m.getZoneIdWhichContentShouldCompose({rowIndex:g,colIndex:e,rowRange:f,colRange:d});i&&p.push(i)},m=this,b=d[0];b<=d[1];b++)v(b);for(g=f[0];g<=f[1];g++){var y=(w=l[g][Ub.MERGE_CELL_ID]||"")?""+w+Ub.M_SEPARATOR+h:h;this.performDocumentApplyAttributesToVectorRange(!0,this.state.rowsZoneId,g,g+1,((t={})[Ub.MERGE_CELL_ID]=y,t),Xb.TABLE_MERGE_CELL)}for(b=d[0];b<=d[1];b++){var w;y=(w=s[b][Ub.MERGE_CELL_ID]||"")?""+w+Ub.M_SEPARATOR+h:h;this.performDocumentApplyAttributesToVectorRange(!1,this.state.colsZoneId,b,b+1,((n={})[Ub.MERGE_CELL_ID]=y,n),Xb.TABLE_MERGE_CELL)}var I=this.composeContentOfMultiZone(p),C=this.editor.getContentState();C.apply(I);var k=C.getZoneState(p[0]);if(k)try{for(var E=ds(k),x=E.next();!x.done;x=E.next()){var M=x.value;C.setLineAttributes(p[0],M.index,{align:"center"})}}catch(e){r={error:e}}finally{try{x&&!x.done&&(i=E.return)&&i.call(E)}finally{if(r)throw r.error}}return this.focusAndCollapseSelectionOntoCell(f[0],d[0],[-1,-1],!0,!1),!0},n.unMergeCells=function(e){var t,n,r,i,o=this.state,a=o.rowAttribs,l=o.colAttribs,s=o.cellAttribs,u=this.getSelectionRange(e),c=u.colRange,d=u.rowRange,f=s[d[0]][c[0]],h=f[Ub.MERGE_CELL_ID];c[1]=c[0]+(f[Ub.COL_SPAN]||1)-1,d[1]=d[0]+(f[Ub.ROW_SPAN]||1)-1,this.updateBorderStyleOfUnMergeCell({colRange:c,rowRange:d});for(var p=d[0];p<=d[1];p++)for(var g=c[0];g<=c[1];g++)a[p]=as(as({},a[p]),((t={})[Ub.MERGE_CELL_ID]=a[p][Ub.MERGE_CELL_ID].split(Ub.M_SEPARATOR).filter((function(e){return e!==h})).join(Ub.M_SEPARATOR),t)),l[g]=as(as({},l[g]),((n={})[Ub.MERGE_CELL_ID]=l[g][Ub.MERGE_CELL_ID].split(Ub.M_SEPARATOR).filter((function(e){return e!==h})).join(Ub.M_SEPARATOR),n));for(p=d[0];p<=d[1];p++){var v=a[p][Ub.MERGE_CELL_ID]||"";this.performDocumentApplyAttributesToVectorRange(!0,this.state.rowsZoneId,p,p+1,((r={})[Ub.MERGE_CELL_ID]=v,r),Xb.TABLE_UNMERGE_CELL)}for(g=c[0];g<=c[1];g++){v=l[g][Ub.MERGE_CELL_ID]||"";this.performDocumentApplyAttributesToVectorRange(!1,this.state.colsZoneId,g,g+1,((i={})[Ub.MERGE_CELL_ID]=v,i),Xb.TABLE_UNMERGE_CELL)}return!0},n.getMergeStatusByCellIds=function(e){var t=this,n=this.state.cellAttribs;return e.map((function(e){var r=t.getRowAndColIndicesForCellId(e);if(!r)return null;var i=r.rowIndex,o=r.colIndex;if(!rg(n,[i,o,Ub.MERGE_CELL_ID]))return null;var a=rg(n,[i,o,Ub.COL_SPAN]),l=rg(n,[i,o,Ub.ROW_SPAN]);return 0===a||0===l||void 0===a&&void 0===l?null:{cellId:e,colSpan:a||1,rowSpan:l||1}})).filter(Boolean)},n.setToolBarScale=function(e){this.setState({toolBarScale:e})},n.setTableStyle=function(e){this.setState({tableStyle:e})},n.composeContentOfMultiZone=function(e){var t,n,r=this.props.editor,i=new J;if(!e.length)return i;var o=fs(e),a=o[0],l=o.slice(1),s=r.getContentState(),u=s.getZoneState(a);if(!u)return i;var c=new ae({zoneId:a}).retain(u.totalWidth()-1);i.add(a,c);try{for(var d=ds(l),f=d.next();!f.done;f=d.next()){var h=f.value,p=s.getZoneState(h);if(p){var g=p.getContent();if(g instanceof ae){var v=new ae(as(as({},g),{zoneId:a}));v=v.compose(new ae({zoneId:a}).retain(v.length()-1).delete(1));var m=new ae({zoneId:a}).insertEnter().concat(v);i=i.concat(m).compose(new ae({zoneId:h}).delete(p.totalWidth()-1))}}}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return i},n.handleTabKey=function(e){var t,n=this,r=this.props.editor,i=this.state,o=i.colIds,a=i.rowIds,l=r.getContentState().getActiveZone().getZoneId(),s=this.getRowAndColIndicesForCellId(l);if(!s)return!1;var u=r.selection.getSelection().start.line,c=null===(t=r.getContentState().getZoneState(l))||void 0===t?void 0:t.getLine(u);if(null==c?void 0:c.getEntities([["list",void 0]]).length)return!1;var d=e.shiftKey,f=s.rowIndex,h=s.colIndex+(d?-1:1);return h>=o.length&&(f+=1,h=0),h<0&&(f-=1,h=o.length-1),f>=a.length?(this.addRowAtIndex({index:f,cb:function(){n.focusAndCollapseSelectionOntoCell(f,h)}}),!0):f<0?(f=0,h=o.length-1,this.addRowAtIndex({index:0,cb:function(){n.focusAndCollapseSelectionOntoCell(f,h)}}),!0):(this.focusAndCollapseSelectionOntoCell(f,h),!0)},n.handleArrowKey=function(e){var t=this,n=e.keyCode,r=this.props.editor,i=r.selection.getSelection(),o=i.start,a=o.zoneId,l=o.line,s=o.offset;if(!i.isCollapsed())return!1;var u=this.getRowAndColIndicesForCellId(a);if(!u)return!1;var c=r.getContentState().getZoneState(a);if(!c)return!1;var d=this.getRowCount(),f=this.getColCount(),h=c.getLine(l);if(!h)return!1;var p=function(e,n,r){-1!==e&&-1!==n&&t.focusAndCollapseSelectionOntoCell(e,n,r)},g=!1;switch(n){case vf.Up:g=function(){var e,n,i=r.rectModule.getCaretRect({zoneId:a,line:l,offset:0}).top,o=r.rectModule.getCaretRect({zoneId:a,line:l,offset:s}).top,c=u.rowIndex-1,d=u.colIndex;if(0===(null===(n=null===(e=t.state.cellAttribs[c])||void 0===e?void 0:e[d])||void 0===n?void 0:n[Ub.ROW_SPAN])){var f=Sb(c,d,t.state.cellAttribs);c=f.rowIndex,d=f.colIndex}return o===i&&0===l&&(c>=0?p(c,d,[-1,0]):t.setOutOfTable(-1),!0)}();break;case vf.Down:g=function(){var e,n,i=r.rectModule.getCaretRect({zoneId:a,line:l,offset:h.length()}).top,o=r.rectModule.getCaretRect({zoneId:a,line:l,offset:s}).top,f=u.rowIndex+1,g=u.colIndex,v=null===(n=null===(e=t.state.cellAttribs[u.rowIndex])||void 0===e?void 0:e[u.colIndex])||void 0===n?void 0:n[Ub.ROW_SPAN];return v&&v>1&&(f+=v-1),o===i&&l>=c.length()-1&&(f<d?p(f,g):t.setOutOfTable(1),!0)}();break;case vf.Left:g=function(){var e,n,r=h.getLineMarker(),i=u.rowIndex,o=u.colIndex-1;if(0===(null===(n=null===(e=t.state.cellAttribs[i])||void 0===e?void 0:e[o])||void 0===n?void 0:n[Ub.COL_SPAN])){var a=Sb(i,o,t.state.cellAttribs);i=a.rowIndex,o=a.colIndex}return s<=r&&0===l&&o>=0?(p(i,o,[-1,-1]),!0):s<=r&&0===l&&o<0&&(i-1>=0?p(i-1,f-1,[-1,-1]):t.setOutOfTable(-1),!0)}();break;case vf.Right:g=function(){var e,n,r=s>=h.length()-1,i=l>=c.length()-1,o=u.rowIndex,a=u.colIndex+1,g=null===(n=null===(e=t.state.cellAttribs[u.rowIndex])||void 0===e?void 0:e[u.colIndex])||void 0===n?void 0:n[Ub.COL_SPAN];return g&&g>1&&(a+=g-1),r&&i&&a<f?(p(o,a),!0):!!(r&&i&&a>=f)&&(o+1<d?p(o+1,0):t.setOutOfTable(1),!0)}()}return this.triggerArrorKeyAMomentAgo(),g},n.setOutOfTable=function(e){var t,n=this.getPointOfCurrentTable();if(n){n.line+=e;var r=null===(t=this.editor.getContentState().getZoneState(n.zoneId))||void 0===t?void 0:t.getLine(n.line);r&&(n.offset=1===e?r.getLineMarker():r.length()-1),this.editor.selection.setSelection({start:n,end:n},!0)}},n.handleTableZoom=function(e){var t=this,n=this.state,r=n.colAttribs,i=n.rowAttribs,o=n.rowHeaderHeights,a=this.props,l=a.minCellWidth,s=a.defaultCellHeight;if(1!==e.x){var u=r.map((function(n){return Math.max(Number(n[Ub.COL_WIDTH]||t.colDefaultWidth)*e.x,l||50)})),c=0;u.forEach((function(e,n){t.setColumnWidth(n,e),c+=Math.floor(e)})),c&&(this.tableWidth=c)}1!==e.y&&i.map((function(t,n){return(o[n]||Number(t[Ub.ROW_HEIGHT])||s||40)*e.y})).forEach((function(e,n){t.setRowHeight(n,e)}))},n.getRowAndColIndexOfCurrentFocusZone=function(){if(this.currentHoverOfZone){var e=this.getRowAndColIndicesForCellId(this.currentHoverOfZone);return e||{rowIndex:-1,colIndex:-1}}return{rowIndex:-1,colIndex:-1}},n.deleteTable=function(e){var t,n=this.props.editor;this.tableWillDelete(e);var r=n.getContentState(),i=null===(t=r.getZoneState(this.getAllChildZones()[0]))||void 0===t?void 0:t.parent;if(i){var o=i.getZoneId(),a=i.index,l={line:a,offset:i.getLineMarker(),zoneId:o};r.deleteText({start:l,end:{line:a,offset:i.length()-1,zoneId:o}},{type:Xb.DELETE_TABLE}),n.selection.setSelection({start:l,end:l},!0)}else console.warn("parent of zone: "+this.getAllChildZones()[0]+" not exists!")},n.handleInnerZoneFocus=function(e){var t=e.zoneId;clearTimeout(this.blurTimeout);var n=this.getCellIds().includes(t);this.updateFocus(n),n||this.unselectAll()},n.toggleTableFocus=function(e){var t=this;clearTimeout(this.blurTimeout),this.blurTimeout=window.setTimeout((function(){t.updateFocus(e)}),250)},n.handleAceFocus=function(){var e=this;clearTimeout(this.blurTimeout),this.blurTimeout=window.setTimeout((function(){e.updateFocus(!1),e.unselectAll()}),250)},n.handleAceBlur=function(){var e=this;this.props.editor.call("aceBlur",this),clearTimeout(this.blurTimeout),this.blurTimeout=window.setTimeout((function(){e.updateFocus(!1)}),250)},n.handleAceMouseDown=function(e){this.editor.isEditable()||this.getTableWrapper().contains(e.target)||this.unselectAll()},n.handleHorzResizeEnd=function(e,t){var n=this,r=this.state,i=r.colAttribs,a=r.colIds,l=r.rowIds;this.setState({columnBeingResized:-1,horzResizeDiff:0,columnWithRightBorderHighlighted:null},(function(){if(e===a.length-1){var t=n.getScrollable();t.scrollLeft=t.scrollWidth}}));var s=Kg(l[0],a[e]),u=o.findDOMNode(this.cellRefs["cell-"+s]),c=(Number(i[e][Ub.COL_WIDTH])||u.clientWidth)+t,d=c<this.minDragWidths[e]?this.minDragWidths[e]:c;this.setColumnWidth(e,Math.max(d,this.colMinWidth,this.getColMinWidth(e))),this.props.editor.call("horzResizeEnd")},n.handleResizeEnter=function(e,t){t?this.setHighlightRow(e):this.setHighlightColumn(e)},n.handleResizeLeave=function(e){e?this.setHighlightRow(null):this.setHighlightColumn(null)},n.handleHorzResize=function(e,t,n){var r=this,i=this.props.editor,o=this.state,a=o.colAttribs,l=o.rowIds,s=o.colIds;if(this.handleContentResize(),e===s.length-1){var u=this.getScrollable();u.scrollLeft=u.scrollWidth-u.clientWidth}this.setState({horzResizeDiff:n},(function(){r.em&&r.em.emit("colOrRowMoving")}));var c=this.arrowKeyTimer,d=Number(a[e][Ub.COL_WIDTH]);d||(d=this.calColHeaderWidths().colHeaderWidths[e]);var f=l.map((function(t,n){return r.getZoneIdFromRowAndColIndex(n,e)})),h={isCellIdBelongToTableId:function(){return ev(i.getContentState().getActiveZone().getZoneId(),r.tableId,my(i.getContentState()))},getOffsetOfCellLeftToTableLeft:this.getOffsetOfCellLeftToTableLeft,getTableScrollWidth:this.getTableScrollWidth,eventType:c?"keydown":"mouseclick",tableId:this.tableId,setCustomContext:this.setCustomContext,getCustomContext:this.getCustomContext,diffX:n,colWidth:d,colCellIds:f,editor:i};i.call("colHorzResize",h)},n.getCellMinWidth=function(){var e=this.props.minCellWidth;return e&&e>20?e:20},n.handleVertResizeStart=function(e){var t=this.state.rowContentHeights;this.setState({rowBeingResized:e,rowBeingResizedHeights:t})},n.handleVertResizeEnd=function(e,t){var n=this.state,r=n.rowAttribs,i=n.rowBeingResizedHeights,o=this.props.defaultCellHeight;this.setState({rowBeingResized:-1,vertResizeDiff:0});var a=Math.max(i[e],Number(r[e][Ub.ROW_HEIGHT]))||o||40;this.setRowHeight(e,a+t)},n.handleVertResize=function(e,t,n){var r=this;if(e===this.state.rowIds.length-1){var i=this.getScrollable();i.scrollTo({top:i.scrollHeight-i.clientHeight})}this.setState({rowBeingResized:e,vertResizeDiff:n},(function(){r.em&&r.em.emit("colOrRowMoving")}))},n.handleScrollableScroll=function(e,t,n,r,i,o){var a=this;this.setState({scrollLeft:i,showLeftShadow:e,showRightShadow:t,leftShadowWidth:n,rightShadowWidth:r});var l=this.arrowKeyTimer,s=this.props.editor,u={isCellIdBelongToTableId:function(){return ev(s.getContentState().getActiveZone().getZoneId(),a.tableId,my(s.getContentState()))},getOffsetOfCellLeftToTableLeft:this.getOffsetOfCellLeftToTableLeft,getTableScrollWidth:this.getTableScrollWidth,setCustomContext:this.setCustomContext,getCustomContext:this.getCustomContext,eventType:l?"keydown":"mouseclick",scrollLeft:i,scrollDirection:o,tableId:this.tableId,editor:s};s.call("scroll",u)},n.getOffsetOfCellLeftToTableLeft=function(){var e=this.props.editor,t=this.state,n=t.colHeaderWidths,r=t.scrollLeft,i=e.getContentState().getActiveZone().getZoneId(),o=this.getRowAndColIndicesForCellId(i);if(!o)return!1;var a=o.colIndex;return n.slice(0,a).reduce((function(e,t){return e=e+t+1}),1)-r},n.getSelectedZonesWithVisible=function(){var e=this,t=this.state.cellAttribs;return this.state.selectedCellIds.slice(0).filter((function(n){var r=e.getRowAndColIndicesForCellId(n);if(!r)return!1;var i=t[r.rowIndex][r.colIndex];return!(i&&(0===i[Ub.COL_SPAN]||0===i[Ub.ROW_SPAN]))}))},n.handleScrollableResize=function(e,t,n,r){if(!this.isEmpty()){var i=this.calcToolbarsSize(),o=i.colHeaderWidths,a=i.rowHeaderHeights,l=i.colHeaderTypes,s=this.calcMaxContentHeightOfRow(),u=this.getScrollable().scrollLeft;this.setState({colHeaderWidths:o,rowHeaderHeights:a,scrollLeft:u,showLeftShadow:e,colHeaderTypes:l,showRightShadow:t,leftShadowWidth:n,rightShadowWidth:r,rowContentHeights:s})}},n.detectTableResizeImmediately=function(){var e=this.tableRef;if(e){var t=e.offsetHeight,n=e.offsetWidth,r=e.getAttribute("data-ace-table-last-height"),i=e.getAttribute("data-ace-table-last-width"),o=Number(r||-1),a=Number(i||-1);!o&&!a||o===t&&a===n||this.em&&this.em.emit("tableSizeChange",{prev:{height:o,width:a},next:{height:t,width:n}}),e["data-ace-table-last-height"]!==t&&(e.setAttribute("data-ace-table-last-height",String(t)),e["data-ace-table-last-height"]=t),e["data-ace-table-last-width"]!==n&&(e.setAttribute("data-ace-table-last-width",String(n)),e["data-ace-table-last-width"]=n)}},n.getTableInfo=function(){var e=this.tableRef;if(e){var t=e.getAttribute("data-ace-table-last-height"),n=e.getAttribute("data-ace-table-last-width");return{width:Number(n||e.clientHeight),height:Number(t||e.clientWidth)}}},n.calcTableContentRectInfo=function(){var e=this.calcToolbarsSize(),t=e.colHeaderWidths,n=e.rowHeaderHeights,r=e.colHeaderTypes,i=this.calcMaxContentHeightOfRow();this.setState({colHeaderWidths:t,rowHeaderHeights:n,rowContentHeights:i,colHeaderTypes:r})},n.calcMaxContentHeightOfRow=function(){var e=[],t=this.state,n=t.rowIds,r=t.colIds,i=t.cellAttribs,a=t.colAttribs,l=t.rowAttribs,s=this.props.minCellHeight;if(!(r[0]&&i[0].length&&a.length&&l.length))return e;for(var u=0;u<n.length;u++){for(var c=s||40,d=0;d<r.length;d++){var f=Kg(n[u],r[d]),h=o.findDOMNode(this.cellRefs["cell-"+f]),p=i[u][d],g=p.mergeCellID,v=p.colspan,m=p.rowspan,b=g&&v&&m;h&&c<Number(h.clientHeight)&&!b&&(c=Number(h.clientHeight))}e[u]=c}return e},n.notifySelectAll=function(){this.em&&this.em.emit("tableToolbarsClick",{selectedCellIds:this.getCellIds(),positionType:"left-top"})},n.getColRect=function(e){var t=this.state,n=t.colHeaderWidths,r=t.rowHeaderHeights,i=n[e];return{position:{x:n.slice(0,e).reduce((function(e,t){return e+t}),1),y:1},rect:{width:i,height:r.slice(0).reduce((function(e,t){return e+t}))}}},n.getRowRect=function(e){var t=this.state,n=t.colHeaderWidths,r=t.rowHeaderHeights,i=r[e];return{position:{x:1,y:r.slice(0,e).reduce((function(e,t){return e+t}),1)},rect:{width:n.slice(0).reduce((function(e,t){return e+t})),height:i}}},n.getZoneIdFromRowAndColIndex=function(e,t){var n=this.getRowIds()[e],r=this.getColIds()[t];return n&&r?Kg(n,r):null},n.getVisibleZoneIdFromRowAndCol=function(e,t){var n=this.getRowIds()[e],r=this.getColIds()[t];if(!n||!r)return null;var i=this.state.cellAttribs,o=rg(i,[e,t,Ub.COL_SPAN]),a=rg(i,[e,t,Ub.ROW_SPAN]);if(0===o||0===a){var l=Sb(e,t,i),s=l.rowIndex,u=l.colIndex;if(n=this.getRowIds()[s],r=this.getColIds()[u],!n||!r)return null}return Kg(n,r)},n.getFirstCellIndiesOfSelection=function(){var e={rowIdx:0,colIdx:0},t=this.state,n=t.selectedCellIds,r=t.currentRowAnchor,i=t.currentRowFocus,o=t.currentColAnchor,a=t.currentColFocus;if(n.length>0)return e.rowIdx=Math.min(r||0,i||0),e.colIdx=Math.min(o||0,a||0),e;var l=this.getEditor().getContentState().getActiveZone().getZoneId(),s=this.getRowAndColIndicesForCellId(l);return s?(e.rowIdx=s.rowIndex,e.colIdx=s.colIndex,e):(console.warn("pasteCellsOntoTable but none of cells are selected!"),e)},n.pasteCellsOntoTable=function(e,t,n){var r,i,o,a,l,s,u,c,d,f;if(!this.isEmpty()){var h=e.get(t).ops.find((function(e){var t;return"*"===e.insert&&(null===(t=e.attributes)||void 0===t?void 0:t.aceTable)}));if(h){var p=new J,g=fs(h.attributes.aceTable.trim().split(" "),2),v=g[0],m=g[1],b=this.state,y=b.rowsZoneId,w=b.colsZoneId,I=b.rowIds,C=b.colIds,k=this.getFirstCellIndiesOfSelection(),E=k.rowIdx,x=k.colIdx,M=e.get(v).ops,S=e.get(m).ops,T=[],A=[],N=[];try{for(var L=ds(M.entries()),D=L.next();!D.done;D=L.next()){var z=fs(D.value,2),O=z[0];if(null===(d=($=z[1]).insert)||void 0===d?void 0:d.id){var R=O+E;R>=I.length&&(p=p.compose(new St({zoneId:y}).retain(I.length+T.length).push($)),T.push($.insert.id));try{for(var _=(o=void 0,ds(S.entries())),j=_.next();!j.done;j=_.next()){var P=fs(j.value,2),B=P[0];if(null===(f=(ie=P[1]).insert)||void 0===f?void 0:f.id){var F=B+x;0===O&&F>=C.length&&(p=p.compose(new Tt({zoneId:w}).retain(C.length+A.length).push(ie)),A.push(ie.insert.id));var H=this.getZoneIdFromRowAndColIndex(R,F),Z=Kg($.insert.id,ie.insert.id),W=e.get(Z);(W?W.ops.reduce((function(e,t){var n,r;return(null===(n=t.attributes)||void 0===n?void 0:n.zoneType)&&e.push(null===(r=t.attributes)||void 0===r?void 0:r.zoneId),e}),[]):[]).forEach((function(t){var n=e.get(t);n&&(gy(n),p=p.compose(n))}));var U=Kg(I[R]||$.insert.id,C[F]||ie.insert.id);if(H){var K=this.getEditor().getContentState().getZoneState(H).getContent().length(),Y=new ae({zoneId:H}).delete(K-1).concat(W||new ae),G=Y.ops[Y.ops.length-1];"\n"===(null==G?void 0:G.insert)?Y.ops.pop():"string"==typeof(null==G?void 0:G.insert)&&(null==G?void 0:G.insert.endsWith("\n"))&&(G.insert=G.insert.slice(0,-1)),p=p.compose(Y),N.push(H)}else W&&(p=p.compose(new ae({zoneId:U,ops:W.ops}))),N.push(U)}}}catch(e){o={error:e}}finally{try{j&&!j.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}}}}catch(e){r={error:e}}finally{try{D&&!D.done&&(i=L.return)&&i.call(L)}finally{if(r)throw r.error}}var V=new St({zoneId:y}).retain(E);try{for(var Q=ds(M.entries()),X=Q.next();!X.done;X=Q.next()){var q=fs(X.value,2),$=(q[0],q[1]);V.retain(1,$.attributes)}}catch(e){l={error:e}}finally{try{X&&!X.done&&(s=Q.return)&&s.call(Q)}finally{if(l)throw l.error}}var ee=new Tt({zoneId:w}).retain(x);try{for(var te=ds(S.entries()),ne=te.next();!ne.done;ne=te.next()){var re=fs(ne.value,2),ie=(re[0],re[1]);ee.retain(1,ie.attributes)}}catch(e){u={error:e}}finally{try{ne&&!ne.done&&(c=te.return)&&c.call(te)}finally{if(u)throw u.error}}for(var oe=V.ops.length-1,le=ee.ops.length-1;oe>=0&&!V.ops[oe].attributes;)V.ops.pop(),oe--;for(;le>=0&&!ee.ops[le].attributes;)ee.ops.pop(),le--;p=(p=p.compose(V)).compose(ee),this.getEditor().getContentState().apply(p),this.getEditor().call(Lt.DID_PASTE,{deltaSet:p,UNSAFE_text:"",isInternalPaste:n}),this.setState({selectedCellIds:N})}}},n.deleteSelectedZones=function(e,t){var n=this;void 0===e&&(e=!1);var r=this.getSelectedZonesForSpecialSelection(),i=this.props.editor,o=i.getContentState(),a=!0;if(e||(a=r.every((function(e){var t=o.getZoneState(e);return!t||t.isEmpty()}))),a){var l=this.getWhollySelectedRegions(),s=l.entireTable,u=l.rows,c=l.cols;if(s)return this.deleteTable();u.length||c.length?(this.deleteRowsOrColsAtIndices(u,!0),this.deleteRowsOrColsAtIndices(c,!1)):r.length&&r.forEach((function(e){n.deleteZoneContents(e)}));var d={tableId:this.tableId,rows:u,cols:c};return i.call("removeColOrRow",d),d}r.forEach((function(e){n.deleteZoneContents(e)})),t&&t()},n.deleteRowsOrColsAtIndices=function(e,t){for(var n=0;n<e.length-1;n++)if(e[n]===e[n+1])throw new Error("indices must be distinct");for(n=e.length-1;n>=0;){for(var r=n,i=n;i>0&&e[i-1]+1===e[i];)i--;t?this.deleteRowAtIndex(e[i],r-i+1):this.deleteColAtIndex(e[i],r-i+1),n=i-1}},n.getRowZones=function(e,t,n){var r=this.state,i=r.rowIds,o=r.cellAttribs,a=this.getColIds(),l=[];return a.forEach((function(t,r){var s=Kg(e,t),u=ky(s,i,a,o);u||l.push(s),n&&u&&l.push(s)})),t?ig(this.state.selectedCellIds,l).length===l.length?ag(this.state.selectedCellIds,l):cg(l,this.state.selectedCellIds):l},n.getColZones=function(e,t,n){var r=this.state,i=r.colIds,o=r.cellAttribs,a=this.getRowIds(),l=[];return a.forEach((function(t,r){var s=Kg(t,e),u=ky(s,a,i,o);u||l.push(s),n&&u&&l.push(s)})),t?ig(this.state.selectedCellIds,l).length===l.length?ag(this.state.selectedCellIds,l):cg(l,this.state.selectedCellIds):l},n.selectRow=function(e,t){var n,r,i,o,a=this.state.rowIds;e=Array.isArray(e)?e:[e];var l=a.indexOf(e[e.length-1]),s=[],u=this.getColIds();try{for(var c=ds(e),d=c.next();!d.done;d=c.next()){var f=d.value;try{for(var h=(i=void 0,ds(u)),p=h.next();!p.done;p=h.next()){var g=p.value;s.push(Kg(f,g))}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}var v={selectedCellIds:t?ig(this.state.selectedCellIds,s).length===s.length?ag(this.state.selectedCellIds,s):cg(s,this.state.selectedCellIds):s,currentRowAnchor:l,currentColAnchor:0,currentRowFocus:l,currentColFocus:u.length-1,selectType:Vb.CLICK};this.setState(v)},n.setRep=function(e,t,n,r,i,o){var a,l,s=this;if(yg(r).length===r.length&&yg(n).length===n.length&&this.isComponentMounted&&r.length===o.length&&n.length===i.length){var u=this.props.isResponsiveWidth;try{for(var c=ds(this.getCellIds()),d=c.next();!d.done;d=c.next()){var f=d.value;this.tablePlugin.instanceManager.unregisterInstanceOfSubZoneId(f)}}catch(e){a={error:e}}finally{try{d&&!d.done&&(l=c.return)&&l.call(c)}finally{if(a)throw a.error}}var h=this.getCellAttribsFromRowAndColAttribs(i,o,n,r).cellAttribs;this.setState({rowsZoneId:e,colsZoneId:t,rowIds:n.slice(0),colIds:r.slice(0),rowAttribs:i,colAttribs:o,cellAttribs:h},(function(){var e,t,n=s.state,r=n.colIds,i=n.rowIds,o=s.updateCallStack.pop();o&&o({colIds:r,rowIds:i});try{for(var a=ds(s.getCellIds()),l=a.next();!l.done;l=a.next()){var u=l.value;s.tablePlugin.instanceManager.registerInstanceOfSubZoneId(u,s)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}})),this.tableColsWidth=py({colIds:r,colAttribs:o},u?void 0:this.colDefaultWidth)}},n.setRowHeight=function(e,t){var n,r=this.props.minCellHeight,i=this.state.rowAttribs[e][Ub.ROW_HEIGHT];Number(i)!==Number(t)&&(t=Math.max(t,r||40),this.performDocumentApplyAttributesToVectorRange(!0,this.state.rowsZoneId,e,e+1,((n={})[Ub.ROW_HEIGHT]=String(t),n),"tableSizeChange"))},n.setColumnWidth=function(e,t){var n,r=this.getCellMinWidth(),i=this.state.colAttribs[e][Ub.COL_WIDTH];Number(i)!==Number(t)&&(t=Math.max(t,r),this.performDocumentApplyAttributesToVectorRange(!1,this.state.colsZoneId,e,e+1,((n={})[Ub.COL_WIDTH]=String(t),n),"tableSizeChange"))},n.performDocumentApplyAttributesToVectorRange=function(e,t,n,r,i,o){var a=this.getEditor().getContentState(),l=new Mt({zoneId:t,zoneType:e?M.Row:M.Column});l.retain(n).retain(r-n,i),a.apply(l,{type:o||Xb.APPLY_ATTRIBUTES_TO_ROW_OR_COL})},n.replaceVectorRange=function(e,t,n,r,i,o){for(var a=this.getEditor().getContentState(),l=new Mt({zoneId:t,zoneType:e?M.Row:M.Column}).retain(n).delete(r-n),s=0;s<i;s++){var u=e?Wg():Ug();l.insert(u)}a.apply(l,{type:o||Xb.REPLACE_VECTOR_RANGE})},n.performDocumentApplyAttributesToZone=function(e){var t=e.zoneId,n=e.attributes,r=this.attributesApplyingQueue[t];this.attributesApplyingQueue[t]=r?Ab(r,n):n},n.applyAttributesOfZone=function(){var e,t,n,r,i,o,a,l,s,u,c=this.state,d=c.cellAttribs,f=c.colsZoneId,h=c.rowsZoneId,p=c.colAttribs,g=c.rowAttribs,v=[],m=[];try{for(var b=ds(Object.entries(this.attributesApplyingQueue)),y=b.next();!y.done;y=b.next()){var w=fs(y.value,2),I=w[0],C=w[1],k=this.getRowAndColIndicesForCellId(I);if(k){var E=k.rowIndex,x=k.colIndex;v[E]=v[E]||{},m[x]=m[x]||{};var S=d[E][x];try{for(var T=(n=void 0,ds(Object.keys(C))),A=T.next();!A.done;A=T.next()){var N=A.value;S[N]&&(C[N]=Ab(S[N],C[N]));var L=v[E][N]=v[E][N]||{},D=m[x][N]=m[x][N]||{};Object.assign(L,((i={})[I]=C[N],i)),Object.assign(D,((o={})[I]=C[N],o))}}catch(e){n={error:e}}finally{try{A&&!A.done&&(r=T.return)&&r.call(T)}finally{if(n)throw n.error}}}}}catch(t){e={error:t}}finally{try{y&&!y.done&&(t=b.return)&&t.call(b)}finally{if(e)throw e.error}}var z=this.getEditor().getContentState(),O=new J;try{for(var R=ds(v.entries()),_=R.next();!_.done;_=R.next()){var j=fs(_.value,2),P=j[0];if(W=j[1]){var B=hy(W,g[P]),F=new Mt({zoneId:h,zoneType:M.Row}).retain(P).retain(1,B);O=O.compose(F)}}}catch(e){a={error:e}}finally{try{_&&!_.done&&(l=R.return)&&l.call(R)}finally{if(a)throw a.error}}try{for(var H=ds(m.entries()),Z=H.next();!Z.done;Z=H.next()){var W,U=fs(Z.value,2);P=U[0];if(W=U[1]){B=hy(W,p[P]),F=new Mt({zoneId:f,zoneType:M.Column}).retain(P).retain(1,B);O=O.compose(F)}}}catch(e){s={error:e}}finally{try{Z&&!Z.done&&(u=H.return)&&u.call(H)}finally{if(s)throw s.error}}z.apply(O,{type:Xb.APPLY_VECTOR_CHANGESET}),this.attributesApplyingQueue={}},n.getMaxRowAndColIndexOfSelection=function(e,t){for(var n=this.state.cellAttribs,r=fs(e,2),i=r[0],o=r[1],a=fs(t,2),l=a[0],s=a[1],u=i;u<=l;u++)for(var c=n[u],d=o;d<=s;d++){(f=c[d])[Ub.ROW_SPAN]>1&&(l=Math.max(u+f[Ub.ROW_SPAN]-1,l))}for(d=o;d<=s;d++)for(u=i;u<=l;u++){var f;(f=(c=n[u])[d])[Ub.COL_SPAN]>1&&(s=Math.max(d+f[Ub.COL_SPAN]-1,s))}for(u=l;u>=i;u--){c=n[u];var h=function(e){if(0===c[e][Ub.ROW_SPAN]){var t=bg(u,-1).find((function(t){return n[t]&&n[t][e][Ub.ROW_SPAN]>1}));void 0!==t&&(i=Math.min(i,Math.max(t,0)))}};for(d=s;d>=o;d--)h(d)}for(d=s;d>=o;d--){var p=function(e){var t=n[e];if(0===t[d][Ub.COL_SPAN]){var r=bg(d,-1).find((function(e){return t[e]&&t[e][Ub.COL_SPAN]>1}));void 0!==r&&(o=Math.min(o,Math.max(r,0)))}};for(u=l;u>=i;u--)p(u)}return i!==e[0]||l!==t[0]||o!==e[1]||s!==t[1]?this.getMaxRowAndColIndexOfSelection([i,o],[l,s]):{minRow:i,maxRow:l,minCol:o,maxCol:s}},n.getFocusIndices=function(e){var t=e.currentRowAnchor,n=e.currentRowFocus,r=e.currentColAnchor,i=e.currentColFocus,o=e.isNeat,a=void 0===o||o,l=this.getRowIds(),s=this.getColIds(),u=[],c=Math.min(t,n),d=Math.min(r,i),f=Math.max(t,n),h=Math.max(r,i);if(c===f&&d===h){var p=this.state.cellAttribs[c][h],g=p.mergeCellID,v=p.colspan,m=p.rowspan;g&&0!==v&&0!==m||(a=!1)}if(a)for(var b=this.getMaxRowAndColIndexOfSelection([c,d],[f,h]),y=b.maxRow,w=b.maxCol,I=b.minRow,C=b.minCol,k=I;k<=y;k++)for(var E=C;E<=w;E++){var x=Kg(l[k],s[E]);u.push(x)}else for(k=c;k<=f;k++)for(E=d;E<=h;E++){x=Kg(l[k],s[E]);u.push(x)}return{selectedCellIds:u}},n.addRowAtIndex=function(e){var t=this,n=e.index,r=e.counts,i=void 0===r?1:r,o=e.extendStyle,a=e.isTop,l=void 0!==a&&a,s=e.cb,u=this.state,c=u.colIds,d=u.rowIds,f=u.cellAttribs,h=u.rowsZoneId,p=l?this.getAttribs(n,!0):this.getAttribs(n-1,!0),g=this.getExtendStyleOptions(o),v=zs(g),m=[],b=[],y=[],w=l?this.getRowZones(d[n],!1,!0):this.getRowZones(d[n-1],!1,!0);if(v){var I=(null==g?void 0:g.backgroundColor)?p.filter((function(e){return e[0]===Ub.BACKGROUND_COLOR})):[],C=(null==g?void 0:g.border)?p.filter((function(e){return e[0]===Ub.BORDER})):[];w.forEach((function(e){y.push(t.getFontAttribute(e))})),I&&I.length&&w.forEach((function(e){m.push(t.getBackgroundColor(e))})),C&&C.length&&w.forEach((function(e){b.push(t.getBorderAttributeByCellId(e))}));this.updateCallStack.push((function(){return t.editor.undoModule.batchedUndo((function(){for(var e=t.state,r=e.colIds,o=e.rowIds,a=function(e){for(var a=function(n){var i=Kg(o[n],r[e]);i&&m[e]&&t.setBackgroundColor({cellIds:[i],color:m[e]}),i&&b[e]&&t.setBorderStyle(as({zoneId:i},b[e])),i&&y[e]&&Object.keys(y[e]).forEach((function(n){t.setFontAttribute(n,y[e][n],[i])}))},l=n;l<n+i;l++)a(l)},l=0;l<r.length;l++)a(l);t.applyAttributesOfZone()}))}))}this.replaceVectorRange(!0,this.state.rowsZoneId,n,n,i||1),v&&(p=p.filter((function(e){return e[0]!==Ub.MERGE_CELL_ID&&e[0]!==Ub.BACKGROUND_COLOR&&e[0]!==Ub.BORDER}))).length&&this.performDocumentApplyAttributesToVectorRange(!0,h,n,n+i,p.reduce((function(e,t){return e[t[0]]=t[1],e}),{})),n<d.length&&c.forEach((function(e,r){var i,o=f[n][r][Ub.MERGE_CELL_ID],a=f[n][r][Ub.ROW_SPAN];o&&0===a&&t.performDocumentApplyAttributesToVectorRange(!0,h,n,n+1,((i={})[Ub.MERGE_CELL_ID]=o,i))})),setTimeout((function(){s&&s()}))},n.deleteRowAtIndex=function(e,t){void 0===t&&(t=1),0!==e||t!==this.getRowCount()?(this.focusAndCollapseSelectionOntoCell(e===this.state.rowIds.length-t?e-1:e+t,0),this.ensureValidCurrentIndices(this.getRowCount()-t),this.replaceVectorRange(!0,this.state.rowsZoneId,e,e+t,0,"deleteRow")):this.deleteTable()},n.getAttribs=function(e,t){var n=this.state,r=n.colAttribs,i=n.rowAttribs,o=[];if(t)for(var a in i[e])i[e].hasOwnProperty(a)&&o.push([a,i[e][a]]);else for(var a in r[e])r[e].hasOwnProperty(a)&&o.push([a,r[e][a]]);return o},n.addColAtIndex=function(e){var t=this,n=e.index,r=e.counts,i=void 0===r?1:r,o=e.extendStyle,a=e.isLeft,l=void 0!==a&&a,s=e.cb,u=this.state,c=u.cellAttribs,d=u.colIds,f=u.rowIds,h=u.colsZoneId,p=this.getTableInfo();this.tableWidth=this.tableWidth||p&&p.width,this.currentStack=Jb;var g=l?this.getAttribs(n,!1):this.getAttribs(n-1,!1),v=this.getExtendStyleOptions(o),m=[],b=[],y=[],w=zs(v);if(w){var I=l?this.getColZones(d[n],!1,!0):this.getColZones(d[n-1],!1,!0),C=(null==v?void 0:v.backgroundColor)?g.filter((function(e){return e[0]===Ub.BACKGROUND_COLOR})):[],k=(null==v?void 0:v.border)?g.filter((function(e){return e[0]===Ub.BORDER})):[];I.forEach((function(e){y.push(t.getFontAttribute(e))})),C&&C.length&&I.forEach((function(e){m.push(t.getBackgroundColor(e))})),k&&k.length&&I.forEach((function(e){b.push(t.getBorderAttributeByCellId(e))}));this.updateCallStack.push((function(){return t.editor.undoModule.batchedUndo((function(){for(var e=t.state,r=e.colIds,o=e.rowIds,a=function(e){for(var a=function(n){var i=Kg(o[e],r[n]);i&&m[e]&&t.setBackgroundColor({cellIds:[i],color:m[e]}),i&&b[e]&&t.setBorderStyle(as({zoneId:i},b[e])),i&&y[e]&&Object.keys(y[e]).forEach((function(n){t.setFontAttribute(n,y[e][n],[i])}))},l=n;l<n+i;l++)a(l)},l=0;l<o.length;l++)a(l);t.applyAttributesOfZone()}))}))}this.replaceVectorRange(!1,this.state.colsZoneId,n,n,i||1),w&&(g=g.filter((function(e){return e[0]!==Ub.MERGE_CELL_ID&&e[0]!==Ub.BACKGROUND_COLOR&&e[0]!==Ub.BORDER}))).length&&this.performDocumentApplyAttributesToVectorRange(!1,h,n,n+i,g.reduce((function(e,t){return e[t[0]]=t[1],e}),{})),n<d.length&&f.forEach((function(e,r){var o,a=c[r][n][Ub.MERGE_CELL_ID],l=c[r][n][Ub.COL_SPAN];a&&0===l&&t.performDocumentApplyAttributesToVectorRange(!1,h,n,n+i,((o={})[Ub.MERGE_CELL_ID]=a,o))})),this.currentStack.length&&(this.currentStack=""),setTimeout((function(){s&&s()}))},n.calcToolbarsSize=function(){var e,t,n,r,i=this.state,a=i.rowIds,l=i.colIds,s=i.cellAttribs,u=i.colAttribs,c=i.rowAttribs,d=[],f=l[0],h=this.calColHeaderWidths(),p=h.colHeaderWidths,g=h.colHeaderTypes,v={colHeaderWidths:p,rowHeaderHeights:d,colHeaderTypes:g};if(!(f&&s[0].length&&u.length&&c.length))return v;for(var m=function(i){for(var u=-1,c=0;c<l.length;c++){var f=s[i][c];if(!Number.isInteger(f[Ub.ROW_SPAN])){var h=Kg(a[i],l[c]);if(y=o.findDOMNode(b.cellRefs["cell-"+h])){var p=null===(e=y.getClientRects())||void 0===e?void 0:e[0];d[i]=null!==(t=null==p?void 0:p.height)&&void 0!==t?t:y.clientHeight+1}break}if(0!==f[Ub.ROW_SPAN]);else{var g=s[i+1]&&s[i+1][c];-1!==u||g&&0===g[Ub.ROW_SPAN]||(u=c)}}if(-1!==u){var m=a.map((function(e,t){return s[t][u][Ub.ROW_SPAN]>1})).lastIndexOf(!0,i);if(-1!==m){var y,w=d.slice(m);h=Kg(a[m],l[u]);if(!(y=o.findDOMNode(b.cellRefs["cell-"+h])))return{value:v};p=null===(n=y.getClientRects())||void 0===n?void 0:n[0];for(var I=null!==(r=null==p?void 0:p.height)&&void 0!==r?r:y.clientHeight+1,C=d.length;C<=i;C++){var k=w.reduce((function(e,t){return e+=Number(t)}),0);d[C]=(I-k)/(i-m+1-w.length)}}}},b=this,y=0;y<a.length;y++){var w=m(y);if("object"==typeof w)return w.value}return{colHeaderWidths:p,rowHeaderHeights:d,colHeaderTypes:g}},n.setTableInstanceWidth=function(e){this.tableWidth=e},n.getTableInstanceWidth=function(){return this.tableWidth||0},Object.defineProperty(n,"colMinWidth",{get:function(){return this.props.minCellWidth||50},enumerable:!1,configurable:!0}),Object.defineProperty(n,"colDefaultWidth",{get:function(){return this.props.defaultCellWidth||Kb},enumerable:!1,configurable:!0}),n.getCellAttribsFromRowAndColAttribs=function(e,t,n,r){var i,o,a,l,s,u,c,d,f,h,p,g,v=this.props,m=v.defaultCellHeight,b=v.defaultCellWidth,y=v.minCellWidth,w=v.tableOptions,I=[],C=(f=0,h=0,function(e){var t,n,r,i=e.rAttr,o=e.cAttr,a=e.rIndex,l=e.cIndex,s=e.cellAttribs,u=e.colsFitWidth,c=e.defaultCellWidth,d=e.defaultCellHeight,p=e.minCellWidth,g=s[a][l]=((t={})[Ub.COL_WIDTH]=u&&u.length?u[l]:Number(o[Ub.COL_WIDTH])?Math.max(Number(o[Ub.COL_WIDTH]),p):c||Kb,t[Ub.ROW_HEIGHT]=Number(i[Ub.ROW_HEIGHT])||d||40,t),v=iy(o),m=iy(i),b=ig(m,v)[0];if(b){g[Ub.MERGE_CELL_ID]=b;var y=s[a][l-1]||null;y&&y[Ub.MERGE_CELL_ID]===b||(f=l,h=0),h++;var w=s[a][f];f!==l&&(Object.assign(w,((n={})[Ub.COL_SPAN]=h,n[Ub.COL_WIDTH]=Number(w[Ub.COL_WIDTH])+Number(g[Ub.COL_WIDTH]),n)),Object.assign(g,((r={})[Ub.COL_SPAN]=0,r[Ub.COL_WIDTH]=0,r)))}}),k=(p=0,g=0,function(e){var t=e.rAttr,n=e.cAttr,r=e.rIndex,i=e.cIndex,o=e.cellAttribs,a=iy(n),l=iy(t),s=ig(l,a)[0];if(s){var u=o[r-1]||null;u&&u[i]&&u[i][Ub.MERGE_CELL_ID]===s||(p=r,g=0),g++,p!==r&&(o[p][i][Ub.ROW_SPAN]=g,o[r][i][Ub.ROW_SPAN]=0)}});try{for(var E=ds(e.entries()),x=E.next();!x.done;x=E.next()){var M=fs(x.value,2),S=M[0],T=M[1];I[S]=[];var A=function(e,t){var i=void 0;n[S]&&r[e]&&(i=Kg(n[S],r[e]));var o={cAttr:t,rAttr:T,cIndex:e,rIndex:S,cellAttribs:I,defaultCellHeight:m,defaultCellWidth:b,cId:r[e],rId:n[S],cellId:i};C(as(as({},o),{minCellWidth:y})),(null==w?void 0:w.isCustomBorder)&&ay(o),(null==w?void 0:w.isCustomBackgroundColor)&&sy(o),(null==w?void 0:w.isCustomValign)&&ly(o),(null==w?void 0:w.isCustomPadding)&&uy(o),(null==w?void 0:w.isCustomFont)&&cy(o),(null==w?void 0:w.customCellAttributes)&&w.customCellAttributes.forEach((function(e){dy(o,e)}))};try{for(var N=(a=void 0,ds(t.entries())),L=N.next();!L.done;L=N.next()){var D=fs(L.value,2);A(_=D[0],j=D[1])}}catch(e){a={error:e}}finally{try{L&&!L.done&&(l=N.return)&&l.call(N)}finally{if(a)throw a.error}}}}catch(e){i={error:e}}finally{try{x&&!x.done&&(o=E.return)&&o.call(E)}finally{if(i)throw i.error}}try{for(var z=ds(t.entries()),O=z.next();!O.done;O=z.next()){var R=fs(O.value,2),_=R[0],j=R[1];try{for(var P=(c=void 0,ds(e.entries())),B=P.next();!B.done;B=P.next()){var F=fs(B.value,2);S=F[0];k({cAttr:j,rAttr:T=F[1],cIndex:_,rIndex:S,cellAttribs:I})}}catch(e){c={error:e}}finally{try{B&&!B.done&&(d=P.return)&&d.call(P)}finally{if(c)throw c.error}}}}catch(e){s={error:e}}finally{try{O&&!O.done&&(u=z.return)&&u.call(z)}finally{if(s)throw s.error}}return{cellAttribs:I}},n.removeBorderStyle=function(e){var t,n=e.zoneId,r=e.borders,i={zoneId:n},o=null===(t=this.props.tableOptions)||void 0===t?void 0:t.defaultBorderStyle;r.includes(Wb.ALL)?i.style=o||qb:r.forEach((function(e){i[e]=o||qb})),this.setBorderStyle(i),this.applyAttributesOfZone()},n.getZondIdfromSelectedRange=function(){for(var e=this.state,t=e.colIds,n=e.rowIds,r=this.getSelectionRange(),i=r.colRange,o=r.rowRange,a=[],l=0;l<o.length;l++)for(var s=0;s<i.length;s++)a.push(Kg(n[l],t[s]));return a},n.setBorderStyle=function(e){var t,n=e.zoneId,r=e.top,i=e.bottom,o=e.left,a=e.right,l=e.style,s=e.isRecursion,u=void 0===s||s;if(r||i||o||a||l){var c=this.getRowAndColIndicesForCellId(n);if(c){var d=c.rowIndex,f=c.colIndex,h=this.state,p=h.cellAttribs,g=h.rowIds,v=h.colIds,m=r||l,b=i||l,y=o||l,w=a||l,I={};if(m&&(I.top=m),b&&(I.bottom=b),y&&(I.left=y),w&&(I.right=w),u){if(0!==f&&y){var C=this.getVisibleZoneIdFromRowAndCol(d,f-1);C&&n!==C&&this.setBorderStyle({zoneId:C,right:y,isRecursion:!1})}if(f!==v.length-1&&w){var k=this.getVisibleZoneIdFromRowAndCol(d,f+1);k&&n!==k&&this.setBorderStyle({zoneId:k,left:w,isRecursion:!1})}if(0!==d&&m){var E=this.getVisibleZoneIdFromRowAndCol(d-1,f);E&&n!==E&&this.setBorderStyle({zoneId:E,bottom:m,isRecursion:!1})}if(d!==g.length-1&&b){var x=this.getVisibleZoneIdFromRowAndCol(d+1,f);x&&n!==x&&this.setBorderStyle({zoneId:x,top:b,isRecursion:!1})}}if(u)for(var M=rg(p,[d,f,Ub.COL_SPAN])||0,S=rg(p,[d,f,Ub.ROW_SPAN])||0,T=d;T<d+S;T++)for(var A=f;A<f+M;A++)if(T!==d||A!==f){var N=this.getZoneIdFromRowAndColIndex(T,A);N&&(T===d&&m&&this.setBorderStyle({zoneId:N,top:m}),T===d+S-1&&b&&this.setBorderStyle({zoneId:N,bottom:b}),A===f&&y&&this.setBorderStyle({zoneId:N,left:y}),A===f+M-1&&w&&this.setBorderStyle({zoneId:N,right:w}))}this.performDocumentApplyAttributesToZone({zoneId:n,attributes:(t={},t[Ub.BORDER]=I,t)})}}},n.setTableOuterWrapperRef=function(e){e&&(this.tableWrapperOuterRef=e)},n.getTableOuterWrapperRef=function(){return this.tableWrapperOuterRef},n.setTableWrapperRef=function(e){this.tableWrapperRef=e},n.setTableWrapperInnerRef=function(e){this.tableWrapperInnerRef=e},n.setTableRef=function(e){this.tableRef=e},n.setTbodyRef=function(e){this.tbodyRef=e},n.setCellRef=function(e,t){this.cellRefs[e]=t},n.setTableHeaderRef=function(e){this.tableHeaderRef=e},n.getTableHeaderRef=function(){return this.tableHeaderRef},n.setCurrentHoverOfZone=function(e){this.isMouseDown&&(this.currentHoverOfZone=e)},n.setCellContentEditable=function(e,t){var n=this;e.forEach((function(e){n.getCellHost(e).setAttribute("contentEditable",t?"true":"false")}))},n.getCellHost=function(e){var t=this.cellRefs["cell-"+e].innerZone.innerZoneRef;return t&&t.querySelector(".zoneId-"+e)},n.getTableScrollWidth=function(){return this.state.colHeaderWidths.reduce((function(e,t){return e+=t}),2)},n.resetSelectRowOrColStatus=function(){this.setState({isSelectRowOrCol:!1})},n.handleContentResize=function(){return this.calcUpdateTableRectInfo(),this.tableWrapperInnerRef.handleContentResize()},n.render=function(){var e=this.props,t=e.editor,n=e.zoneIdToInitialHTML;return i.createElement(vy,{editor:t,zoneIdToInitialHTML:n},Nb("render",this.props.tableOptions,this))},ss([mm],t.prototype,"handleContentChange",null),ss([mm()],t.prototype,"getColAndROWIds",null),ss([mm()],t.prototype,"calcCellPoint",null),ss([mm()],t.prototype,"getTableColsWidth",null),ss([mm()],t.prototype,"getComponentMounted",null),ss([mm()],t.prototype,"getTableRectInfo",null),ss([mm()],t.prototype,"componentDidMount",null),ss([mm()],t.prototype,"getCellLayoutWidth",null),ss([mm()],t.prototype,"on",null),ss([mm()],t.prototype,"off",null),ss([mm()],t.prototype,"getCustomContext",null),ss([mm()],t.prototype,"setCustomContext",null),ss([mm()],t.prototype,"getRectOfZone",null),ss([mm()],t.prototype,"isToolbarShown",null),ss([mm()],t.prototype,"getRectOfZoneInEditor",null),ss([mm()],t.prototype,"selectedCellsChange",null),ss([mm()],t.prototype,"getSelectedCellStatus",null),ss([mm()],t.prototype,"setRangeOnRangeDom",null),ss([mm()],t.prototype,"handleBlockDidCreate",null),ss([mm()],t.prototype,"handleBlockDelete",null),ss([mm()],t.prototype,"focusAndCollapseSelectionOntoCell",null),ss([mm()],t.prototype,"focusAndCollapseSelectionOntoCellByZoneId",null),ss([mm()],t.prototype,"handleTableMouseUpAfterMove",null),ss([mm()],t.prototype,"handleMouseSelection",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"handleTableMouseDown",null),ss([mm()],t.prototype,"addLineBetweenTables",null),ss([mm()],t.prototype,"ontHeaderTriangleClick",null),ss([mm()],t.prototype,"updateCurrentHoverHeader",null),ss([mm()],t.prototype,"getZoneIdWhichContentShouldCompose",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"updateRowAndColRangeOfPasteOntoTable",null),ss([mm()],t.prototype,"updateRowAndColAttributeOfPasteOntoTable",null),ss([mm()],t.prototype,"updateCellContentOfPasteOntoTable",null),ss([mm()],t.prototype,"getBackgroundColor",null),ss([mm()],t.prototype,"getFontAttribute",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"setFontAttribute",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"setBackgroundColor",null),ss([mm()],t.prototype,"updateBackgroundStylesOfMergeCell",null),ss([mm()],t.prototype,"updateFontStyleOfMergeCell",null),ss([mm()],t.prototype,"updateBorderStyleOfMergeCell",null),ss([mm()],t.prototype,"updateBorderStyleOfUnMergeCell",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"mergeCells",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"unMergeCells",null),ss([mm()],t.prototype,"getMergeStatusByCellIds",null),ss([mm()],t.prototype,"setToolBarScale",null),ss([mm()],t.prototype,"setTableStyle",null),ss([mm()],t.prototype,"setOutOfTable",null),ss([mm()],t.prototype,"handleTableZoom",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"deleteTable",null),ss([mm()],t.prototype,"handleInnerZoneFocus",null),ss([mm()],t.prototype,"toggleTableFocus",null),ss([mm()],t.prototype,"handleAceFocus",null),ss([mm()],t.prototype,"handleAceBlur",null),ss([mm()],t.prototype,"handleAceMouseDown",null),ss([mm()],t.prototype,"handleHorzResizeEnd",null),ss([mm()],t.prototype,"handleResizeEnter",null),ss([mm()],t.prototype,"handleResizeLeave",null),ss([mm()],t.prototype,"handleHorzResize",null),ss([mm()],t.prototype,"getCellMinWidth",null),ss([mm()],t.prototype,"handleVertResizeStart",null),ss([mm()],t.prototype,"handleVertResizeEnd",null),ss([mm()],t.prototype,"handleVertResize",null),ss([mm()],t.prototype,"handleScrollableScroll",null),ss([mm()],t.prototype,"getOffsetOfCellLeftToTableLeft",null),ss([mm()],t.prototype,"getSelectedZonesWithVisible",null),ss([mm()],t.prototype,"handleScrollableResize",null),ss([mm()],t.prototype,"detectTableResizeImmediately",null),ss([mm()],t.prototype,"getTableInfo",null),ss([mm()],t.prototype,"calcTableContentRectInfo",null),ss([mm()],t.prototype,"calcMaxContentHeightOfRow",null),ss([mm()],t.prototype,"notifySelectAll",null),ss([mm()],t.prototype,"getColRect",null),ss([mm()],t.prototype,"getRowRect",null),ss([mm()],t.prototype,"getZoneIdFromRowAndColIndex",null),ss([mm()],t.prototype,"getVisibleZoneIdFromRowAndCol",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"pasteCellsOntoTable",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"deleteSelectedZones",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"deleteRowsOrColsAtIndices",null),ss([mm()],t.prototype,"getRowZones",null),ss([mm()],t.prototype,"getColZones",null),ss([mm()],t.prototype,"selectRow",null),ss([mm()],t.prototype,"setRep",null),ss([mm()],t.prototype,"setRowHeight",null),ss([mm()],t.prototype,"setColumnWidth",null),ss([mm()],t.prototype,"performDocumentApplyAttributesToZone",null),ss([mm()],t.prototype,"getFocusIndices",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"addRowAtIndex",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"deleteRowAtIndex",null),ss([mm()],t.prototype,"getAttribs",null),ss([mm(),function(e,t,n){var r=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.editor.undoModule.batchedUndo((function(){r.apply(e,t)}))},n}],t.prototype,"addColAtIndex",null),ss([mm()],t.prototype,"calcToolbarsSize",null),ss([mm()],t.prototype,"setTableInstanceWidth",null),ss([mm()],t.prototype,"getTableInstanceWidth",null),ss([mm()],t.prototype,"getCellAttribsFromRowAndColAttribs",null),ss([mm()],t.prototype,"removeBorderStyle",null),ss([mm()],t.prototype,"getZondIdfromSelectedRange",null),ss([mm()],t.prototype,"setBorderStyle",null),ss([mm()],t.prototype,"setTableOuterWrapperRef",null),ss([mm()],t.prototype,"getTableOuterWrapperRef",null),ss([mm()],t.prototype,"setTableWrapperRef",null),ss([mm()],t.prototype,"setTableWrapperInnerRef",null),ss([mm()],t.prototype,"setTableRef",null),ss([mm()],t.prototype,"setTbodyRef",null),ss([mm()],t.prototype,"setCellRef",null),ss([mm()],t.prototype,"setTableHeaderRef",null),ss([mm()],t.prototype,"getTableHeaderRef",null),ss([mm()],t.prototype,"setCurrentHoverOfZone",null),ss([mm()],t.prototype,"setCellContentEditable",null),ss([mm()],t.prototype,"getCellHost",null),ss([mm()],t.prototype,"getTableScrollWidth",null),ss([mm()],t.prototype,"resetSelectRowOrColStatus",null),ss([mm()],t.prototype,"handleContentResize",null),t}(i.Component),xy=Hg,My=Zg,Sy=Gg,Ty=Xg,Ay=Jg,Ny=$g,Ly=Qg,Dy=qg,zy=Vg,Oy=Yg,Ry=Ug,_y=Wg,jy=Fg,Py=zg,By=Rg,Fy=function(){function e(e){this.editor=e,this.lineStateToTableInstance=new Map,this.instanceToLineState=new WeakMap,this.tableIdToTableInstance=new Map,this.subZoneIdToTableInstance=new Map}var t=e.prototype;return t.registerInstance=function(e,t){this.lineStateToTableInstance.set(t,e),this.tableIdToTableInstance.set(e.tableId,e),this.instanceToLineState.set(e,t)},t.unregisterInstance=function(e){if(e instanceof Ey){var t=this.instanceToLineState.get(e);t&&this.lineStateToTableInstance.delete(t),this.instanceToLineState.delete(e)}else{var n=this.lineStateToTableInstance.get(e);n&&this.instanceToLineState.delete(n),this.lineStateToTableInstance.delete(e)}},t.registerInstanceOfSubZoneId=function(e,t){this.subZoneIdToTableInstance.set(e,t)},t.unregisterInstanceOfSubZoneId=function(e){this.subZoneIdToTableInstance.delete(e)},t.getInstanceByLineState=function(e){return this.lineStateToTableInstance.get(e)||null},t.getInstanceByLineNum=function(e,t){var n,r=null===(n=this.editor.getContentState().getZoneState(e))||void 0===n?void 0:n.getLine(t);return r?this.getInstanceByLineState(r):null},t.getInstanceById=function(e){return this.tableIdToTableInstance.get(e)||null},t.getInstanceBySubZoneId=function(e){return this.subZoneIdToTableInstance.get(e)||null},t.getInstanceWithSelected=function(){var e,t;try{for(var n=ds(this.lineStateToTableInstance.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getSelectStatus().length)return i}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},t.getInstancesWithHighlight=function(){var e,t,n=[];try{for(var r=ds(this.lineStateToTableInstance.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.isHighlight&&n.push(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},t.getInstancesInSelection=function(e){for(var t=e.start,n=t.line,r=t.zoneId,i=e.end.line,o=[],a=n;a<=i;a++){var l=this.getInstanceByLineNum(r,a);l&&o.push(l)}return o},t.getLineStateByInstance=function(e){return this.instanceToLineState.get(e)||null},t.clear=function(){this.lineStateToTableInstance.clear(),this.instanceToLineState=new WeakMap,this.tableIdToTableInstance.clear(),this.subZoneIdToTableInstance.clear()},e}(),Hy=function(e){function t(n){var r=e.call(this)||this;return r.options=n,r.lineOfTableWillPaste=0,r.tablePropsMap={},r.rangeDom=null,r.nonSelectTimer=null,r.name=t.KEY,r.adapterKey="table",r.tableSpanClsCollect=[],r.tableSpanClsCollectPersist=[],r.highlightIns=[],r.undelegateTableMouseList=[],r.getTableInstance=function(e,t){return r.instanceManager.getInstanceByLineNum(e,t)},r.doInsertTable=function(e,t,n){var i,o,a=e.rect,l=e.uuid,s=e.autoFocus,u=void 0===s||s,c=e.fromAPanel;void 0===t&&(t=!1),void 0===n&&(n=!1);var d=r.editor,f=d.selection.getSelection(),h=f.start,p=f.end,g=h.zoneId,v=xy(),m=My();if((r.options.isNested||"0"===g)&&!n){var b=d.getContentState(),y=null===(o=b.getZoneState(g))||void 0===o?void 0:o.getLine(h.line);if(y){var w,I=function(e,t,n){var r;if(0===t.line)return!0;if(0===t.offset)return!1;if(e.version.includes(Ce)){var i=null===(r=e.getContentState().getZoneState(n))||void 0===r?void 0:r.getLine(t.line),o=(null==i?void 0:i.hasLineMarker)?1:0;return t[1]!==o||!(null==i?void 0:i.getLineAttributes().every((function(e){return Ob.includes(e[0])})))}return!0}(d,h,g),C=y&&h.offset===y.length()-1;if(a||(a=Zb,w="shortKey"),l){var k=oa(document.querySelector(".at-uuid_"+l),d);if(!k)return;h=k.start,p=k.end}var E=b.getZoneState(g);if(E){var x=E.pointToOffset(h),M=E.pointToOffset(p);if(null!==x&&null!==M){var S=new ae({zoneId:g}).retain(x).delete(M-x);I&&S.insertEnter(),S.insert("*",((i={}).aceTable=v+" "+m,i)),C&&t||S.insertEnter();var T=r.replaceVectorRange(!1,m,0,0,a.x),A=r.replaceVectorRange(!0,v,0,0,a.y),N=b.apply(S,{type:Pb});r.editor.undoModule.mergeRecords(N,T,A);var L=Ly(v,m);u&&setTimeout((function(){var e=r.instanceManager.getInstanceById(L);e&&e.focusAndCollapseSelectionOntoCell(0,0)})),d.call("insertTable",{from:w,rect:a,blockId:L,fromAPanel:c,editor:d})}}}}},r.removeEvents=function(){var e=r.editor;e.off(Gb.COPY,r.copyTable),e.off(Gb.CUT,r.cutTable),e.off(Lt.WILL_DELETE_FROM_CUT,r.handleWillDeleteFromCut),e.off(Lt.PASTE,r.handlePaste),e.off(Lt.DID_PASTE,r.handleDidPaste),e.off(Lt.CONTENT_CHANGE,r.handleContentChange),e.off(Lt.KEYDOWN,r.handleKeyDown),e.off(Lt.EXEC_COMMAND,r.handleTriggerCommand),e.off(Lt.SELECTION_CHANGE,r.handleSelectionChanged),document.removeEventListener("mousedown",r.handleSelectTableMouseDown),document.removeEventListener("mouseup",r.handleSelectTableMouseUp),e.off("mousedown",r.documentEventHandler),e.off("focus",r.documentEventHandler),e.off("blur",r.documentEventHandler),r.removeIpadSafariEvents()},r.documentEventHandler=function(e){"mousedown"===e.type&&e.target instanceof HTMLElement&&e.target.classList.contains("dmc-button")&&e.preventDefault(),r.editor.call("ace-"+e.type,e)},r.lineTrackerUpdate=function(e,t){var n=t.isCollapsed,i=t.dirtyLines;n||i.forEach((function(e){var t=e.lineNum,n=r.instanceManager.getInstanceByLineNum(fe,t);n&&n.handleContentResize()}))},r.handleWillDeleteFromCut=function(e){r.aceCutReplaceSelection(e)},r.aceAttribsToClasses=function(e,t){var n=t.key,r=t.value,i=[];return n.indexOf(Bb[0])>-1&&i.push(Bb[0]),n.indexOf(Hb)>-1&&i.push(Hb),n.indexOf(Fb)>-1&&(i.push(n+"-"+r),i.push("ace-table-mount-point"),i.push(ry(r))),i.join(" ")},r.listener=function(e){if(r.editor){e.stopPropagation(),e.stopImmediatePropagation();var t=e.type;t===Lt.CUT?r.editor.clipboard.onCut(e):t===Lt.COPY&&r.editor.clipboard.onCopy(e),e.preventDefault()}},r.handleResetSpecialSelection=function(e){var t,n;for(var i in ey)if(ey.hasOwnProperty(i)){var o=ey[i];if(e.target.closest(o))return}var a=null===(n=null===(t=e.target.closest(".ace-table-mount-point"))||void 0===t?void 0:t.querySelector("td [data-zone-id]"))||void 0===n?void 0:n.getAttribute("data-zone-id");if(a){var l=r.instanceManager.getInstanceBySubZoneId(a);l&&l.getSelectStatus().length&&(l.unselectAll(),l.focusAndCollapseSelectionOntoCellByZoneId(a))}},r.handleSelectTableMouseDown=function(e){3!==e.which&&r.bindTableMouseEvent()},r.bindTableMouseEvent=function(){var e={passive:!0},t=".ace-table-wrapper-outer";[{parent:"body",child:t,event:"mouseenter",handle:r.handleSelectTableMouseEnter.bind(r),eventOptions:e},{parent:"body",child:t,event:"mouseleave",handle:r.handleSelectTableMouseLeave.bind(r),eventOptions:e}].forEach((function(e){var t=function(e,t,n,r,i){void 0===i&&(i={});var o=document.querySelector(e);if(Object.assign(i,{capture:!0}),o&&t&&n&&r){var a=function(e){(e&&e.target).matches(t)&&r(e)};return o.addEventListener(n,a,i),function(){return o.removeEventListener(n,a,i)}}return null}(e.parent,e.child,e.event,e.handle,e.eventOptions);t&&r.undelegateTableMouseList.push(t)}))},r.handleSelectTableMouseEnter=function(e){r.editor&&(e.currentTarget&&e.currentTarget.classList.add("tableNonSelectable"),r.editor.call("tableStatusInSelecting",!1))},r.handleSelectTableMouseLeave=function(){for(var e=document.getElementsByClassName("ace-table-wrapper-outer tableNonSelectable"),t=0;t<e.length;t++)e[t].classList.remove("tableNonSelectable");r.editor.call("tableStatusInSelecting",!0)},r.handleTableOuterMouseDown=function(e){if(e.target.querySelector(".ace-table")){var t=e.target.closest(".ace-table-mount-point");t.classList.contains("non-select")||t.classList.add("non-select")}},r.handleTableOuterMouseUp=function(e){if(e.target.querySelector(".ace-table")){var t=e.target.closest(".ace-table-mount-point");t.classList.contains("non-select")&&(r.nonSelectTimer&&clearTimeout(r.nonSelectTimer),r.nonSelectTimer=setTimeout((function(){t.classList.remove("non-select")}),300));var n=r.editor,i=r.editor.selection.getSelection(),o=i.start,a=i.end;n.selection.setSelection({start:o,end:a},!0)}},r.handleSelectTableMouseUp=function(){r.unBindTableMouseEvent(),r.handleSelectTableMouseLeave()},r.mountTable=function(e){var t=r.editor,n=r.options,a=n.isResponsiveWidth,l=n.defaultHeight,s=n.defaultWidth,u=n.cellMinHeight,c=n.cellMinWidth,d=r.tablePropsMap[e.getKey()];if(!d)return!1;delete r.tablePropsMap[e.getKey()];var f=d.aceTableBorder,h=void 0===f?"":f;(d=r.getPropsByTableId({rowId:d.rowsZoneId,colId:d.colsZoneId})).aceTableBorder=h;var p=d.rowsZoneId,g=d.colsZoneId,v=Sy(d.rowIds,d.colIds).map((function(e){return e}));if(e._node){var m=e._node.querySelector("."+ry(p+" "+g));return o.render(i.createElement(Ey,as({isResponsiveWidth:a,defaultCellHeight:l,defaultCellWidth:s,minCellWidth:c,minCellHeight:u},d,{rangeDom:r.rangeDom,ref:function(t){t&&(r.instanceManager.registerInstance(t,e),hs([d.rowsZoneId,d.colsZoneId],v).forEach((function(e){r.instanceManager.registerInstanceOfSubZoneId(e,t)})))}})),m,(function(){try{t.call("tableDidRender",{element:m,zoneIds:v,lineState:e})}catch(e){console.log(e)}})),!0}console.error("ineState._node undefined",p,g,e.getZoneId())},r.tableWillDelete=function(e,t,n){if("0"===n){var i=r.editor.getContentState().getZoneState(n);if(i)for(var o=e;o<t;o++){var a=i.getLine(o);if(a){var l=r.getTableInstance(n,o);l&&l.tableWillDelete(jb.KEYBOARD),r.instanceManager.unregisterInstance(a)}}}},r.UNSAFE_editorNormalizePasteNode=function(e){var t=e.data,n=t.node,i=t.UNSAFE_HTML,o=r.editor,a=o.selection.getSelection(),l=a.start,s=l.zoneId,u=l.line,c=l.offset,d=a.end,f=d.line,h=d.offset;zy(s)&&Array.from(n.querySelectorAll("table tr")).forEach((function(e){Array.from(e.childNodes).forEach((function(e){e.nodeType===Node.TEXT_NODE&&e.parentNode.removeChild(e)}))}));var p=hs(Array.from(n.querySelectorAll("table")),Array.from(n.querySelectorAll("tbody")),Array.from(n.querySelectorAll("tr")),Array.from(n.querySelectorAll("td")),Array.from(n.querySelectorAll("colgroup")));if((i.includes('xmlns:x="urn:schemas-microsoft-com:office:excel"')||i.includes('xmlns:w="urn:schemas-microsoft-com:office:word"'))&&p.unshift(n),function(e){var t,n,r,i;try{for(var o=ds(e),a=o.next();!a.done;a=o.next()){var l=a.value;try{for(var s=(r=void 0,ds(Array.from(l.childNodes))),u=s.next();!u.done;u=s.next()){var c=u.value;c.nodeType!==Node.ELEMENT_NODE&&(c.nodeType!==Node.TEXT_NODE||c.textContent&&/^[\r\n\s]+$/.test(c.textContent))&&c.parentNode.removeChild(c)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}(p),r.options.isNested||n.querySelectorAll("table table").forEach((function(e){var t,n=e.closest("td,th");n&&(e.querySelectorAll("td,th").forEach((function(e){e.childNodes.forEach((function(e){n.appendChild(e)}))})),null===(t=e.parentNode)||void 0===t||t.removeChild(e))})),-1!==n.innerHTML.indexOf(Fb)){var g=o.getContentState().getZoneState(s);if(g){var v=g.getLine(u),m=g.getLine(f);if(v&&m){var b=c===v.getLineMarker();r.lineOfTableWillPaste=b?u:u+1,r.isTableLine(s,f)&&c>=v.length()-1&&u+1<=f&&o.selection.setSelection({start:{zoneId:s,line:u+1,offset:v.getLineMarker()},end:{zoneId:s,line:f,offset:h}},!0),r.isTableLine(s,f)&&h<=m.getLineMarker()&&f-1>=u&&o.selection.setSelection({start:{zoneId:s,line:u,offset:c},end:{zoneId:s,line:f-1,offset:m.length()-1}},!0)}}}},r.updateTableIdsIfNecessary=function(e,t){var n=e.get(t),i=new ae({zoneId:t}),o=new Map,a=function(e,t,n){void 0===n&&(n="");var r=ig(e.split(","),t.split(",")).find(Boolean);if(!r)return n;var i=o.get(r);return i||(i=jy(8),o.set(r,i)),hs(new Set((n+","+i).split(","))).filter(Boolean).join(",")};n.forEach((function(t){var n;if("*"===t.insert&&(null===(n=t.attributes)||void 0===n?void 0:n.aceTable)){var o=xy(),l=new St({zoneId:o}),s=My(),u=new Tt({zoneId:s});i.insert("*",as(as({},t.attributes),{aceTable:o+" "+s}));var c=Dy(t.attributes.aceTable),d=c.rowId,f=c.colId;e.get(d).forEach((function(t){var n=_y(),i=as(as({},t.attributes),{mergeCellID:""});e.get(f).forEach((function(o,l){var s,c,d,f,h,p=(null===(c=null===(s=u.ops[l])||void 0===s?void 0:s.insert)||void 0===c?void 0:c.id)||Ry(),g=(null===(d=u.ops[l])||void 0===d?void 0:d.attributes)||as(as({},o.attributes),{mergeCellID:""});(null===(f=o.attributes)||void 0===f?void 0:f.mergeCellID)&&(null===(h=t.attributes)||void 0===h?void 0:h.mergeCellID)&&(g.mergeCellID=a(t.attributes.mergeCellID,o.attributes.mergeCellID,g.mergeCellID),i.mergeCellID=a(t.attributes.mergeCellID,o.attributes.mergeCellID,i.mergeCellID)),u.ops[l]||u.insert(p,g);var v=r.getCellIdFromRowAndCol(t.insert.id,o.insert.id),m=e.get(v);if(m){var b=m.create(as(as({},m),{zoneId:r.getCellIdFromRowAndCol(n,p)}));e.replace(v,b)}})),l.insert(n,i)})),e.replace(d,l),e.replace(f,u)}else i.push(t)})),e.replace(t,i)},r.normalizeTableDelta=function(e,t){e.get(t).forEach((function(t){var n;if("*"===t.insert&&(null===(n=t.attributes)||void 0===n?void 0:n.aceTable)){var i=Dy(t.attributes.aceTable),o=i.rowId,a=i.colId;e.get(o).forEach((function(t){e.get(a).forEach((function(n){var i=r.getCellIdFromRowAndCol(t.insert.id,n.insert.id),o=e.get(i);o&&1===o.ops.length&&"\n"===o.ops[0].insert&&e.delete(i)}))}))}}))},r.handleKeyDown=function(e){if(!r.editor.isFocusOnBlock()){Nb("beforeKeyDown",r.options),r.editor.call(Qb.KEY_EVENT,e);var t=e.keyCode,n=!1;By(e.nativeEvent)&&t===vf.C&&!e.shiftKey?n=r.handleCopy():By(e.nativeEvent)&&t===vf.X&&!e.shiftKey?n=r.handleCut():t===vf.BackSpace?n=r.handleBackspacKey(e):t===vf.Delete?n=r.handleDeleteKey(e):Py.includes(t)?n=r.handleArrowKeys(e):t===vf.Tab&&(n=r.handleTabKey(e)),n&&(e.stopEvent(),e.stopPropagation(),e.preventEvent(),e.preventDefault())}},r.doDeleteTableCellText=function(e){var t,n,i=r.editor,o=new J,a=i.getContentState();try{for(var l=ds(e),s=l.next();!s.done;s=l.next()){var u=s.value,c=new ae({zoneId:u}),d=a.getZoneState(u);d&&c.delete(d.totalWidth()-1),o.add(u,c)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}a.apply(o)},r.handleDeleteTableOnMainZone=function(e){var t=r.editor,n=t.selection.getSelection(),i=n.start,o=n.end,a=i.line,l=o.line,s=i.zoneId,u=t.getContentState(),c=u.getZoneState(s);if(!c)return!1;var d=c.getLine(a),f=c.getLine(l);if(!d||!f)return!1;var h=r.isTableLine(s,a);if(h){var p=r.getTableInstance(s,a);return p&&p.deleteTable(jb.KEYBOARD),e.preventDefault(),!0}var g=l-1;if(r.isTableLine(s,l)&&o.offset===f.getLineMarker()&&g>=a){var v=n.toPosition(),m=new ae({zoneId:s}).retain(v.start).delete(v.len-f.getLineMarker());return u.apply(m),e.preventDefault(),!0}var b=r.isTableLine(s,a-1);if(r.isSkipLine(s,a)||!b&&!h||b&&(!n.isCollapsed()||i.offset!==d.getLineMarker()))return!1;if(b){if(!(i.line===o.line&&i.line===c.length()-1)&&d.isTextEmpty()){var y=u.rangePointToOffset({line:a,offset:0,zoneId:s});if(null!==y){m=new ae({zoneId:s}).retain(y).delete(d.length());u.apply(m)}}var w=c.getLine(a-1);return t.selection.setSelection({start:{zoneId:s,line:a-1,offset:w.getLineMarker()},end:{zoneId:s,line:a-1,offset:w.length()-1}},!0),t.call(Qb.DELETE_TABLE_ON_MAIN_ZONE,{editor:t,prevLineIsTable:b,startLine:a}),e.preventDefault(),!0}return!1},r.handleCut=function(){return!!r.instanceManager.getInstanceWithSelected()&&r.cutTable()},r.handleBackspacKey=function(e){var t=r.instanceManager.getInstanceWithSelected();return t?r.handleDeleteTableText(t):r.handleDeleteTableOnMainZone(e)},r.handleDeleteKey=function(e){var t=r.editor,n=t.getContentState().getActiveZone(),i=t.selection.getSelection(),o=i.start,a=i.end,l=o.line=a.line,s=o.line,u=n.getLine(s);if(!u)return!1;var c=o.offset===u.length()-1,d=s+1,f=n.getLine(d),h=r.isTableLine(o.zoneId,s),p=r.isTableLine(o.zoneId,d);if(i.isCollapsed()&&c&&f&&p)return t.selection.setSelection({start:{zoneId:o.zoneId,line:d,offset:f.getLineMarker()},end:{zoneId:o.zoneId,line:d,offset:f.length()-1}},!0),e.preventDefault(),!0;if(h&&l){var g=r.instanceManager.getInstanceByLineState(u);return g&&g.deleteTable(jb.KEYBOARD),e.preventDefault(),!0}return!1},r.handleArrowKeys=function(e){var t=r.editor.selection.getSelection();if(!t.isCollapsed())return!1;var n=r.handleCursorIntoTable(e.keyCode);if(n)return n;var i=t.start.zoneId;if(!zy(i))return!1;var o=r.instanceManager.getInstanceBySubZoneId(i);return!!o&&o.handleArrowKey(e)},r.stepIntoTable=function(e,t,n){if(!r.isTableLine(e,t))return!1;var i=r.getTableInstance(e,t);if(!i)return!1;var o=i.getRowIds(),a=i.getColIds(),l=0,s=0,u=[0,0];switch(n){case _b.TOP_LEFT:l=0,s=0;break;case _b.TOP_RIGHT:l=0,s=a.length-1,u=[0,-1];break;case _b.BOTTOM_LEFT:l=o.length-1,s=0,u=[-1,-1];break;case _b.BOTTOM_RIGHT:l=o.length-1,s=a.length-1,u=[-1,-1]}var c=r.editor.getScrollContainer(),d=c.scrollTop||0;return window.requestAnimationFrame((function(){c.scrollTo(0,d)})),setTimeout((function(){Tc.isSafari&&c.scrollTo(0,d),i.focusAndCollapseSelectionOntoCell(l,s,u)})),!0},r.handleAceCutReplaceSelection=function(e){var t=e.getWhollySelectedRegions(),n=t.cols,i=t.rows;t.entireTable?e.deleteTable(jb.KEYBOARD):n.length||i.length?n.length?e.deleteColAtIndex(n[0],n.length):i.length&&e.deleteRowAtIndex(i[0],i.length):r.doDeleteTableCellText(e.getSelectStatus())},r.aceCutReplaceSelection=function(e){var t=r.instanceManager.getInstanceWithSelected();t&&(r.handleAceCutReplaceSelection(t),e.preventEvent())},r.editorSizeChange=$p((function(){r.editor.call(Gb.CONTEXT_CHANGE)}),50),r.pluginReadOnly=function(){r.editor.call(Qb.EDITABLE_CHANGE,!1)},r.pluginReadWrite=function(){r.editor.call(Qb.EDITABLE_CHANGE,!0)},r.handleSelectionChanged=function(e,t){var n=r.instanceManager.getInstancesInSelection(r.editor.selection.getSelection()),i=r.highlightIns.filter((function(e){return!n.includes(e)}));i.forEach((function(e){return e.toggleBorderHighlight(!1)})),n.forEach((function(e){return e.toggleBorderHighlight(!0)}));var o={lineManagersWillUnselected:i,lineManagersSelected:n};r.editor.call(Qb.SELECT_CHANGED,o),r.highlightIns=n},r.destroy=function(){r.unBindTableMouseEvent(),r.tableSpanClsCollectPersist.forEach((function(e){var t=Ty(e);if(t){var n=Qg(t.rowId,t.colId),i=r.instanceManager.getInstanceById(n),a=null==i?void 0:i.getTableOuterWrapperRef().parentElement;i&&a&&o.unmountComponentAtNode(a)}})),Nb("destroy",r.options,{tablePlugin:r,editor:r.editor}),r.removeEvents(),r.rangeDom&&document.body.removeChild(r.rangeDom),r.rangeDom=null,r.editor=null,r.tablePropsMap=null,r.instanceManager.clear()},r.pickRowColDelta=function(e,t,n){var i,o=new Mt({zoneType:e,zoneId:t}),a=null===(i=r.editor.getContentState().getZoneState(t))||void 0===i?void 0:i.getContent();return a&&a.forEach((function(e){var t,r=null===(t=null==e?void 0:e.insert)||void 0===t?void 0:t.id;r&&n.has(r)&&o.push(e)})),o},r.handleContentChange=function(e){var t=e.changes,n=e.deltaSet,i=e.options.isRemote,o=t[0];if(o&&!i){var a=[],l=[];o.forEach((function(e){var t,n,i=e.deletes,o=e.inserts;try{for(var s=ds(o),u=s.next();!u.done;u=s.next()){var c=u.value.getOps().find((function(e){return e.attributes&&Fb in e.attributes}));if(c){var d=fs(c.attributes.aceTable.split(" "),2),f=d[0],h=d[1];a.push(Qg(f,h))}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}l.push.apply(l,hs(r.getTableInstanceOfLines(i)))}));var s=new J;l.length&&(l.forEach((function(e){!a.includes(e.getTableId())&&e&&e.getDeleteInnerZoneDeltaSet().forEach((function(e,t){n.get(t)||(s=s.compose(e))}))})),Object.keys(s.deltas).length&&r.editor.getContentState().apply(s))}},r.editor=n.editor,r.registerZoneRule(),Nb("tableInit",n,r),r.tableCollector=new kb,r.bindEvents(),r.createRangeDom(),r.instanceManager=new Fy(r.editor),r.editor.registerCommand(t.KEY,(function(){r.doInsertTable({})})),r.onAlinesInited(),r}os(t,e);var n=t.prototype;return n.match=function(e){return"aceTable"===e},n.createRangeDom=function(){this.rangeDom=document.createElement("div"),this.rangeDom.innerText="rangeDom",this.rangeDom.style.height="0",this.rangeDom.style.overflow="hidden",document.body.appendChild(this.rangeDom)},n.on=function(e,t){var n=this.editor;"afterPasteInsert"!==e&&"afterCopy"!==e&&"insertTable"!==e&&"horzResizeStart"!==e&&"horzResizeEnd"!==e&&"removeColOrRow"!==e&&"aceBlur"!==e&&"headerMouseDown"!==e||n.on(e,t)},n.off=function(e,t){var n=this.editor;"afterPasteInsert"!==e&&"afterCopy"!==e&&"insertTable"!==e&&"horzResizeStart"!==e&&"horzResizeEnd"!==e&&"removeColOrRow"!==e&&"aceBlur"!==e&&"headerMouseDown"!==e||n.off(e,t)},n.isInSameMergedCell=function(e){var t=this;if(e.length<=1)return!1;var n=e.map((function(e){var n=t.instanceManager.getInstanceBySubZoneId(e);return n&&n.getMergedCellIdForZoneId(e)}));return n.every((function(e){return!!e&&e===n[0]}))},n.isMergedCell=function(e){var t=this.instanceManager.getInstanceBySubZoneId(e);return!(!t||!t.getMergedCellIdForZoneId(e))},n.doMergeCell=function(){var e=this.instanceManager.getInstanceWithSelected();e&&e.mergeCells()},n.doUnMergeCell=function(){var e=this.instanceManager.getInstanceWithSelected();e&&e.unMergeCells()},n.copyTable=function(){return Tc.isIPad&&Tc.isBytedanceApp||this.triggerCopyCutEventManual("copy"),this.editor.call("afterCopy",this.options),!0},n.cutTable=function(){return Tc.isIPad&&Tc.isBytedanceApp||this.triggerCopyCutEventManual("cut"),!0},n.triggerCopyCutEventManual=function(e){var t=this.editor,n=document.createElement("textarea"),r=Tc.isIPad?t.getOuterContainer():document.body;r.appendChild(n),n.addEventListener(e,this.listener),n.style.opacity="0",n.value=" ",n.focus(),n.select(),document.execCommand(e),n.removeEventListener(e,this.listener),r.removeChild(n)},n.registerZoneRule=function(){var e=this.editor.getContentState();e.getZoneManager().registerZoneRule(Fb,(function(t){var n,r,i=Dy(t);if(!i)return[];var o=i.rowId,a=i.colId,l=null===(n=e.getZoneState(o))||void 0===n?void 0:n.getContent(),s=null===(r=e.getZoneState(a))||void 0===r?void 0:r.getContent();if(!l||!s)return[];var u=l.ops.map((function(e){var t;return(null===(t=e.insert)||void 0===t?void 0:t.id)||""})).filter(Boolean),c=s.ops.map((function(e){var t;return(null===(t=e.insert)||void 0===t?void 0:t.id)||""})).filter(Boolean);return hs([o,a],Sy(u,c))}))},n.replaceVectorRange=function(e,t,n,r,i){for(var o=new Mt({zoneId:t,zoneType:e?M.Row:M.Column}).retain(n).delete(r-n),a=0;a<i;a++)o.insert(e?Wg():Ug(),{colWidth:"100"});return this.editor.getContentState().apply(o)},n.bindEvents=function(){var e=this.editor;e.on(Gb.COPY,this.copyTable),e.on(Gb.CUT,this.cutTable),e.on(Lt.WILL_DELETE_FROM_CUT,this.handleWillDeleteFromCut),e.on(Lt.DID_PASTE,this.handleDidPaste),e.on(Lt.PASTE,this.handlePaste),e.on(Lt.CONTENT_CHANGE,this.handleContentChange),e.on(Lt.KEYDOWN,this.handleKeyDown,100),e.on(Lt.EXEC_COMMAND,this.handleTriggerCommand),e.on(Lt.SELECTION_CHANGE,this.handleSelectionChanged),document.addEventListener("mousedown",this.handleSelectTableMouseDown),document.addEventListener("mouseup",this.handleSelectTableMouseUp),e.on("mousedown",this.documentEventHandler),e.on("focus",this.documentEventHandler),e.on("blur",this.documentEventHandler),this.bindIpadSafariEvents()},n.bindIpadSafariEvents=function(){Tc.isIPad&&(document.addEventListener("mousedown",this.handleTableOuterMouseDown),document.addEventListener("mouseup",this.handleTableOuterMouseUp))},n.removeIpadSafariEvents=function(){Tc.isIPad&&(document.removeEventListener("mousedown",this.handleTableOuterMouseDown),document.removeEventListener("mouseup",this.handleTableOuterMouseUp))},n.aceRegisterNonScrollableEditEvents=function(){return Object.values(Xb)},n.onAlinesInited=function(){var e,t,n=this.editor.getContentState(),r=n.getZoneState(fe),i=[],o=function(e){var t=e.getAttributes().toMap();if(!(Fb in t))return"continue";var r=fs(t.aceTable.split(" "),2),o=r[0],a=r[1];by(n,o).forEach((function(e){by(n,a).forEach((function(t){var n=Kg(e,t);i.push(n)}))}))};try{for(var a=ds(r),l=a.next();!l.done;l=a.next()){o(l.value)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this.editor.call(Qb.TABLE_REGISTER_ZONE_END,i)},n.renderLine=function(e){return e.lineState.getEntities([["aceTable",void 0]]).length&&(e.editable=!1),null},n.render=function(e){var t,n=e.children,r=e.attributes,i=e.index,o=e.zoneId,a="aceTable-"+r.aceTable;this.tableSpanClsCollect.push(a),this.tableSpanClsCollectPersist.push(a);var l=r.aceTableBorder,s=void 0===l?"":l,u=Ty(a),c=null===(t=this.editor.getContentState().getZoneState(o))||void 0===t?void 0:t.getLine(i);if(!u||!c)return e.children;var d=c.getKey(),f=this.getPropsByTableId(u);this.tablePropsMap[d]=as(as({},f),{aceTableBorder:s});var h=[];r[Bb[0]]&&h.push(r[Bb[0]]),void 0!==r.width_fixed&&h.push(Hb);var p=r.aceTable;return h.push("aceTable-"+p),h.push("ace-table-mount-point"),h.push(ry(p)),e.class+=" "+h.join(" "),this.tablePropsMap[d]?null:n},n.getPropsByTableId=function(e){var t,n,r,i,o,a,l,s,u=this.editor,c=this.options,d=[],f=[],h=[],p=[],g=u.getContentState(),v=g.getZoneState(e.rowId);try{for(var m=ds(v.getContent().ops),b=m.next();!b.done;b=m.next()){(k=null===(a=null===(o=C=b.value)||void 0===o?void 0:o.insert)||void 0===a?void 0:a.id)&&d.push(k),h.push((null==C?void 0:C.attributes)||{})}}catch(e){t={error:e}}finally{try{b&&!b.done&&(n=m.return)&&n.call(m)}finally{if(t)throw t.error}}var y=g.getZoneState(e.colId);try{for(var w=ds(y.getContent().ops),I=w.next();!I.done;I=w.next()){var C,k;(k=null===(s=null===(l=C=I.value)||void 0===l?void 0:l.insert)||void 0===s?void 0:s.id)&&f.push(k),p.push((null==C?void 0:C.attributes)||{})}}catch(e){r={error:e}}finally{try{I&&!I.done&&(i=w.return)&&i.call(w)}finally{if(r)throw r.error}}var E=c.width,x=c.height,M=c.isScrollable,S=c.cellMinHeight,T=c.toolBarScale,A=c.cellMinWidth,N=c.defaultWidth,L=c.defaultHeight,D=c.disableHorzResize,z=c.disableVertResize;return{contentEditable:u.isEditable(),scrollable:M||!1,zoneIdToInitialHTML:{},rowsZoneId:e.rowId,colsZoneId:e.colId,rowIds:d,colIds:f,rowAttribs:h,colAttribs:p,isDiff:!1,diffAttribs:[],editor:this.editor,width:E,height:x,toolBarScale:T||1,minCellWidth:A||50,minCellHeight:S||40,defaultCellHeight:L,defaultCellWidth:N,disableHorzResize:D||!1,disableVertResize:z||!1,rangeDom:this.rangeDom,tableOptions:c}},n.unBindTableMouseEvent=function(){this.undelegateTableMouseList.forEach((function(e){return e&&e()})),this.undelegateTableMouseList=[]},n.unmountTables=function(e,t){var n,r,i=this;if(void 0===t&&(t=!1),e.some((function(e){return i.instanceManager.getInstanceByLineState(e)}))){this.editor.call("table:delete",{isRemote:t});try{for(var a=ds(e),l=a.next();!l.done;l=a.next()){var s=l.value,u=this.instanceManager.getInstanceByLineState(s);if(u&&(this.instanceManager.unregisterInstance(s),u.isTableMounted()))try{var c=o.findDOMNode(u);c&&c.parentElement&&o.unmountComponentAtNode(c.parentElement)}catch(e){console.warn(e)}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},n.lineDidMount=function(e){var t=e.lineState;Fb in t.getAttributes().toMap()&&this.mountTable(t)},n.lineDidUpdate=function(e){var t=e.data,n=t.prev,r=t.curr,i=Fb in r.getAttributes().toMap(),o=Fb in n.getAttributes().toMap();if(o||i)return!o&&i?this.mountTable(r):o&&!i?this.unmountTables([n]):o&&i?(this.unmountTables([n]),this.mountTable(r)):void 0},n.lineWillUnmount=function(e){var t=e.lineState;if(Fb in t.getAttributes().toMap())return this.unmountTables([t])},n.handleDidPaste=function(){this.isTableLine(this.editor.getContentState().getActiveZone().getZoneId(),this.lineOfTableWillPaste)&&(this.lineOfTableWillPaste=0,this.editor.call("afterPasteInsert"))},n.handlePaste=function(){this.tableCollector.flush()},n.deserialize=function(e){var t,n,r,i,o=e.node,a=e.deltaSet;if(!(o instanceof HTMLElement))return a;var l=o.tagName.toLowerCase();if(["td","tr","col","colgroup","th"].includes(l)&&this.tableCollector.collect(o),["td","th"].includes(l)&&this.tableCollector.currentMovement){var s=[],u=this.tableCollector.getCurrentZoneId();if(a.forEach((function(e){e instanceof ae&&s.push.apply(s,hs(e.ops))})),!s.length)return(new J).concat(new ae({zoneId:u}).insertEnter());var c=(new J).concat(new ae({zoneId:u,ops:s}));return"th"===l?fi(c,u,{bold:"true"}):c}if("table"===l){var d=this.tableCollector,f=d.colsZoneId,h=d.rowsZoneId,p=d.colIds,g=d.rowIds,v=d.colAttribs,m=d.rowAttribs,b=this.options.isCustomBorder;if(!f||!h)return a;var y=o.style.border,w=o.getAttribute("border"),I=(new ae).insert("*",{aceTable:h+" "+f,aceTableBorder:!b||"none"!==y&&(y||"0"!==w&&w)?"":"none"});a=a.compose(I);var C=new Tt({zoneId:f});try{for(var k=ds(p.entries()),E=k.next();!E.done;E=k.next()){var x=fs(E.value,2),M=x[0],S=x[1];C.insert(S,as({},v[M]))}}catch(e){t={error:e}}finally{try{E&&!E.done&&(n=k.return)&&n.call(k)}finally{if(t)throw t.error}}a=a.compose(C);var T=new St({zoneId:h});try{for(var A=ds(g.entries()),N=A.next();!N.done;N=A.next()){var L=fs(N.value,2),D=(M=L[0],L[1]);T.insert(D,as({},m[M]))}}catch(e){r={error:e}}finally{try{N&&!N.done&&(i=A.return)&&i.call(A)}finally{if(r)throw r.error}}return a=a.compose(T),this.tableCollector.dummyCellIds.forEach((function(e){a=a.concat(new ae({zoneId:e}).insertEnter())})),this.tableCollector.flush(),a}return a},n.editorWillPaste=function(e){var t,n,r=this.editor.selection.getSelection(),i=r.toPosition();if(this.updateTableIdsIfNecessary(e.deltaSet,e.zoneId),this.normalizeTableDelta(e.deltaSet,e.zoneId),!zy(i.zoneId)){var o=e.deltaSet.get(e.zoneId);return(null===(n=null===(t=o.ops[o.length()-1])||void 0===t?void 0:t.attributes)||void 0===n?void 0:n.aceTable)&&o.insertEnter(),Rb(e.deltaSet,this.options),e.deltaSet}var a=!1,l=!1,s=e.deltaSet,u=e.zoneId,c=s.get(u),d=function(e){var t;if(e.insert)return"*"===e.insert&&(null===(t=e.attributes)||void 0===t?void 0:t.aceTable)};if(c.forEach((function(e,t){var n;e.insert&&(d(e)?a=!0:(null===(n=e.attributes)||void 0===n?void 0:n.lmkr)&&c.ops[t+1]&&d(c.ops[t+1])||(l=!0))})),!a)return e.deltaSet;if(l){var f=c.reduce((function(e,t){return d(t)?e:e.push(t)}),new ae({zoneId:u}));return(new J).concat(f)}e.preventDefault();var h=this.instanceManager.getInstanceBySubZoneId(i.zoneId);h&&h.pasteCellsOntoTable(s,u,e.isInternalPaste);var p=r.start.zoneId,g=this.editor.getContentState().getZoneState(p);if(g){var v=g.totalWidth()-1,m=g.offsetToPoint(v),b=as(as({},m),{zoneId:p});this.editor.selection.setSelection({start:b,end:b})}return e.deltaSet},n.handleTriggerCommand=function(e){var t,n,r,i,o,a,l,s,u,c,d,f,h=this.instanceManager.getInstanceWithSelected(),p=e.name,g=e.data;if(ny.includes(p)&&h&&!(null==g?void 0:g.isTriggerByTable)&&g){var v=h.getSelectStatus(),m=!0,b={},y=null===(a=this.editor.getContentState().schema.get(p))||void 0===a?void 0:a.lmkr,w=g.value;try{for(var I=ds(v),C=I.next();!C.done;C=I.next()){var k=C.value,E=void 0,x=!0;b[k]=!0;for(var M=null===(l=this.editor.getContentState().getZoneState(k))||void 0===l?void 0:l.getContent(),S=(null==M?void 0:M.ops)||[],T=0;T<S.length;T++){var A=S[T],N="\n"===A.insert||(null===(s=A.attributes)||void 0===s?void 0:s.lmkr);if(y){var L=!(null===(u=A.attributes)||void 0===u?void 0:u[p])||!(null===(c=A.attributes)||void 0===c?void 0:c[p].includes(w)),D=!(null===(d=A.attributes)||void 0===d?void 0:d.lmkr);x=x&&D;var z=T===S.length-1&&x;if(D&&!z)continue;if(L||z){m=!1,b[k]=!1;break}}else{if(N)continue;var O=null===(f=A.attributes)||void 0===f?void 0:f[p];if(w){if(w!==O){m=!1,b[k]=!1;break}}else{if(void 0!==E&&E!==O){m=!1,b[k]=!1;break}E=O||""}}}""===E&&(m=!1,b[k]=!1)}}catch(e){t={error:e}}finally{try{C&&!C.done&&(n=I.return)&&n.call(I)}finally{if(t)throw t.error}}var R=null,_=[],j=this.editor.undoModule;try{for(var P=ds(v),B=P.next();!B.done;B=P.next()){if(!b[k=B.value]&&!m||b[k]&&m){!w&&(w=m?"false":"true"),h.setSelectionOntoCell(k,{start:[0,0],end:[-1,-1]},!1),this.editor.execCommand(p,as(as({},g),{value:w,isTriggerByTable:!0}));var F=j.getNthUndoRecordFromTop(0);F&&(R?_.push(F):R=j.getNthUndoRecordFromTop(0))}}}catch(e){r={error:e}}finally{try{B&&!B.done&&(i=P.return)&&i.call(P)}finally{if(r)throw r.error}}R&&_.length>0&&(o=this.editor.undoModule).mergeRecords.apply(o,hs([R],_)),e.preventEvent()}},n.handleTabKey=function(e){var t=this.editor.selection.getSelection().start.zoneId;if(!zy(t))return!1;var n=this.instanceManager.getInstanceBySubZoneId(t);return!!n&&n.handleTabKey(e)},n.handleDeleteTableText=function(e){var t=e.getSelectStatus();return this.doDeleteTableCellText(t),!0},n.isTableLine=function(e,t){var n,r=null===(n=this.editor.getContentState().getZoneState(e))||void 0===n?void 0:n.getLine(t);return r&&Fb in r.getAttributes().toMap()},n.isSkipLine=function(e,t){var n,r=null===(n=this.editor.getContentState().getZoneState(e))||void 0===n?void 0:n.getLine(t),i=(null==r?void 0:r.getAttributes().toMap())||{};return r&&["list","blockquote","text-indent"].find((function(e){return i[e]}))},n.handleCopy=function(){return!!this.instanceManager.getInstanceWithSelected()&&this.copyTable()},n.handleCursorIntoTable=function(e){var t=this.editor,n=t.selection.getSelection().start,r=n.line,i=n.offset,o=n.zoneId,a=t.getContentState().getZoneState(o);if(!a)return!1;if(e===vf.Down)return!((l=r+1)>=a.length())&&this.stepIntoTable(o,l,_b.TOP_LEFT);if(e===vf.Up)return!((l=r-1)<0)&&this.stepIntoTable(o,l,_b.BOTTOM_LEFT);if(e===vf.Right){var l=r+1;return!(!(i>=a.getLine(r).length()-1)||l>=a.length())&&this.stepIntoTable(o,l,_b.TOP_LEFT)}if(e===vf.Left){l=r-1;return!(0!==i||l<0)&&this.stepIntoTable(o,l,_b.BOTTOM_RIGHT)}return!1},n.getCellIdFromRowAndCol=function(e,t){return Kg(e,t)},n.getRowAndColIdFromAttributeValue=function(e){return Dy(e)},n.getRowAndColIdFromTableValue=function(e){return Ay(e)},n.getSortedTableCellIdsByTableIdFromVectorReps=function(e,t){return Ny(e,t)},n.sliceZone=function(e){var t=e.deltaSet,n=e.range,r=n.start,i=n.end;if(r.zoneId===fe){var o=this.editor.getContentState(),a=o.getZoneState(r.zoneId);if(!a)return t;a.getEntities({start:r,end:i},(function(e,t){return"aceTable"===e&&!!t})).forEach((function(e){var n=fs(e.attributes.aceTable.split(" "),2),r=n[0],i=n[1],a=o.getZoneState(r),l=o.getZoneState(i);if(a&&l){var s=a.getContent().ops,u=l.getContent().ops,c=function(e){return e.map((function(e){return{insert:e.insert?as({},e.insert):void 0,attributes:e.attributes?as({},e.attributes):void 0}}))},d=new Mt({zoneType:M.Row,zoneId:a.getZoneId(),ops:c(s)}),f=new Mt({zoneType:M.Column,zoneId:l.getZoneId(),ops:c(u)});t.add(a.getZoneId(),d),t.add(l.getZoneId(),f);var h=o._getRowColIds(r,i),p=h.rowIds,g=h.colIds;p.forEach((function(e){g.forEach((function(n){var r="x"+e+"x"+n,i=o.getZoneState(r);if(i){var a={zoneId:r,line:0,offset:0},l=i.length()-1,s={zoneId:r,line:l,offset:i.getLine(l).getModelText().length};t.add(r,new ae({zoneId:r,ops:Ci(i,a,s)}))}}))}))}}))}return t},n.editorWillCopy=function(e){e.deltaSet=this.sliceZone(e),e.deltaSet.get(fe)&&this.updateTableIdsIfNecessary(e.deltaSet,fe);var t=this.editor,n=this.instanceManager.getInstanceWithSelected();if(n){var r=n.getSelectStatus();if(r&&r.length>0){var i=new J,o=new Set,a=new Set;r.forEach((function(e){var n,r=Oy(e),l=r.rowId,s=r.colId;o.add(l),a.add(s);var u=null===(n=t.getContentState().getZoneState(e))||void 0===n?void 0:n.getContent();u&&(i=i.compose(u))}));var l=n.getRowsZoneId(),s=this.pickRowColDelta(M.Row,l,o);i=i.compose(s);var u=n.getColsZoneId(),c=this.pickRowColDelta(M.Column,u,a);i=i.compose(c);var d=l+" "+u,f=n.getTableBorder(),h=new ae({zoneId:fe}).insert("*",{aceTable:d,aceTableBorder:f});i=i.compose(h),this.updateTableIdsIfNecessary(i,fe),e.deltaSet=i,e.range=new wt({editor:this.editor,start:{line:0,offset:0,zoneId:fe},end:{line:0,offset:0,zoneId:fe}})}}},n.serialize=function(e){var t,n,r,i=this,o=this.options,a=o.isResponsiveWidth,l=o.cellMinHeight,s=o.cellMinWidth,u=o.defaultWidth,c=e.type,d=e.op,f=e.deltaSet,h=e.zoneId,p=null===(t=null==d?void 0:d.attributes)||void 0===t?void 0:t.aceTable,g="none"===(null===(n=null==d?void 0:d.attributes)||void 0===n?void 0:n.aceTableBorder);if(c===Tr.LEAF&&p){var v=document.createElement("table");v.style.borderCollapse="collapse",v.style.wordBreak="break-word";var m=null===(r=null==d?void 0:d.attributes)||void 0===r?void 0:r.author;v.classList.add("ace-table");var b=a;m&&v.classList.add(function(e){return e?"author-"+e.replace(/[^a-y0-9]/g,(function(e){return"."===e?"-":"z"+e.charCodeAt(0)+"z"})):""}(m)),v.dataset.aceTableColWidths="";var y=fs(p.split(" "),2),w=y[0],I=y[1],C=f.get(I),k=f.get(w),E=[];C.forEach((function(e){var t,n;E.push((null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.colWidth)||""),(null===(n=null==e?void 0:e.attributes)||void 0===n?void 0:n.colWidth)&&(b=!1)})),v.style.width=b?"100%":"auto",b&&v.setAttribute("width","100%");var x=document.createElement("colgroup");return!b&&E.forEach((function(e){var t=document.createElement("col");t.setAttribute("width",e||String(Kb)),x.appendChild(t),v.dataset.aceTableColWidths+=e+";"})),!b&&v.appendChild(x),g?v.setAttribute("border","0"):(v.setAttribute("border","1"),v.style.border=this.options.defaultBorderStyle||qb),Db(k,C).forEach((function(t){var n=v.insertRow();t.forEach((function(t){var r=t.zoneId,o=t.colSpan,a=t.rowSpan,c=t.backgroundColor,d=t.fontFamily,f=t.fontWeight,h=t.fontSize,p=t.border,v=t.rowHeight,m=t.colWidth,y=t.valign,w=t.padding;if(0!==o&&0!==a){e.zoneId=r;var I=i.editor.clipboard.serialize(e).node,C=n.insertCell();1!==o&&(C.colSpan=o),1!==a&&(C.rowSpan=a),v&&(C.style.height=v+"px"),c&&(C.style["background-color"]=c),d&&(C.style["font-family"]=d),f&&(C.style["font-weight"]=f),h&&(C.style["font-size"]=h),!b&&(C.style.width=(m||u||Kb)+"px"),!b&&(C.style["min-width"]=(m||s||50)+"px"),C.style["min-height"]=(v||l||40)+"px",C.style.boxSizing="border-box",C.style.padding=w||"9px 8px",C.style.verticalAlign=y||"top",p?Object.keys(p).forEach((function(e){C.style["border-"+e]=p[e]})):!g&&(C.style.border=i.options.defaultBorderStyle||qb),C.appendChild(I)}}))})),Object.assign(e,{node:v,zoneId:h})}return e},n.getTableInstanceOfLines=function(e){var t,n,r=[];try{for(var i=ds(e),o=i.next();!o.done;o=i.next()){var a=o.value,l=this.instanceManager.getInstanceByLineState(a);l&&r.push(l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},t.KEY="table",ss([mm()],t.prototype,"createRangeDom",null),ss([mm()],t.prototype,"on",null),ss([mm()],t.prototype,"off",null),ss([mm()],t.prototype,"doMergeCell",null),ss([mm()],t.prototype,"doUnMergeCell",null),ss([mm()],t.prototype,"copyTable",null),ss([mm()],t.prototype,"cutTable",null),ss([mm()],t.prototype,"triggerCopyCutEventManual",null),ss([mm()],t.prototype,"replaceVectorRange",null),ss([mm()],t.prototype,"bindEvents",null),ss([mm()],t.prototype,"renderLine",null),ss([mm()],t.prototype,"render",null),ss([mm()],t.prototype,"getPropsByTableId",null),ss([mm()],t.prototype,"handleDidPaste",null),ss([mm()],t.prototype,"handlePaste",null),ss([mm()],t.prototype,"deserialize",null),ss([mm(),ga(9999)],t.prototype,"editorWillPaste",null),ss([mm()],t.prototype,"handleTriggerCommand",null),ss([ga(0)],t.prototype,"editorWillCopy",null),t}(Er),Zy=n(410),Wy=n.n(Zy),Uy=n(493),Ky=n.n(Uy),Yy={innerZoneEditor:Cb.object,innerZoneIdToInitialHTML:Cb.object.isRequired},Gy="move",Vy="juice-ignore-node-class";const Qy=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e};const Xy=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=Qp(n))==n?n:0),void 0!==t&&(t=(t=Qp(t))==t?t:0),Qy(Qp(e),t,n)};function qy(e){return Math.max.apply(Math,hs(e))}function Jy(e){if(window.requestIdleCallback)return window.requestIdleCallback(e);var t=Date.now();return window.setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}))}function $y(e){return window.cancelIdleCallback?window.cancelIdleCallback(e):clearTimeout(e)}function ew(){return function(e,t,n){var r=n.value,i=!1;return{configurable:!0,get:function(){if(i||this===e.prototype||this.hasOwnProperty(t))return r;var n=function(e){var t=null;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n[0]&&n[0].persist&&n[0].persist(),null===t&&(t=Ky()((function(){e.apply(void 0,hs(n)),t=null}))),t}}(r.bind(this));return i=!0,Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),i=!1,n}}}}var tw=wc().getParser(window.navigator.userAgent),nw=tw.getOSName(!0).includes("ios"),rw=tw.getPlatformType(!0).includes("mobile"),iw=function(e){function t(t){var n=e.call(this,t)||this;n.randomKey=Math.random(),n.idleTimer=0,n.bindBaseEvents=function(){Lc()(window).on("resize.table-scrollable"+n.randomKey,n.handleContentResize)},n.removeBaseEvents=function(){Lc()(document).off(".table-scrollable"+n.randomKey),Lc()(window).off(".table-scrollable"+n.randomKey)},n.bindMouseEvents=function(){Lc()(document).on("mousemove.table-scrollable"+n.randomKey,n.handleThumbDrag),Lc()(document).on("mouseup.table-scrollable"+n.randomKey,n.handleMouseUp)},n.removeMouseEvents=function(){Lc()(document).off(".table-scrollable"+n.randomKey)},n.requestIdleHandleContentResize=function(){n.idleTimer||(n.idleTimer=Jy((function(){n._handleContentResize(),n.idleTimer=0})))},n.cancelIdleHandleContentResize=function(){n.idleTimer&&($y(n.idleTimer),n.idleTimer=0)},n.onResize=function(){var e=n.state,t=e.showLeftScrollShadow,r=e.showRightScrollShadow,i=e.leftShadowWidth,o=e.rightShadowWidth,a=e.scrollLeft;n.props.onResize&&n.props.onResize(t,r,i,o,a)},n.onScroll=function(){var e=n.state,t=e.showLeftScrollShadow,r=e.showRightScrollShadow,i=e.leftShadowWidth,o=e.rightShadowWidth,a=e.scrollLeft;n.props.onScroll&&n.props.onScroll(t,r,i,o,a)},n.maybeHideScrollShadows=function(){n.setState(n.calcScrollShadows())},n.handleThumbMouseDown=function(e){e.preventDefault(),n.setState({initialScroll:n.state.scrollLeft,initialPosition:e.pageX,scrolling:!0}),n.bindMouseEvents()},n.handleThumbDrag=function(e){var t=n.state,r=t.clientWidth,i=t.scrollWidth,o=t.initialScroll,a=t.initialPosition;n.scrollableRef.scrollLeft=o+-1*(a-e.pageX)*(i/r)},n.handleMouseUp=function(){n.setState({scrolling:!1}),n.removeMouseEvents()},n.handleJumpLeft=function(e){if(e.preventDefault(),e.stopPropagation(),n.scrollableRef){var t=n.state,r=t.scrollLeft,i=t.clientWidth;n.scrollableRef.scrollLeft=Math.max(r-i,0)}},n.handleJumpRight=function(e){if(e.preventDefault(),e.stopPropagation(),n.scrollableRef){var t=n.state,r=t.scrollLeft,i=t.clientWidth,o=t.scrollWidth;n.scrollableRef.scrollLeft=Xy(r+i,0,o-i)}},n.handleWrapScroll=function(){if(nw){var e=window.getSelection();if(e&&e.rangeCount){var t=e.getRangeAt(0).cloneRange();e.removeAllRanges(),e.addRange(t)}}};var r=t.colAttribs.reduce((function(e,t){return e+Number(t.colWidth||100)}),0);return n.state={hideScrollBar:!0,clientWidth:0,scrollWidth:r,leftOffset:0,scrollLeft:0,nativeScrollbarWidth:Wy()(),firstRender:!0,showLeftScrollShadow:!1,showRightScrollShadow:!1,leftShadowWidth:0,rightShadowWidth:0,initialScroll:0,initialPosition:0,scrolling:!1},n.state=Object.assign(n.state,n.calcScrollShadows()),n}os(t,e);var n=t.prototype;return n.componentDidMount=function(){this.scrollableRef&&(this.bindBaseEvents(),setTimeout(t.updateRectInfo,200))},n.componentDidUpdate=function(e,t){this.state.firstRender&&this.setState({firstRender:!1})},n.componentWillUnmount=function(){this.removeMouseEvents(),this.removeBaseEvents()},n.handleContentResize=function(){this._handleContentResize()},n._handleContentResize=function(){this.scrollableRef&&(this.setState({hideScrollBar:!1,clientWidth:this.scrollableRef.clientWidth,scrollWidth:this.scrollableRef.scrollWidth,scrollLeft:this.scrollableRef.scrollLeft}),this.maybeHideScrollShadows(),this.setState({},this.onResize))},n.handleScroll=function(e){e.preventDefault();var n=this.state,r=n.scrollWidth,i=n.clientWidth,o=this.scrollableRef.scrollLeft,a=Xy(o,0,r-i-3);o!==a&&(e.target.scrollLeft=a),this.maybeHideScrollShadows(),t.updateRectInfo(),this.setState({scrollLeft:a},this.onScroll)},n.calcScrollShadows=function(){var e=this.state,t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth,i=t;return{showLeftScrollShadow:!(0===t),showRightScrollShadow:!(r>=n-1||t+r>n-1),leftShadowWidth:Math.min(8,i/3),rightShadowWidth:Math.min(8,(n-(i+r))/3)}},n.setTableOuterWrapperRef=function(e){e&&(this.scrollableChildrenRef=e)},n.render=function(){var e,t,n=this,r=this.state,o=r.scrolling,a=r.showLeftScrollShadow,l=r.showRightScrollShadow,s=r.leftShadowWidth,u=r.rightShadowWidth,c=r.nativeScrollbarWidth,d=r.clientWidth,f=r.scrollWidth,h=r.scrollLeft,p=a||l,g={paddingBottom:p?15+(c?0:15):0,marginBottom:p?-1*(c||14):0},v="15px",m=rp()(this.props.className,rw?null:{"tb-scrollable":!0,"tb-scrollable-scrolling":o,"tb-scrollable-with-scrollbar":p,"tb-scrollable-with-shadow-left":a,"tb-scrollable-with-shadow-right":l});return i.createElement("div",{className:m,onScroll:this.handleWrapScroll},i.createElement("div",{className:"tb-scrollable-content",ref:function(e){n.scrollableRef=e},onScroll:this.handleScroll,style:g},i.createElement("div",{className:"tb-scrollable-children",ref:this.setTableOuterWrapperRef},this.props.children),i.createElement("div",{className:rp()("tb-scrollable-shadow","tb-scrollable-shadow-left",(e={"tb-scrollable-shadow-enabled":a},e[Vy]=!0,e[Yb]=!0,e)),style:{width:s,bottom:v}}),i.createElement("div",{className:rp()("tb-scrollable-shadow","tb-scrollable-shadow-right",(t={"tb-scrollable-shadow-enabled":l},t[Vy]=!0,t[Yb]=!0,t)),style:{width:u,bottom:v}}),i.createElement(ow,{enabled:!this.state.hideScrollBar&&!this.state.firstRender&&(a||l||p),onThumbMouseDown:this.handleThumbMouseDown,onJumpLeft:this.handleJumpLeft,onJumpRight:this.handleJumpRight,clientWidth:d,scrollWidth:f,scrollLeft:h})))},t.updateRectInfo=$p((function(){}),50),ss([ew()],t.prototype,"handleContentResize",null),ss([ew()],t.prototype,"handleScroll",null),ss([Ep],t.prototype,"calcScrollShadows",null),ss([Ep],t.prototype,"setTableOuterWrapperRef",null),t}(i.Component),ow=function(e){var t;if(!e.enabled)return i.createElement("div",{className:Yb});var n=e.clientWidth,r=e.scrollWidth,o=e.scrollLeft,a=e.onThumbMouseDown,l=e.onJumpLeft,s=e.onJumpRight,u=n/r,c={width:Math.floor(n*u)-4,left:Math.floor(o*u)};return i.createElement("div",{className:rp()("tb-scrollable-scrollbar",(t={},t[Vy]=!0,t[Yb]=!0,t))},i.createElement("div",{className:"tb-scrollable-page-left",style:{width:c.left},onMouseDown:l}),i.createElement("div",{className:"tb-scrollable-page-right",style:{width:Math.max(0,n-c.width-c.left-8)},onMouseDown:s}),i.createElement("div",{className:"tb-scrollable-scrollbar-thumb",style:c,onMouseDown:a}))};const aw=function(e,t){return e&&Rm(t,Td(t),e)};const lw=function(e,t){return e&&Rm(t,Bm(t),e)};const sw=function(e,t){return Rm(e,rd(e),t)};const uw=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)rc(t,rd(e)),e=Mm(e);return t}:ed;const cw=function(e,t){return Rm(e,uw(e),t)};const dw=function(e){return Jc(e,Bm,uw)};var fw=Object.prototype.hasOwnProperty;const hw=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&fw.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const pw=function(e,t){var n=t?Em(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var gw=/\w*$/;const vw=function(e){var t=new e.constructor(e.source,gw.exec(e));return t.lastIndex=e.lastIndex,t};var mw=bs?bs.prototype:void 0,bw=mw?mw.valueOf:void 0;const yw=function(e){return bw?Object(bw.call(e)):{}};const ww=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Em(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return pw(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return xm(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return vw(e);case"[object Set]":return new r;case"[object Symbol]":return yw(e)}};const Iw=function(e){return Ts(e)&&"[object Map]"==Gd(e)};var Cw=vd&&vd.isMap;const kw=Cw?fd(Cw):Iw;const Ew=function(e){return Ts(e)&&"[object Set]"==Gd(e)};var xw=vd&&vd.isSet;const Mw=xw?fd(xw):Ew;var Sw="[object Arguments]",Tw="[object Function]",Aw="[object Object]",Nw={};Nw[Sw]=Nw["[object Array]"]=Nw["[object ArrayBuffer]"]=Nw["[object DataView]"]=Nw["[object Boolean]"]=Nw["[object Date]"]=Nw["[object Float32Array]"]=Nw["[object Float64Array]"]=Nw["[object Int8Array]"]=Nw["[object Int16Array]"]=Nw["[object Int32Array]"]=Nw["[object Map]"]=Nw["[object Number]"]=Nw["[object Object]"]=Nw["[object RegExp]"]=Nw["[object Set]"]=Nw["[object String]"]=Nw["[object Symbol]"]=Nw["[object Uint8Array]"]=Nw["[object Uint8ClampedArray]"]=Nw["[object Uint16Array]"]=Nw["[object Uint32Array]"]=!0,Nw["[object Error]"]=Nw[Tw]=Nw["[object WeakMap]"]=!1;const Lw=function e(t,n,r,i,o,a){var l,s=1&n,u=2&n,c=4&n;if(r&&(l=o?r(t,i,o,a):r(t)),void 0!==l)return l;if(!zs(t))return t;var d=ps(t);if(d){if(l=hw(t),!s)return Mv(t,l)}else{var f=Gd(t),h=f==Tw||"[object GeneratorFunction]"==f;if(ud(t))return km(t,s);if(f==Aw||f==Sw||h&&!o){if(l=u||h?{}:Sm(t),!s)return u?cw(t,lw(l,t)):sw(t,aw(l,t))}else{if(!Nw[f])return o?t:{};l=ww(t,f,s)}}a||(a=new Pc);var p=a.get(t);if(p)return p;a.set(t,l),Mw(t)?t.forEach((function(i){l.add(e(i,n,r,i,t,a))})):kw(t)&&t.forEach((function(i,o){l.set(o,e(i,n,r,o,t,a))}));var g=d?void 0:(c?u?dw:Ad:u?Bm:Td)(t);return Ig(g||t,(function(i,o){g&&(i=t[o=i]),Zu(l,o,e(i,n,r,o,t,a))})),l};const Dw=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};const zw=function(e,t){return t.length<2?e:Pu(e,Dw(t,0,-1))};const Ow=function(e,t){return t=_u(t,e),null==(e=zw(e,t))||delete e[ju(hf(t))]};const Rw=function(e){return zm(e)?void 0:e};const _w=mc((function(e,t){var n={};if(null==e)return n;var r=!1;t=Lu(t,(function(t){return t=_u(t,e),r||(r=t.length>1),t})),Rm(e,dw(e),n),r&&(n=Lw(n,7,Rw));for(var i=t.length;i--;)Ow(n,t[i]);return n}));var jw=function(e){var t=this;this.overallContentEditable=!1,this.zoneIdReg=new RegExp("[^a-z0-9]"),this.isDisposed=!1,this.bindEvent=function(){t.$el.on("focus",t.handleFocus),t.$el.on("blur",t.handleBlur),t.$el.on("mouseenter",t.handleMouseEnter),t.$el.on("mouseleave",t.handleMouseLeave),t.$el.on("keydown",t.handleKeyDown),t.editor.on("ace-table-editable-change",t.handleEditableChange),t.editor.on("selectionchange",t.handleSelectionChange),t.isDisposed=!1},this.handleSelectionChange=function(e){var n=e.previous,r=e.current,i=n.start.zoneId,o=r.start.zoneId;i!==o&&i===t.zoneId&&t.updateIsFocusedInRep(!1),o!==t.zoneId||t.isFocusedInRep||t.updateIsFocusedInRep(!0)},this.handleFocus=function(){t.isFocused=!0,t.updateContentEditableness(),t.editor.call("inner-zone-focus",{zoneId:t.zoneId})},this.handleBlur=function(){t.isFocused=!1,t.updateContentEditableness(),t.editor.call("inner-zone-blur",{zoneId:t.zoneId})},this.handleMouseEnter=function(){t.isMouseOver=!0,t.updateContentEditableness()},this.handleMouseLeave=function(){t.isMouseOver=!1,t.updateContentEditableness()},this.handleKeyDown=function(e){var n=t.editor,r=n.selection.getSelection();if(r.isCollapsed()){var i=n.getContentState().getZoneState(r.start.zoneId);if(i){var o=i.isEmpty(),a=r.start.line===i.length()-1;o&&a&&46===e.keyCode&&e.preventDefault()}}},this.handleEditableChange=function(e){t.updateEditorContentEditable(e)},this.dispose=function(){t.$el.off(),t.editor.off("ace-table-editable-change",t.handleEditableChange),t.editor.off("selectionchange",t.handleSelectionChange),t.isDisposed=!0},this.updateEditorContentEditable=function(e){t.isEditorContentEditable=e,t.updateContentEditableness()},this.updateContentEditableness=function(){if(t.editor.isEditable()){var e=!(!t.isEditorContentEditable||!(t.isMouseOver||t.isFocused||t.isFocusedInRep));e!==t.overallContentEditable&&(t.node.setAttribute("contentEditable",e?"true":"false"),t.overallContentEditable=e)}else null===t.overallContentEditable&&(t.node.setAttribute("contentEditable","false"),t.overallContentEditable=!1)},this.updateIsFocusedInRep=function(e){t.isFocusedInRep=e,t.updateContentEditableness()},this.updateNode=function(e){t.node=e},this.mountVNode=function(e){t.node=e,t.$el=Lc()(e),t.node.zoneId={value:t.zoneId}},this.getNode=function(){return t.node};var n=e.editor,r=e.zoneId,i=e.editable,o=e.$preRenderNode;if(this.zoneId=r,this.editor=n,this.isEditorContentEditable=i,this.isMouseOver=!1,this.isFocused=!1,this.isFocusedInRep=!1,this.zoneIdReg.test(this.zoneId))throw new Error("bad zone id (regex): "+this.zoneId);var a=o||function(e){var t=document.createElement("div");return t.setAttribute("class","ace-editor selenium-inner-zone-ace-editor syntax notranslate zoneId-"+e),t.setAttribute("data-zone-id",e),t.setAttribute("data-gramm","false"),Lc()(t)}(this.zoneId);this.$el=a,this.node=this.$el.get(0),this.node.zoneId={value:this.zoneId},this.node.setAttribute("contenteditable",this.isEditorContentEditable.toString())};var Pw,Bw=Rg,Fw=ul(Sa),Hw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerZoneRef=null,t.innerZoneInstance=null,t.handleClick=function(e){var n=t.props,r=n.zoneId,i=n.horizontalScrollToZone;i&&i({start:{zoneId:r,line:0,offset:0},end:{zoneId:r,line:0,offset:0}}),t.props.onClick&&t.props.onClick(e)},t.handleKeyDown=function(e){t.props.onKeyDown&&t.props.onKeyDown(e)},t.handleInput=function(e){t.props.onInput&&t.props.onInput(e)},t.handleMouseDown=function(e){var n=t.editor,r=t.props,i=r.zoneId,o=r.onMouseDown,a=n.selection.getSelection().start;Bw(e)||e.shiftKey||i===a.zoneId||o&&o(e)},t}os(t,e);var n=t.prototype;return Object.defineProperty(n,"editor",{get:function(){return this.context.innerZoneEditor},enumerable:!1,configurable:!0}),n.getTableForNode=function(e){var t;return(t=e.closest?e.closest(".ace-table-wrapper-outer"):Lc()(e).closest(".ace-table-wrapper-outer").get(0))?t.parentNode:null},n.handleInitZoneView=function(e){var t=this.props.zoneId,n=this.editor;e&&!this.innerZoneInstance&&(this.innerZoneInstance=new jw({zoneId:t,editor:n,editable:this.editor.isEditable()}),this.innerZoneInstance.mountVNode(e),this.innerZoneInstance.bindEvent())},n.UNSAFE_componentWillMount=function(){var e=this.props.zoneId,t=this.editor.getContentState().getZoneState(e);t||(this.editor.getContentState().addZone(e),t=this.editor.getContentState().getZoneState(e)),this.setState({content:t})},n.componentDidMount=function(){var e=this.props.zoneId;this.editor.call("innerZoneMount",{el:this.innerZoneRef&&this.innerZoneRef.parentElement,zoneId:e,className:Yb})},n.shouldComponentUpdate=function(e){return this.props.zoneId!==e.zoneId||this.props.className!==e.className},n.componentWillUnmount=function(){this.innerZoneInstance&&this.innerZoneInstance.dispose()},n.render=function(){var e=this,t=rp()("inner-zone-ace-editor-wrapper",this.props.className),n=this.props.zoneId;return i.createElement(Si.Provider,{value:this.editor},i.createElement(i.Fragment,null,i.createElement("div",{className:t,onMouseDown:this.handleMouseDown,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onInput:this.handleInput,"data-ace-inner-zone-content-wrapper-zone-id":n,contentEditable:!1,ref:function(t){e.innerZoneRef=t}},i.createElement(dl,{editor:this.editor,zoneId:n,onMount:this.handleInitZoneView,scroller:!1},i.createElement(Fw,{zoneId:n,editor:this.editor}))),i.createElement("div",{className:"ep-ranges ignore-dom"}),i.createElement("div",{className:"ep-cursors ignore-dom"})))},t.contextTypes=ty,ss([mm()],t.prototype,"handleInitZoneView",null),t}(i.Component);!function(e){e[e.BackSpace=8]="BackSpace",e[e.Tab=9]="Tab",e[e.Clear=12]="Clear",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit9=57]="Digit9",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.Meta=91]="Meta",e[e.RightMeta=93]="RightMeta",e[e.Caret=94]="Caret",e[e.Numpad0=96]="Numpad0",e[e.Numpad9=105]="Numpad9",e[e.NumpadDot=110]="NumpadDot",e[e.F11=122]="F11",e[e.Semicolon=186]="Semicolon",e[e.Plus=187]="Plus",e[e.Minus=189]="Minus",e[e.Dot=190]="Dot",e[e.Grave=192]="Grave",e[e.Bracket=219]="Bracket",e[e.Quot=222]="Quot",e[e.Asterisk=106]="Asterisk",e[e.Slash=111]="Slash",e[e["/"]=191]="/",e[e["\\"]=220]="\\",e[e.Ime=229]="Ime"}(Pw||(Pw={}));var Zw=tw.getOSName(!0).includes("macos"),Ww=tw.getBrowserName(!0).includes("safari"),Uw=(Pw.Up,Pw.Down,Pw.Left,Pw.Right,[Pw.C,Pw.V,Pw.X]);function Kw(e){return Zw||Ww?e.metaKey&&!e.altKey:e.ctrlKey&&!e.altKey}var Yw=tw.getBrowserName(!0).includes("edge");const Gw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hoverTimer=null,t.state={doingHorzResize:!1,doingVertResize:!1,initialX:-1,initialY:-1},t}os(t,e);var n=t.prototype;return n.onHorzMouseDown=function(e){var t=this,n=this.props.onHorzResizeStart;e.preventDefault(),e.stopPropagation(),Lc()(document).off(".resizable"),n&&n(),this.setState({doingHorzResize:!0,initialX:e.screenX},(function(){Lc()(document).on("mousemove.resizable",t.onHorzMouseMove),Lc()(document).on("mouseup.resizable",t.onHorzMouseUp)}))},n.onHorzMouseUp=function(){var e=this.props,t=e.onHorzResizeEnd,n=e.onHorzMouseLeave;Lc()(document).off(".resizable"),n&&n(),t&&t(),this.setState({doingHorzResize:!1,initialX:-1})},n.onHorzMouseMove=function(e){var t=this.state,n=t.doingHorzResize,r=t.initialX,i=this.props.onHorzResize;n&&i&&(e.preventDefault(),i(e.screenX-r))},n.onHorzMouseEnter=function(e){var t=this;e.stopPropagation(),this.hoverTimer&&clearTimeout(this.hoverTimer),this.hoverTimer=window.setTimeout((function(){t.hoverTimer=null,t.props.onHorzMouseEnter&&t.props.onHorzMouseEnter()}),10)},n.onHorzMouseLeave=function(){this.hoverTimer&&clearTimeout(this.hoverTimer),!this.props.onHorzMouseLeave||this.state.doingHorzResize||this.props.isHorzBeingResized||this.props.onHorzMouseLeave()},n.onVertMouseDown=function(e){var t=this,n=this.props.onVertResizeStart;e.preventDefault(),Lc()(document).off(".resizable"),n&&n(),this.setState({doingVertResize:!0,initialY:e.screenY},(function(){Lc()(document).on("mousemove.resizable",t.onVertMouseMove),Lc()(document).on("mouseup.resizable",t.onVertMouseUp)}))},n.onVertMouseMove=function(e){var t=this.props.onVertResize,n=this.state,r=n.doingVertResize,i=n.initialY;r&&t&&(e.preventDefault(),t(e.screenY-i))},n.onVertMouseUp=function(){var e=this.props,t=e.onVertResizeEnd,n=e.onVertMouseLeave;Lc()(document).off(".resizable"),n&&n(),t&&t(),this.setState({doingVertResize:!1,initialY:-1})},n.onVertMouseEnter=function(e){var t=this;e.stopPropagation(),this.hoverTimer&&clearTimeout(this.hoverTimer),this.hoverTimer=window.setTimeout((function(){t.hoverTimer=null,t.props.onVertMouseEnter&&t.props.onVertMouseEnter()}),10)},n.onVertMouseLeave=function(e){this.hoverTimer&&clearTimeout(this.hoverTimer),!this.props.onVertMouseLeave||this.state.doingVertResize||this.props.isVertBeingResized||this.props.onVertMouseLeave()},n.componentWillUnmount=function(){Lc()(document).off(".resizable")},n.render=function(){var e=this.props,t=e.alignToLeft,n=e.isHorzHovered,r=e.disableVertResize,o=e.isVertHovered,a=e.alignToTop,l=(this.props.className||"")+" tb-resizable",s=[],u=this.props.htmlTag||"div",c=Object.assign({},this.props,{className:l});return c=_w(c,["htmlTag","onHorzResize","onHorzResizeStart","onHorzResizeEnd","onVertResize","onVertResizeStart","onVertResizeEnd","onVertMouseLeave","onVertMouseEnter","onHorzMouseEnter","onHorzMouseLeave","disableHorzResize","disableVertResize","alignToTop","alignToLeft","isHorzHovered","isVertHovered","isHorzBeingResized","isVertBeingResized","children",Yw?"contentEditable":""]),this.props.disableHorzResize&&!this.props.isHorzHovered||s.push(i.createElement("div",{key:1,className:rp()("ignore-dom","tb-resizable-grippy","tb-resizable-horz",{"tb-resizable-left":t,"is-hovered":n}),onMouseEnter:this.onHorzMouseEnter,onMouseLeave:this.onHorzMouseLeave,onMouseDown:this.onHorzMouseDown},i.createElement("div",{className:"tb-resizable-grippy-inner"}))),r&&!o||s.push(i.createElement("div",{key:2,className:rp()("ignore-dom","tb-resizable-grippy","tb-resizable-vert",{"tb-resizable-top":a,"is-hovered":o}),onMouseEnter:this.onVertMouseEnter,onMouseLeave:this.onVertMouseLeave,onMouseDown:this.onVertMouseDown,onMouseMove:this.onVertMouseMove},i.createElement("div",{className:"tb-resizable-grippy-inner"}))),i.createElement(u,as({},c),i.createElement("div",{className:"separate-td-content-editable",contentEditable:!1},this.props.children,s))},ss([Ep],t.prototype,"onHorzMouseDown",null),ss([Ep],t.prototype,"onHorzMouseUp",null),ss([ew()],t.prototype,"onHorzMouseMove",null),ss([Ep],t.prototype,"onHorzMouseEnter",null),ss([Ep],t.prototype,"onHorzMouseLeave",null),ss([Ep],t.prototype,"onVertMouseDown",null),ss([ew()],t.prototype,"onVertMouseMove",null),ss([Ep],t.prototype,"onVertMouseUp",null),ss([Ep],t.prototype,"onVertMouseEnter",null),ss([Ep],t.prototype,"onVertMouseLeave",null),t}(i.Component);var Vw=tw.getPlatformType(!0).includes("mobile");const Qw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={initialWidth:0,initialHeight:0,diffX:0,diffY:0,editable:t.editor.isEditable()},t}os(t,e);var n=t.prototype;return n.componentDidMount=function(){},n.shouldComponentUpdate=function(e,t){var n=["isTopBorderHighlighted","isLeftBorderHighlighted","isRightBorderHighlighted","disableHorzResize","disableVertResize","isBottomBorderHighlighted","isColumnBeingResized","isRowBeingResized","author","cellId","isEditAdd","isEditDel","isDeletionHint","isSelected","isBeingDragged","diffType","selectedCellColor","width","height","rowIndex","rowSpan","colIndex","colSpan","borderStyle","backgroundColor"],r=bc(this.props,n),i=bc(e,n);return!ef(r,i)||!ef(t,this.state)},n.componentDidUpdate=function(e){var t=this.props,n=t.table,r=t.cellId,i=t.rowSpan,o=t.colSpan,a=t.rowIndex,l=t.colIndex,s=t.cellAttribs;if((e.colSpan!==o&&0===o||e.rowSpan!==i&&0===i)&&r===this.editor.getContentState().getActiveZone().getZoneId()){var u=Sb(a,l,s),c=u.rowIndex,d=u.colIndex;setTimeout((function(){n.focusAndCollapseSelectionOntoCell(c,d,[-1,-1])}),0)}},Object.defineProperty(n,"editor",{get:function(){return this.context.innerZoneEditor},enumerable:!1,configurable:!0}),n.setInnerZoneStyle=function(){var e,t,n=["minHeight","maxHeight","fontSize"];try{for(var r=ds(Object.entries(this.props.style)),i=r.next();!i.done;i=r.next()){var o=fs(i.value,2),a=o[0],l=o[1],s=l;n.includes(a)&&"number"==typeof l&&(s=l.toString()+"px"),null!=s&&(this.innerZone.innerZoneRef.style[a]=s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.onCellMouseUp=function(e){var t=this.props,n=t.table,r=t.rowIndex,i=t.colIndex;!e.target.classList.contains("ace-table-cell")||Kw(e)||e.shiftKey||"Range"===window.getSelection().type||this.props.table.getSelectStatus().length||n.focusAndCollapseSelectionOntoCell(r,i)},n.onCellKeyDown=function(e){(function(e){return Kw(e)&&-1!==Uw.indexOf(e.keyCode)})(e)&&e.stopPropagation(),Kw(e)&&e.keyCode===Pw.A&&(e.preventDefault(),e.stopPropagation(),this.props.table.selectEntireCell({cellId:this.props.cellId}))},n.onHorzResizeStart=function(){var e=this.props,t=e.onHorzResizeStart,n=e.colIndex,r=e.colSpan;t&&t(n+(r>1?r-1:0)),this.onResizeStart()},n.onHorzResizeEnd=function(){var e=this.props,t=e.onHorzResizeEnd,n=e.colIndex,r=e.colSpan,i=this.state.diffX;t&&t(n+(r>1?r-1:0),i),this.onResizeEnd()},n.onHorzResize=function(e){this.props.onHorzResize&&this.props.onHorzResize(this.props.colIndex,this.props.rowIndex,e),this.props.onHorzDiff&&(e=this.props.onHorzDiff(this.props.colIndex,e)),this.setState({diffX:e})},n.onVertResizeStart=function(){var e=this.props,t=e.onVertResizeStart,n=e.rowIndex,r=e.rowSpan;t&&t(n+(r>1?r-1:0)),this.onResizeStart()},n.onVertResizeEnd=function(){var e=this.props,t=e.onVertResizeEnd,n=e.rowIndex,r=e.rowSpan,i=this.state.diffY;t&&t(n+(r>1?r-1:0),i),this.onResizeEnd()},n.onVertResize=function(e){this.props.onVertResize&&this.props.onVertResize(this.props.rowIndex,this.props.colIndex,e),this.setState({diffY:e})},n.onHorzMouseEnter=function(){if(this.isEditable()){var e=this.props,t=e.table,n=e.colSpan,r=e.colIndex;t.setHighlightColumn(r+(n>1?n-1:0))}},n.onHorzMouseLeave=function(){this.props.table.setHighlightColumn(null)},n.onVertMouseEnter=function(){if(this.isEditable()){var e=this.props,t=e.table,n=e.rowSpan,r=e.rowIndex;t.setHighlightRow(r+(n>1?n-1:0))}},n.onVertMouseLeave=function(){this.props.table.setHighlightRow(null)},n.onVertMouseEnd=function(){this.props.table.setHighlightRow(null)},n.resetWidth=function(){this.setState({initialWidth:null})},n.resetHeight=function(){this.setState({initialHeight:null})},n.onResizeStart=function(){var e=this.props,t=e.width,n=e.height;this.setState({initialWidth:t||0,initialHeight:n||0})},n.onResizeEnd=function(){this.setState({diffX:0,diffY:0,initialWidth:null,initialHeight:null})},n.handleMouseEnter=function(){var e=this.editor.isEditable();e!==this.state.editable&&this.setState({editable:e}),this.props.table.setCurrentHoverOfZone(this.props.cellId)},n.handleMouseDown=function(e){this.isEditable()&&(this.disposeMouseDown(),this.screenXWhenMouseDown=e.clientX,document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.disposeMouseDown))},n.disposeMouseDown=function(){this.screenXWhenMouseDown=0,document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.disposeMouseDown)},n.handleMouseMove=function(e){var t=this.props,n=t.cellId,r=t.table,i=t.width,o=e.clientX-this.screenXWhenMouseDown,a=r.getRectOfZone([n]).left,l=r.getDocbodyRect().left,s=this.isAllTextHaveSelected(n),u=this.editor.getContentState().getActiveZone(),c=u.getZoneId(),d=u.length()-1,f=u.getLine(d);if(f){var h=this.editor.rectModule.getLineRect({zoneId:c,line:d}).left,p=this.editor.rectModule.getCaretRect({zoneId:c,line:d,offset:f.length()-1}).left,g=this.el?this.el.clientWidth:i;(s&&o>h+p+24||g+a+l-6<e.clientX)&&(this.disposeMouseDown(),r.selectEntireCell({cellId:n,withMergedCell:!0,clearSelection:!0}))}},n.isAllTextHaveSelected=function(e){var t=this.editor.getContentState().getZoneState(e);if(t){var n=t.getLine(0),r=t.getLine(t.length()-1);if(n&&r){var i=this.editor.selection.getSelection(),o=i.start,a=i.end;return 0===o.line&&o.offset===n.getLineMarker()&&a.line===t.length()-1&&a.offset===r.length()-1}}},n.isEditable=function(){return this.state.editable},n.calcStyleString=function(){var e={},t=this.state,n=t.initialWidth,r=t.initialHeight,i=t.diffY,o=t.diffX,a=this.props,l=a.selectedCellColor,s=a.isSelected,u=a.width,c=a.height,d=a.disableHorzResize,f=a.disableVertResize,h=a.backgroundColor,p=a.fontWeight,g=a.fontFamily,v=a.fontSize;if(d||(n?e.minWidth=e.width=n+o+"px":u&&(e.minWidth=e.width=u+"px")),f||(r?e.minHeight=e.height=r+i+"px":c&&(e.minHeight=e.height=c+"px")),p&&(e.fontFamily=g),v){var m=new RegExp(/\D/);e.fontSize=""+v,m.test(v)||(e.fontSize+="px")}return p&&(e.fontWeight=p),s&&l&&(e.backgroundColor=l),h&&(e.backgroundColor=h),e},n.setRef=function(e){},n.setInnerZoneRef=function(e){this.innerZone=e},n.render=function(){var e,t=this.props,n=t.isTopBorderHighlighted,r=t.isLeftBorderHighlighted,o=t.isRightBorderHighlighted,a=t.disableHorzResize,l=t.disableVertResize,s=t.isBottomBorderHighlighted,u=t.isColumnBeingResized,c=t.isRowBeingResized,d=t.author,f=t.cellId,h=t.isEditAdd,p=t.isEditDel,g=t.isDeletionHint,v=t.isSelected,m=t.isBeingDragged,b=t.horizontalScrollToZone,y=t.diffType,w=t.colSpan,I=t.rowSpan,C=rp()("ace-table-cell",((e={"ace-table-cell-is-deletion-hint":g,"ace-table-cell-selected":v,"ace-table-cell-dragged":m,"ace-table-cell-diff-plus":" plus"===y,"ace-table-cell-diff-minus":" minus"===y,"ace-table-cell-diff-phantom":" phantom"===y,__edit_add:h,__edit_del:p,__edit:h||p})["author-"+d]=d,e["table-hide"]=0===w||0===I,e)),k=this.isEditable();return i.createElement(Gw,{ref:this.setRef,htmlTag:"td",onHorzResize:this.onHorzResize,onHorzResizeStart:this.onHorzResizeStart,onHorzResizeEnd:this.onHorzResizeEnd,onVertResize:this.onVertResize,onVertResizeStart:this.onVertResizeStart,onVertResizeEnd:this.onVertResizeEnd,onMouseUp:this.onCellMouseUp,onMouseDown:this.handleMouseDown,onKeyDown:this.onCellKeyDown,onMouseEnter:this.handleMouseEnter,onVertMouseEnter:this.onVertMouseEnter,onVertMouseLeave:this.onVertMouseLeave,onHorzMouseEnter:this.onHorzMouseEnter,onHorzMouseLeave:this.onHorzMouseLeave,disableHorzResize:!k||a||Vw,disableVertResize:!k||l||Vw,alignToTop:n,alignToLeft:r,isHorzHovered:o||r,isVertHovered:s||n,isHorzBeingResized:u,isVertBeingResized:c,style:this.calcStyleString(),className:C,colSpan:w,rowSpan:I,contentEditable:k,suppressContentEditableWarning:!0},i.createElement(Hw,{zoneId:f,ref:this.setInnerZoneRef,horizontalScrollToZone:b}))},t.contextTypes=Yy,ss([Ep],t.prototype,"onCellMouseUp",null),ss([Ep],t.prototype,"onCellKeyDown",null),ss([Ep],t.prototype,"onHorzResizeStart",null),ss([Ep],t.prototype,"onHorzResizeEnd",null),ss([Ep],t.prototype,"onHorzResize",null),ss([Ep],t.prototype,"onVertResizeStart",null),ss([Ep],t.prototype,"onVertResizeEnd",null),ss([Ep],t.prototype,"onVertResize",null),ss([Ep],t.prototype,"onHorzMouseEnter",null),ss([Ep],t.prototype,"onHorzMouseLeave",null),ss([Ep],t.prototype,"onVertMouseEnter",null),ss([Ep],t.prototype,"onVertMouseLeave",null),ss([Ep],t.prototype,"onVertMouseEnd",null),ss([Ep],t.prototype,"resetWidth",null),ss([Ep],t.prototype,"resetHeight",null),ss([Ep],t.prototype,"onResizeStart",null),ss([Ep],t.prototype,"onResizeEnd",null),ss([Ep],t.prototype,"handleMouseEnter",null),ss([Ep],t.prototype,"handleMouseDown",null),ss([Ep],t.prototype,"disposeMouseDown",null),ss([Ep],t.prototype,"handleMouseMove",null),ss([Ep],t.prototype,"isEditable",null),ss([Ep],t.prototype,"calcStyleString",null),ss([Ep],t.prototype,"setRef",null),ss([Ep],t.prototype,"setInnerZoneRef",null),t}(i.Component);var Xw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stuntRef=null,t.idleTimer=0,t.bindEvents=function(){t.stuntRef&&(t.stuntRef.contentWindow&&t.stuntRef?setTimeout((function(){var e,n;null===(n=null===(e=t.stuntRef)||void 0===e?void 0:e.contentWindow)||void 0===n||n.addEventListener("resize",t.requestIdleHandleContentResize)}),0):t.stuntRef.onload=t.bindContentResize)},t.bindContentResize=function(){t.stuntRef&&t.stuntRef.contentWindow&&t.stuntRef.contentWindow.addEventListener("resize",t.requestIdleHandleContentResize)},t.requestIdleHandleContentResize=function(){t.idleTimer||(t.idleTimer=Jy((function(){t.props.handleContentResize(),t.idleTimer=0})))},t.cancelIdleHandleContentResize=function(){t.idleTimer&&($y(t.idleTimer),t.idleTimer=0)},t.getBorderStyle=function(e,n,r){var i=t.props.cellAttribs,o=r[Ub.BORDER];if(!o||0===n)return o;var a=i[e][n-1];return(0===a[Ub.COL_SPAN]||0===a[Ub.ROW_SPAN])&&a[Ub.BORDER]&&a[Ub.BORDER].right&&(o.left=a[Ub.BORDER].right),o},t.renderCells=function(e,n,r){void 0===n&&(n={});var o=t.props,a=o.colIds,l=o.colAttribs,s=o.cellAttribs,u=o.hintRowsToDeleteCount,c=o.hintColsToDeleteCount,d=o.columnBeingResized,f=o.selectedCellIds,h=o.rowBeingResized,p=o.rowWithBottomBorderHighlighted,g=o.columnWithRightBorderHighlighted,v=o.selectedCellColor,m=o.handleHorzResize,b=o.handleHorzResizeStart,y=o.handleHorzResizeEnd,w=o.handleVertResize,I=o.handleVertResizeStart,C=o.handleVertResizeEnd,k=o.horizontalScrollToZone,E=o.handleHorzDiff,x=o.rowBeingResizedHeights,M=o.vertResizeDiff,S=o.tableStyle;return a.map((function(o,a){var T=s[r]?s[r][a]:{},A=l[a]||{},N=Kg(e,o),L=-1!==f.indexOf(N),D=L&&(u>0||c>0),z=-1!==d&&d===a?void 0:parseInt(T[Ub.COL_WIDTH],10),O=parseInt(T[Ub.ROW_HEIGHT],10)||40,R=-1!==h&&h===r?Math.max(x[r],O)+M:O,_=A.__edit_add||n.__edit_add,j=A.__edit_del||n.__edit_del,P=A.author||n.author,B=T[Ub.COL_SPAN],F=T[Ub.ROW_SPAN],H=g===a+(B>1?B-1:0),Z=p===r+(F>1?F-1:0),W=T[Ub.BACKGROUND_COLOR],U=T[Ub.FONT_FAMILY],K=T[Ub.FONT_WEIGHT],Y=T[Ub.FONT_SIZE];return i.createElement(Qw,{key:N,rowIndex:r,colIndex:a,disableHorzResize:!1,disableVertResize:!1,cellId:N,cellAttribs:s,table:t.props.table,tableMounted:t.props.table.getComponentMounted(),ref:function(e){return t.props.setCellRef("cell-"+N,e)},isEditAdd:_,isEditDel:j,author:P,isBeingDragged:L,isSelected:L,isColumnBeingResized:d===a,isRowBeingResized:h===r,isTopBorderHighlighted:0===r&&-1===p,isBottomBorderHighlighted:Z,isLeftBorderHighlighted:0===a&&-1===g,isRightBorderHighlighted:H,isDeletionHint:D,selectedCellColor:v,width:z,height:R,colSpan:B,rowSpan:F,backgroundColor:W,fontFamily:U,fontWeight:K,fontSize:Y,onHorzResize:m,onHorzResizeStart:b,onHorzResizeEnd:y,onVertResize:w,onVertResizeStart:I,onVertResizeEnd:C,onHorzDiff:E,horizontalScrollToZone:k,style:S[N]})}))},t.findSelectedAllMergedCells=Su((function(e,t,n,r){var i,o,a=new Map,l=new Set;e.forEach((function(e,i){var o=Yg(e);if(o){var l=o.rowId,s=o.colId,u=n.indexOf(l),c=t.indexOf(s);if(u>=0&&c>=0){var d=r[u][c];if(d&&d.mergeCellID){var f=void 0,h=d.mergeCellID,p=d.colspan||0,g=d.rowspan||0;if(a.has(h)){var v=a.get(h),m=v.counts,b=v.colSpans,y=v.rowSpans;f={counts:m+1,colSpans:p||b,rowSpans:g||y}}else f={counts:1,colSpans:p,rowSpans:g};a.set(h,f)}}}}));try{for(var s=ds(a.entries()),u=s.next();!u.done;u=s.next()){var c=fs(u.value,2),d=c[0],f=c[1];f.counts===(f.colSpans||1)*(f.rowSpans||1)&&l.add(d)}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return Array.from(l)})),t.renderRows=function(){var e=t.props,n=e.rowIds,r=e.rowAttribs;return n.map((function(e,n){return i.createElement("tr",{key:e,className:"ace-table-row"},t.renderCells(e,r[n],n))}))},t.renderColGroup=function(){var e=t.props,n=e.horzResizeDiff,r=e.columnBeingResized,o=e.colAttribs,a=e.defaultCellWidth,l=e.getColMinWidth;return i.createElement("colgroup",null,o.map((function(e,t){var o=Number(e[Ub.COL_WIDTH])||a||100,s=t===r?o+n:o,u=l?l(t):0;return i.createElement("col",{width:Math.max(s,30,u),key:t})})))},t}os(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=_w(this.props,"table"),n=_w(e,"table");return!ef(n,t)},n.componentDidMount=function(){this.bindEvents()},n.componentWillUnmount=function(){this.stuntRef&&this.stuntRef.contentWindow&&this.stuntRef.contentWindow.removeEventListener("resize",this.requestIdleHandleContentResize)},n.render=function(){var e=this;return i.createElement("table",{className:"ace-table",ref:this.props.setTableRef,"data-ace-table-col-widths":this.props.tableColsWidth},this.renderColGroup(),i.createElement("tbody",{ref:this.props.setTbodyRef},this.renderRows()),i.createElement("iframe",{src:"//about:blank",frameBorder:"0",ref:function(t){e.stuntRef=t},className:"tb-scrollable-stunt"}))},t}(i.Component),qw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const Jw=e=>{let t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return i.createElement("svg",qw({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},t),i.createElement("title",null,"新建"),i.createElement("path",{d:"M5.25 5.25V.5a.5.5 0 0 1 .5-.5h.5a.5.5 0 0 1 .5.5v4.75h4.75a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H6.75v4.75a.5.5 0 0 1-.5.5h-.5a.5.5 0 0 1-.5-.5V6.75H.5a.5.5 0 0 1-.5-.5v-.5a.5.5 0 0 1 .5-.5h4.75z",fill:"#424E5D",fillRule:"evenodd"}))};var $w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const eI=e=>{let t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return i.createElement("svg",$w({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.8 4.5a.8.8 0 0 0-.8.8V6H4.64c-.224 0-.336 0-.422.044a.4.4 0 0 0-.174.174C4 6.304 4 6.416 4 6.64v.22c0 .224 0 .336.044.422a.4.4 0 0 0 .174.174c.086.044.198.044.422.044H6v11.2a.8.8 0 0 0 .8.8h10.4a.8.8 0 0 0 .8-.8V7.5h1.36c.224 0 .336 0 .422-.044a.4.4 0 0 0 .174-.174C20 7.196 20 7.084 20 6.86v-.22c0-.224 0-.336-.044-.422a.4.4 0 0 0-.174-.174C19.696 6 19.584 6 19.36 6H15v-.7a.8.8 0 0 0-.8-.8H9.8zm-2.3 3h9V18h-9V7.5zm2 2.4c0-.22.18-.4.4-.4h.7c.22 0 .4.18.4.4v5.7a.4.4 0 0 1-.4.4h-.7a.4.4 0 0 1-.4-.4V9.9zm3.5 0c0-.22.18-.4.4-.4h.7c.22 0 .4.18.4.4v5.7a.4.4 0 0 1-.4.4h-.7a.4.4 0 0 1-.4-.4V9.9z",fill:"#2B2F36"}))};const tI=function(e){function t(t){var n=e.call(this,t)||this;return n.tableWrapperWidth=Lc()(n.props.tableWrapper()).outerWidth(),n.focusEditor=function(){n.context.innerZoneEditor.focus()},n.handleAddColClick=function(e){e.stopPropagation(),n.isPerformingDragMutation()||n.props.addColAtIndex({index:n.addColIndex})},n.handleAddColMouseEnter=function(){n.isPerformingDragMutation()||n.props.setHighlightColumn(n.addColIndex-1)},n.handleAddColMouseLeave=function(){n.props.setHighlightColumn(null)},n.handleRemoveColRowClick=function(e){e.stopPropagation(),n.isPerformingDragMutation()||n.props.deleteSelectedZones(!0,(function(){setTimeout(n.focusEditor)}))},n.handleAddRowClick=function(e){e.preventDefault(),n.isPerformingDragMutation()||n.props.addRowAtIndex({index:n.addRowIndex,cb:n.focusEditor})},n.handleAddRowMouseEnter=function(){n.isPerformingDragMutation()||n.props.setHighlightRow(n.addRowIndex-1)},n.handleAddRowMouseLeave=function(){n.props.setHighlightRow(null)},n.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation()},n.isPerformingDragMutation=function(){return n.state.isAddingRows||n.state.isAddingCols},n.state={isAddingRows:!1,isAddingCols:!1,addingRowsStartY:-1,addingRowsStartIndex:-1,addingColsStartX:-1,addingColsStartIndex:-1,addRowVisible:!1,addColVisible:!1},n}os(t,e);var n=t.prototype;return n.calcColsPosition=function(){var e=this.props,t=e.selectedColumns,n=e.isSelectAll,r=e.colWidths,i=e.scrollLeft,o=e.selectType;if(!n&&t.length&&o!==Gy){var a,l=qy(t),s=(a=t,Math.min.apply(Math,hs(a))),u=Lc()(this.props.tableWrapper()).offset(),c=u&&u.top,d=r.slice(0,s).reduce((function(e,t){return e+=t}),0),f=(r.slice(0,l+1).reduce((function(e,t){return e+=t}),0)+d)/2-i;if(this.tableWrapperWidth&&f+28>=this.tableWrapperWidth)return{left:"auto",right:0,transform:"translateX(0)"};return c&&(c-=40)<50?{left:f,top:-(c=34)}:{left:f}}},n.calcRowsPosition=function(){var e=this.props,t=e.selectedRows,n=e.isSelectAll,r=e.rowHeights,i=e.selectType;if(!n&&t.length&&i!==Gy){var o=Math.max.apply(Math,hs(t)),a=Math.min.apply(Math,hs(t)),l=(r.slice(0,a).reduce((function(e,t){return e+=t}),0)+r.slice(0,o+1).reduce((function(e,t){return e+=t}),0))/2,s=Lc()(this.props.tableWrapper()).find("tr")[o],u=Lc()(s).offset(),c=u&&u.left||Lc()(s).position().left;return{left:-1*(c=c<=50?30:50),top:l}}},Object.defineProperty(n,"addRowIndex",{get:function(){return qy(this.props.selectedRows)+1},enumerable:!1,configurable:!0}),Object.defineProperty(n,"addColIndex",{get:function(){return qy(this.props.selectedColumns)+1},enumerable:!1,configurable:!0}),n.componentWillUnmount=function(){Lc()(document).off("mouseup.ace-table"),Lc()(document).off("mousemove.ace-table")},n.render=function(){var e=this.calcColsPosition(),t=this.calcRowsPosition();return i.createElement("span",{onMouseDown:this.handleMouseDown},i.createElement("span",{className:rp()("ace-table-row-toolbar",{"ace-table-hovering-add":this.props.hoveringRowAdd,"ace-table-is-adding":this.state.isAddingRows}),style:t&&as({display:"inline-block",opacity:1},t)},i.createElement("button",{type:"button",className:"ace-table-remove-action",onClick:this.handleRemoveColRowClick,contentEditable:!1},i.createElement(eI,null)),i.createElement("button",{type:"button",className:"ace-table-add-action",onClick:this.handleAddRowClick,onMouseEnter:this.handleAddRowMouseEnter,onMouseLeave:this.handleAddRowMouseLeave,contentEditable:!1},i.createElement(Jw,null))),i.createElement("span",{className:rp()("ace-table-col-toolbar",{"ace-table-hovering-add":this.props.hoveringColAdd,"ace-table-is-adding":this.state.isAddingCols}),style:e?as({display:"inline-block",opacity:1},e):void 0},i.createElement("button",{type:"button",className:"ace-table-remove-action",onClick:this.handleRemoveColRowClick,contentEditable:!1},i.createElement(eI,null)),i.createElement("button",{type:"button",className:"ace-table-add-action",onMouseEnter:this.handleAddColMouseEnter,onMouseLeave:this.handleAddColMouseLeave,onClick:this.handleAddColClick,contentEditable:!1},i.createElement(Jw,null))))},t.contextTypes=Yy,t}(i.Component);var nI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={diffX:0,initialWidth:null},t}os(t,e);var n=t.prototype;return n.handleResize=function(e){var t=this.props,n=t.onResize,r=t.onHorzDiff,i=t.colIndex;r&&(e=r(i,e)),n(e),this.setState({diffX:e})},n.handleResizeStart=function(){var e=this.props,t=e.width;(0,e.onResizeStart)(),this.setState({initialWidth:t||0})},n.handleResizeEnd=function(){(0,this.props.onResizeEnd)(this.state.diffX),this.setState({diffX:0,initialWidth:null})},n.getStyle=function(e){var t=e.width,n={width:(t?t+1:1)+"px"};return n.minWidth=n.width=t+"px",n},n.render=function(){var e=this.props,t=e.onSelect,n=e.onMouseDown,r=e.isBeingResized,o=e.isSelected,a=e.partialSelected,l=e.width,s=e.isSelectRowOrCol,u=this.state,c=u.initialWidth,d=u.diffX,f=this.getStyle({initialWidth:c,width:l,diffX:d}),h=rp()("ace-table-col-header",{"ace-table-col-header-selected":s&&o,"ace-table-col-header-partial-selected":!s&&a});return i.createElement(Gw,{htmlTag:"div",disableHorzResize:!0,disableVertResize:!0,isHorzBeingResized:r,isVertBeingResized:!1,isHorzHovered:!1,isVertHovered:!1,style:f,className:h},i.createElement("button",{type:"button",className:"dmc-button ace-table-col-select hpx-button",onClick:t,onMouseDown:n},i.createElement("span",{className:"drag-handler drag-handler-horizontal"})),i.createElement("div",{className:"ace-table-col-insert"}))},ss([Ep],t.prototype,"handleResize",null),ss([Ep],t.prototype,"handleResizeStart",null),ss([Ep],t.prototype,"handleResizeEnd",null),ss([Ep],t.prototype,"getStyle",null),t}(i.PureComponent);const rI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}os(t,e);var n=t.prototype;return n.renderColumns=function(){var e=this.props,t=e.columnWidths,n=e.selectedColumns,r=e.onSelect,o=e.onMouseDown,a=e.onMouseEnter,l=e.partialCols,s=e.onResize,u=e.onResizeStart,c=e.onResizeEnd,d=e.onResizeMouseEnter,f=e.onResizeMouseLeave,h=e.disableResize,p=e.isBeingResized,g=e.onHorzDiff,v=e.isSelectRowOrCol;return t.map((function(e,m){return i.createElement(nI,{key:m,colIndex:m,onSelect:function(e){return r(e,m)},onMouseDown:function(e){return o(e,m,!1,!0)},onMouseEnter:function(){return a(m,!1)},onResize:function(e){return s(0,m,e)},onResizeStart:function(){return u(m)},onResizeEnd:function(e){return c(m,e)},onResizeMouseEnter:function(){return d(m,!1)},onResizeMouseLeave:function(){return f(!1)},disableResize:h,isBeingResized:p,onHorzDiff:g,isSelected:n.includes(m),partialSelected:l.includes(m),width:e,colNumber:t.length,isSelectRowOrCol:v})}))},n.render=function(){var e=this.props.scrollLeft;return i.createElement("div",{className:"ace-table-col-headers",style:{}},i.createElement("div",{className:"ace-table-col-headers-inner",style:{transform:"translateX(-"+e+"px)"}},this.renderColumns()))},ss([Ep],t.prototype,"renderColumns",null),t}(i.PureComponent);var iI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={diffY:0,initialHeight:null},t}os(t,e);var n=t.prototype;return n.handleResize=function(e){(0,this.props.onResize)(e),this.setState({diffY:e})},n.handleResizeStart=function(){var e=this.props,t=e.height;(0,e.onResizeStart)(),this.setState({initialHeight:t||0})},n.handleResizeEnd=function(){(0,this.props.onResizeEnd)(this.state.diffY),this.setState({diffY:0,initialHeight:null})},n.getStyle=function(e){var t=e.initialHeight,n=e.height,r=e.diffY,i={height:(n?n+1:1)+"px"};return t?i.minHeight=i.height=Math.max(t+r,40)+"px":n&&(i.minHeight=i.height=Math.max(n,40)+"px"),i},n.render=function(){var e=this.props,t=e.onSelect,n=e.onMouseDown,r=e.isBeingResized,o=e.isSelected,a=e.partialSelected,l=e.height,s=e.isSelectRowOrCol,u=this.state,c=u.initialHeight,d=u.diffY,f=this.getStyle({initialHeight:c,height:l,diffY:d}),h=rp()("ace-table-row-header",{"ace-table-row-header-selected":s&&o,"ace-table-row-header-partial-selected":!s&&a});return i.createElement(Gw,{htmlTag:"div",disableHorzResize:!0,disableVertResize:!0,isHorzBeingResized:!1,isVertBeingResized:r,isHorzHovered:!1,isVertHovered:!1,style:f,className:h},i.createElement("button",{type:"button",className:"dmc-button ace-table-row-select hpx-button",onClick:t,onMouseDown:n}),i.createElement("div",{className:"ace-table-row-insert"}))},ss([Ep],t.prototype,"handleResize",null),ss([Ep],t.prototype,"handleResizeStart",null),ss([Ep],t.prototype,"handleResizeEnd",null),ss([Ep],t.prototype,"getStyle",null),t}(i.PureComponent);const oI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}os(t,e);var n=t.prototype;return n.renderRows=function(){var e=this.props,t=e.onResize,n=e.onResizeStart,r=e.onResizeEnd,o=e.onResizeMouseEnter,a=e.onResizeMouseLeave,l=e.disableResize,s=e.isBeingResized,u=e.rowHeights,c=e.selectedRows,d=e.onSelect,f=e.onMouseDown,h=e.onMouseEnter,p=e.partialRows;return u.map((function(e,g){return i.createElement(iI,{key:g,rowIndex:g,onSelect:function(e){return d(e,g)},onMouseDown:function(e){return f(e,g,!0,!0)},onMouseEnter:function(){return h(g,!0)},onResize:function(e){return t(g,0,e)},onResizeStart:function(){return n(g)},onResizeEnd:function(e){return r(g,e)},onResizeMouseEnter:function(){return o(g,!0)},onResizeMouseLeave:function(){return a(!0)},disableResize:l,isBeingResized:s,isSelected:c.includes(g),partialSelected:p.includes(g),height:e,rowNumber:u.length})}))},n.render=function(){return i.createElement("div",{className:"ace-table-row-headers"},this.renderRows())},ss([Ep],t.prototype,"renderRows",null),t}(i.PureComponent);var aI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const lI=e=>{let t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return i.createElement("svg",aI({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t),i.createElement("title",null,"菜单"),i.createElement("path",{d:"M9 9h6a1 1 0 0 1 0 2H9a1 1 0 0 1 0-2zm0 4h6a1 1 0 0 1 0 2H9a1 1 0 0 1 0-2z",fill:"#FFF",fillRule:"evenodd"}))};const sI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isSelected:!1},t.cancelBubble=function(e){e.preventDefault(),e.stopPropagation()},t.getPopoverContainer=function(){return o.findDOMNode(t._wrapperRef)||document.querySelector(".editor-kit-container")||document.body},t.wrapperRef=function(e){t._wrapperRef=e},t.onToggleSelect=function(e){t.setState({isSelected:e}),t.props.onToggleSelect(e)},t}os(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return t.isSelected!==this.state.isSelected},n.render=function(){var e=this.state.isSelected,n=this.onToggleSelect;return i.createElement("div",{className:rp()(t.prefix+" ace-table-table-header-wrapper",{selected:e}),style:{left:-12},onClick:this.cancelBubble,onMouseDown:this.cancelBubble,onMouseUp:this.cancelBubble,ref:this.wrapperRef},i.createElement("div",{className:"ace-table-table-header"},i.createElement("div",{className:"ace-table-row-insert"}),i.createElement("div",{className:"ace-table-col-insert"})),i.createElement("button",{type:"button",className:"ace-table-table-select hpx-button ace-button",onClick:function(t){n(!e)}},i.createElement(lI,null)))},t.prefix="ace-table-header",t}(i.Component);var uI,cI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return os(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedColumns,n=e.selectedRows,r=e.rowHeights,o=e.onToggleSelect,a=e.colCount,l=e.hoveringRowAdd,s=e.hoveringColAdd,u=e.colsZoneId,c=e.rowCount,d=e.setHighlightRow,f=e.onSelectCol,h=e.onSelectRow,p=e.onMouseDown,g=e.selectType,v=e.hintRowsToDeleteCount,m=e.tableWrapper,b=e.onMouseEnter,y=e.hintColsToDeleteStartIndex,w=e.addColAtIndex,I=e.partialCols,C=e.isDragging,k=e.showLeftShadow,E=e.rowsZoneId,x=e.hintColsToDeleteCount,M=e.leftShadowWidth,S=e.rightShadowWidth,T=e.hintRowsToDeleteStartIndex,A=e.showRightShadow,N=e.isSelectAll,L=e.columnWidths,D=e.partialRows,z=e.handleHorzResize,O=e.handleHorzResizeStart,R=e.handleHorzResizeEnd,_=e.handleVertResize,j=e.handleVertResizeStart,P=e.handleVertResizeEnd,B=e.handleResizeEnter,F=e.handleResizeLeave,H=e.handleHorzDiff,Z=e.onShow,W=e.onHide,U=e.scrollLeft,K=e.isSelectRowOrCol,Y=e.setHighlightColumn,G=e.deleteSelectedZones,V=e.addRowAtIndex,Q=e.hintTableToDelete;return i.createElement("div",null,i.createElement(tI,{tableWrapper:m,addColAtIndex:w,setHighlightColumn:Y,deleteSelectedZones:G,addRowAtIndex:V,setHighlightRow:d,rowCount:c,colCount:a,onShow:Z,onHide:W,hoveringRowAdd:l,hoveringColAdd:s,selectedColumns:t,selectedRows:n,isSelectAll:N,selectType:g,rowsZoneId:E,colsZoneId:u,scrollLeft:U,colWidths:L,rowHeights:r}),i.createElement(sI,{onToggleSelect:o,hintTableToDelete:Q}),i.createElement(rI,{scrollLeft:U,columnWidths:L,selectedColumns:t,hintColsToDeleteStartIndex:y,hintColsToDeleteCount:x,partialCols:I,isDragging:C,showLeftShadow:k,showRightShadow:A,leftShadowWidth:M,rightShadowWidth:S,onSelect:f,onMouseDown:p,onMouseEnter:b,onResizeStart:O,onResize:z,disableResize:!1,isBeingResized:!1,onResizeEnd:R,onResizeMouseEnter:B,onResizeMouseLeave:F,onHorzDiff:H,isSelectRowOrCol:K}),i.createElement(oI,{rowHeights:r,selectedRows:n,onSelect:h,onMouseDown:p,onMouseEnter:b,disableResize:!1,isBeingResized:!1,onResizeStart:j,onResize:_,onResizeEnd:P,onResizeMouseEnter:B,onResizeMouseLeave:F,hintRowsToDeleteStartIndex:T,hintRowsToDeleteCount:v,partialRows:D,isDragging:C}))},t}(i.Component);function dI(e){var t=e.state,n=e.setTableOuterWrapperRef,r=e.handleTableMouseDown,o=e.setTableWrapperRef,a=t.addRemoveIsShown,l=t.isFocused,s=-1!==t.columnBeingResized,u=rp()("ace-table-wrapper-outer",{"ace-table-add-remove-shown":a,"ace-table-is-focused":l,"ace-table-is-resizing":s,"tb-resizing":s});return i.createElement("div",{ref:n,className:u,onMouseDown:r},i.createElement(ha,{style:{position:"absolute",display:"inline-block",width:0,height:0}}),i.createElement("div",{className:"ace-table-wrapper",ref:o},function(e){var t=e.state,n=e.handleScrollableScroll,r=e.handleScrollableResize,o=e.setTableWrapperInnerRef,a=e.getColsZoneId,l=e.getEditor,s=t.customContext,u={onScroll:n,onResize:r,ref:o,className:"ace-table-wrapper-inner",editor:l(),colAttribs:t.colAttribs,customContext:s,colsZoneId:a()};return i.createElement(iw,as({},u),function(e){var t=e.state,n=e.setTableRef,r=e.setTbodyRef,o=e.setCellRef,a=e.handleVertResizeEnd,l=e.horizontalScrollToZone,s=e.handleHorzResize,u=e.handleHorzResizeStart,c=e.handleHorzResizeEnd,d=e.handleVertResizeStart,f=e.handleVertResize,h=e.getTableColsWidth,p=e.handleContentResize,g=t.colIds,v=t.rowIds,m=t.rowAttribs,b=t.colAttribs,y=t.customContext,w=t.selectedCellIds,I=t.rowHeaderHeights,C=t.selectedCellColor,k=t.columnBeingResized,E=t.rowBeingResized,x=t.rowWithBottomBorderHighlighted,M=t.hintRowsToDeleteCount,S=t.hintColsToDeleteCount,T=t.cellAttribs,A=t.tableStyle,N=t.rowBeingResizedHeights,L=t.columnWithRightBorderHighlighted,D=t.horzResizeDiff,z=t.vertResizeDiff,O={colIds:g,rowIds:v,tableStyle:A,rowAttribs:m,colAttribs:b,setTableRef:n,setTbodyRef:r,setCellRef:o,cellAttribs:T,horzResizeDiff:D,vertResizeDiff:z,selectedCellIds:w,rowHeaderHeights:I,customContext:y,columnBeingResized:k,rowBeingResized:E,selectedCellColor:C,hintRowsToDeleteCount:M,hintColsToDeleteCount:S,rowBeingResizedHeights:N,horizontalScrollToZone:l,handleHorzResize:s,handleHorzResizeStart:u,handleHorzResizeEnd:c,handleVertResize:f,handleVertResizeStart:d,handleVertResizeEnd:a,rowWithBottomBorderHighlighted:x,columnWithRightBorderHighlighted:L,table:e,handleContentResize:p,tableColsWidth:h().join(";")};return i.createElement(Xw,as({},O))}(e))}(e),function(e){var t,n=e.state,r=e.getComponentMounted,o=n.isFocused;if(!r()||e.isEditingDisabled()||!o)return null;var a=n.hintColsToDeleteStartIndex,l=n.hintColsToDeleteCount,s=n.selectType,u=n.rowsZoneId,c=n.scrollLeft,d=n.colIds,f=n.colsZoneId,h=n.rowIds,p=n.rowWithBottomBorderHighlighted,g=n.columnWithRightBorderHighlighted,v=n.rowHeaderHeights,m=n.colHeaderWidths,b=n.customContext,y=n.isSelectAll,w=e.getRowCount,I=e.getColCount,C=e.getTableWrapper,k=e.updateCurrentHoverHeader,E=e.deleteSelectedZones,x=e.addRowAtIndex,M=e.setHighlightRow,S=e.addColAtIndex,T=e.deleteTable,A=e.copyTable,N=e.cutTable,L=e.handleSelectCol,D=e.handleSelectRow,z=e.handleHeaderMouseDown,O=e.handleToggleSelectTable,R=e.setHighlightColumn,_=e.handleHorzResize,j=e.handleHorzResizeStart,P=e.handleHorzResizeEnd,B=e.handleVertResize,F=e.handleVertResizeStart,H=e.handleVertResizeEnd,Z=e.handleResizeEnter,W=e.handleResizeLeave,U=e.getTableRectInfo,K=(0,e.getEditor)(),Y=e.getWhollySelectedRegions(),G=Y.entireTable,V=Y.cols,Q=Y.rows,X=e.getPartiallySelectedRegions(),q=X.partialRows,J=X.partialCols,$=0===a&&l===d.length,ee=$?h.length:n.hintRowsToDeleteCount,te=e.getTableScrollWidth(),ne={editor:K,selectType:s,rowsZoneId:u,colsZoneId:f,scrollLeft:c,customContext:b,partialRows:q,partialCols:J,tableTotalWidth:te,addColAtIndex:S,setHighlightColumn:R,deleteSelectedZones:E,addRowAtIndex:x,setHighlightRow:M,hintColsToDeleteCount:l,hintRowsToDeleteCount:ee,handleHorzResize:_,handleHorzResizeStart:j,handleHorzResizeEnd:P,handleVertResize:B,handleVertResizeStart:F,handleVertResizeEnd:H,handleResizeEnter:Z,handleResizeLeave:W,selectedColumns:V,selectedRows:Q,onCopyTable:A,onCutTable:N,rowCount:w(),colCount:I(),isSelectAll:y&&G,tableWrapper:C,rowHeights:v,onToggleSelect:O,hintTableToDelete:$,onDeleteTable:T,columnWidths:m,onSelectCol:L,onSelectRow:D,onMouseDown:z,onMouseEnter:k,hoveringRowAdd:null!==p,hoveringColAdd:null!==g,tableRectInfo:U(),tableRef:e.getTable()};return i.createElement("div",{contentEditable:!1,className:rp()("ace-table-toolbars",(t={},t[Vy]=!0,t[Yb]=!0,t))},i.createElement(cI,as({},ne)))}(e)))}!function(e){e[e.USER=0]="USER",e[e.DOC=1]="DOC",e[e.SHEET=3]="SHEET",e[e.BITABLE=8]="BITABLE",e[e.MINDNOTE=11]="MINDNOTE",e[e.BOX=12]="BOX",e[e.WIKI=16]="WIKI",e[e.DOCX=22]="DOCX"}(uI||(uI={}));var fI,hI,pI="AT_USER_BLOCK",gI="mentionBlock",vI=["@","＠"],mI="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMgM0MzIDIuNDQ3NzIgMy40NDc3MiAyIDQgMkgxNkMxOC43NjE0IDIgMjEgNC4yMzg1OCAyMSA3VjIxQzIxIDIxLjU1MjMgMjAuNTUyMyAyMiAyMCAyMkg4QzUuMjM4NTggMjIgMyAxOS43NjE0IDMgMTdWM1oiIGZpbGw9IiMzMzcwRkYiLz4KPHBhdGggZD0iTTcgOC43QzcgOC4zMTM0IDcuMzEzNCA4IDcuNyA4SDE2LjNDMTYuNjg2NiA4IDE3IDguMzEzNCAxNyA4LjdDMTcgOS4wODY2IDE2LjY4NjYgOS40IDE2LjMgOS40SDcuN0M3LjMxMzQgOS40IDcgOS4wODY2IDcgOC43WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTcgMTIuMUM3IDExLjcxMzQgNy4zMTM0IDExLjQgNy43IDExLjRIMTYuM0MxNi42ODY2IDExLjQgMTcgMTEuNzEzNCAxNyAxMi4xQzE3IDEyLjQ4NjYgMTYuNjg2NiAxMi44IDE2LjMgMTIuOEg3LjdDNy4zMTM0IDEyLjggNyAxMi40ODY2IDcgMTIuMVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik03IDE1LjVDNyAxNS4xMTM0IDcuMzEzNCAxNC44IDcuNyAxNC44SDEyLjNDMTIuNjg2NiAxNC44IDEzIDE1LjExMzQgMTMgMTUuNUMxMyAxNS44ODY2IDEyLjY4NjYgMTYuMiAxMi4zIDE2LjJINy43QzcuMzEzNCAxNi4yIDcgMTUuODg2NiA3IDE1LjVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",bI="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQgM0gxNi41OTQ2QzE3LjUyNSAzIDE4LjQwMDggMy4zNTQ3NyAxOS4wMzM1IDMuOTYwNjJDMTkuNjYzMiA0LjU2MzY2IDIwIDUuMzYyNjMgMjAgNi4xNzY0N1YyMUg3LjQwNTQxQzYuNDc0OTggMjEgNS41OTkxNSAyMC42NDUyIDQuOTY2NSAyMC4wMzk0QzQuMzM2NzkgMTkuNDM2MyA0IDE4LjYzNzQgNCAxNy44MjM1VjNaTTMgMUMyLjQ0NzcyIDEgMiAxLjQ0NzcyIDIgMlYxNy44MjM1QzIgMTkuMTk2NCAyLjU2OTUgMjAuNTEzMSAzLjU4MzIxIDIxLjQ4MzhDNC41OTY5MiAyMi40NTQ2IDUuOTcxOCAyMyA3LjQwNTQxIDIzSDIxQzIxLjU1MjMgMjMgMjIgMjIuNTUyMyAyMiAyMlY2LjE3NjQ3QzIyIDQuODAzNTkgMjEuNDMwNSAzLjQ4NjkzIDIwLjQxNjggMi41MTYxNUMxOS40MDMxIDEuNTQ1MzggMTguMDI4MiAxIDE2LjU5NDYgMUgzWiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNNi43NSA4QzYuNzUgNy40NDc3MiA3LjE5NzcyIDcgNy43NSA3SDE2LjI1QzE2LjgwMjMgNyAxNy4yNSA3LjQ0NzcyIDE3LjI1IDhDMTcuMjUgOC41NTIyOCAxNi44MDIzIDkgMTYuMjUgOUg3Ljc1QzcuMTk3NzIgOSA2Ljc1IDguNTUyMjggNi43NSA4WiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNNi43NSAxMkM2Ljc1IDExLjQ0NzcgNy4xOTc3MiAxMSA3Ljc1IDExSDE2LjI1QzE2LjgwMjMgMTEgMTcuMjUgMTEuNDQ3NyAxNy4yNSAxMkMxNy4yNSAxMi41NTIzIDE2LjgwMjMgMTMgMTYuMjUgMTNINy43NUM3LjE5NzcyIDEzIDYuNzUgMTIuNTUyMyA2Ljc1IDEyWiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNNi43NSAxNkM2Ljc1IDE1LjQ0NzcgNy4xOTc3MiAxNSA3Ljc1IDE1SDEyLjI1QzEyLjgwMjMgMTUgMTMuMjUgMTUuNDQ3NyAxMy4yNSAxNkMxMy4yNSAxNi41NTIzIDEyLjgwMjMgMTcgMTIuMjUgMTdINy43NUM3LjE5NzcyIDE3IDYuNzUgMTYuNTUyMyA2Ljc1IDE2WiIgZmlsbD0iIzMzNzBGRiIvPgo8L3N2Zz4K",yI=((fI={})[uI.DOC]={at:bI,suggest:mI},fI[uI.SHEET]={at:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQgM0gxNi41OTQ2QzE3LjUyNSAzIDE4LjQwMDggMy4zNTQ3NyAxOS4wMzM1IDMuOTYwNjJDMTkuNjYzMiA0LjU2MzY2IDIwIDUuMzYyNjMgMjAgNi4xNzY0N1YyMUg3LjQwNTQxQzYuNDc0OTggMjEgNS41OTkxNSAyMC42NDUyIDQuOTY2NSAyMC4wMzk0QzQuMzM2NzkgMTkuNDM2MyA0IDE4LjYzNzQgNCAxNy44MjM1VjNaTTMgMUMyLjQ0NzcyIDEgMiAxLjQ0NzcyIDIgMlYxNy44MjM1QzIgMTkuMTk2NCAyLjU2OTUgMjAuNTEzMSAzLjU4MzIxIDIxLjQ4MzhDNC41OTY5MiAyMi40NTQ2IDUuOTcxOCAyMyA3LjQwNTQxIDIzSDIxQzIxLjU1MjMgMjMgMjIgMjIuNTUyMyAyMiAyMlY2LjE3NjQ3QzIyIDQuODAzNTkgMjEuNDMwNSAzLjQ4NjkzIDIwLjQxNjggMi41MTYxNUMxOS40MDMxIDEuNTQ1MzggMTguMDI4MiAxIDE2LjU5NDYgMUgzWiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNNi41IDYuNDk5OThIMTUuOEMxNi43Mzg5IDYuNDk5OTggMTcuNSA3LjI2MTA5IDE3LjUgOC4xOTk5OFYxNy41SDguMkM3LjI2MTEyIDE3LjUgNi41IDE2LjczODkgNi41IDE1LjhWNi40OTk5OFpNOC41IDguNDk5OThWMTUuNUgxNS41VjguNDk5OThIOC41WiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNMTIuOSAxMS4xVjhIMTEuMVYxMS4xSDhWMTIuOUgxMS4xVjE2SDEyLjlWMTIuOUgxNlYxMS4xSDEyLjlaIiBmaWxsPSIjMzM3MEZGIi8+Cjwvc3ZnPgo=",suggest:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMgM0MzIDIuNDQ3NzIgMy40NDc3MiAyIDQgMkgxNkMxOC43NjE0IDIgMjEgNC4yMzg1OCAyMSA3VjIxQzIxIDIxLjU1MjMgMjAuNTUyMyAyMiAyMCAyMkg4QzUuMjM4NTggMjIgMyAxOS43NjE0IDMgMTdWM1oiIGZpbGw9IiMzMkQxMEEiLz4KPHBhdGggZD0iTTE1LjI5OTkgNi43OTk4NUg2LjU5OTg1VjE0Ljk5OTlDNi41OTk4NSAxNi4xNTk2IDcuNTQwMDYgMTcuMDk5OCA4LjY5OTg1IDE3LjA5OThIMTcuMzk5OVY4Ljg5OTg1QzE3LjM5OTkgNy43NDAwNSAxNi40NTk3IDYuNzk5ODUgMTUuMjk5OSA2Ljc5OTg1Wk03Ljk5OTg1IDExLjI0OTdWOC4xOTk4NUgxNS4yOTk5QzE1LjY4NjUgOC4xOTk4NSAxNS45OTk5IDguNTEzMjUgMTUuOTk5OSA4Ljg5OTg1VjE1LjY5OTlIMTIuNjk5NlYxMi42NDk3SDE1Ljk5OThWMTEuMjQ5N0gxMi42OTk2VjguMTk5ODdIMTEuMjk5NlYxMS4yNDk3SDcuOTk5ODVaTTcuOTk5ODUgMTIuNjQ5N0gxMS4yOTk2VjE1LjY5OTlIOC42OTk4NUM4LjMxMzI1IDE1LjY5OTkgNy45OTk4NSAxNS4zODY0IDcuOTk5ODUgMTQuOTk5OVYxMi42NDk3WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="},fI[uI.MINDNOTE]={at:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQgMy4wMDAwNkgxNi41OTQ2QzE3LjUyNSAzLjAwMDA2IDE4LjQwMDggMy4zNTQ4MyAxOS4wMzM1IDMuOTYwNjlDMTkuNjYzMiA0LjU2MzcyIDIwIDUuMzYyNjkgMjAgNi4xNzY1M1YyMS4wMDAxSDcuNDA1NDFDNi40NzQ5OCAyMS4wMDAxIDUuNTk5MTUgMjAuNjQ1MyA0Ljk2NjUgMjAuMDM5NEM0LjMzNjc5IDE5LjQzNjQgNCAxOC42Mzc0IDQgMTcuODIzNlYzLjAwMDA2Wk0zIDEuMDAwMDZDMi40NDc3MiAxLjAwMDA2IDIgMS40NDc3OCAyIDIuMDAwMDZWMTcuODIzNkMyIDE5LjE5NjUgMi41Njk1IDIwLjUxMzEgMy41ODMyMSAyMS40ODM5QzQuNTk2OTIgMjIuNDU0NyA1Ljk3MTggMjMuMDAwMSA3LjQwNTQxIDIzLjAwMDFIMjFDMjEuNTUyMyAyMy4wMDAxIDIyIDIyLjU1MjMgMjIgMjIuMDAwMVY2LjE3NjUzQzIyIDQuODAzNjUgMjEuNDMwNSAzLjQ4Njk5IDIwLjQxNjggMi41MTYyMUMxOS40MDMxIDEuNTQ1NDQgMTguMDI4MiAxLjAwMDA2IDE2LjU5NDYgMS4wMDAwNkgzWiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNMTIgMTJDMTIgMTEuNDQ3NyAxMi40NDc3IDExIDEzIDExSDE2QzE2LjU1MjMgMTEgMTcgMTEuNDQ3NyAxNyAxMkMxNyAxMi41NTIzIDE2LjU1MjMgMTMgMTYgMTNIMTNDMTIuNDQ3NyAxMyAxMiAxMi41NTIzIDEyIDEyWiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNMTIuNDkwOCAxNS4yNjg2QzExLjc3NSAxNS4yNjg2IDExLjExMzggMTQuODg2IDEwLjc1NyAxNC4yNjU0TDkuMTU4OTggMTEuNDg1OUM4Ljk4MDU4IDExLjE3NTcgOC42NDk5NiAxMC45ODQ0IDguMjkyMDQgMTAuOTg0NEg2Ljc5OTgzQzYuMjQ3NTUgMTAuOTg0NCA1Ljc5OTgzIDExLjQzMjEgNS43OTk4MyAxMS45ODQ0QzUuNzk5ODMgMTIuNTM2NyA2LjI0NzU1IDEyLjk4NDQgNi43OTk4MyAxMi45ODQ0SDcuNzEzNDhMOS4wMjMxMSAxNS4yNjIzQzkuNzM2NjkgMTYuNTAzNCAxMS4wNTkyIDE3LjI2ODYgMTIuNDkwOCAxNy4yNjg2SDE2LjI1NTFDMTYuODA3NCAxNy4yNjg2IDE3LjI1NTEgMTYuODIwOCAxNy4yNTUxIDE2LjI2ODZDMTcuMjU1MSAxNS43MTYzIDE2LjgwNzQgMTUuMjY4NiAxNi4yNTUxIDE1LjI2ODZIMTIuNDkwOFoiIGZpbGw9IiMzMzcwRkYiLz4KPHBhdGggZD0iTTEyLjQ5MDggOC42OTk3MkMxMS43NzUgOC42OTk3MiAxMS4xMTM4IDkuMDgyMjkgMTAuNzU3IDkuNzAyODZMOS4xNTg5OCAxMi40ODIzQzguOTgwNTggMTIuNzkyNiA4LjY0OTk2IDEyLjk4MzkgOC4yOTIwNCAxMi45ODM5TDYuNzk5ODMgMTIuOTg0NEM2LjI0NzU1IDEyLjk4NDQgNS43OTk4MyAxMi41MzY3IDUuNzk5ODMgMTEuOTg0NEM1Ljc5OTgzIDExLjQzMjEgNi4yNDc1NSAxMC45ODQ0IDYuNzk5ODMgMTAuOTg0NEw3LjcxMzQ4IDEwLjk4MzlMOS4wMjMxMSA4LjcwNjAxQzkuNzM2NjkgNy40NjQ4NiAxMS4wNTkyIDYuNjk5NzIgMTIuNDkwOCA2LjY5OTcySDE2LjI1NTFDMTYuODA3NCA2LjY5OTcyIDE3LjI1NTEgNy4xNDc0MyAxNy4yNTUxIDcuNjk5NzJDMTcuMjU1MSA4LjI1MiAxNi44MDc0IDguNjk5NzIgMTYuMjU1MSA4LjY5OTcySDEyLjQ5MDhaIiBmaWxsPSIjMzM3MEZGIi8+Cjwvc3ZnPgo=",suggest:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMgM0MzIDIuNDQ3NzIgMy40NDc3MiAyIDQgMkgxNkMxOC43NjE0IDIgMjEgNC4yMzg1OCAyMSA3VjIxQzIxIDIxLjU1MjMgMjAuNTUyMyAyMiAyMCAyMkg4QzUuMjM4NTggMjIgMyAxOS43NjE0IDMgMTdWM1oiIGZpbGw9IiMwQ0FGRUIiLz4KPHBhdGggZD0iTTEyLjQ5MDcgMTUuNTY4NEMxMS42Njc1IDE1LjU2ODQgMTAuOTA3MSAxNS4xMjg1IDEwLjQ5NjggMTQuNDE0OEw4Ljg5ODggMTEuNjM1M0M4Ljc3MzkyIDExLjQxODEgOC41NDI0OCAxMS4yODQyIDguMjkxOTQgMTEuMjg0Mkg2Ljc5OTczQzYuNDEzMTMgMTEuMjg0MiA2LjA5OTczIDExLjU5NzYgNi4wOTk3MyAxMS45ODQyQzYuMDk5NzMgMTIuMzcwOCA2LjQxMzEzIDEyLjY4NDIgNi43OTk3MyAxMi42ODQySDcuODg2OTVMOS4yODMwOSAxNS4xMTI2QzkuOTQzMTUgMTYuMjYwNyAxMS4xNjY1IDE2Ljk2ODQgMTIuNDkwNyAxNi45Njg0SDE2LjI1NUMxNi42NDE2IDE2Ljk2ODQgMTYuOTU1IDE2LjY1NSAxNi45NTUgMTYuMjY4NEMxNi45NTUgMTUuODgxOCAxNi42NDE2IDE1LjU2ODQgMTYuMjU1IDE1LjU2ODRIMTIuNDkwN1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xMi40OTA3IDguMzk5NTdDMTEuNjY3NSA4LjM5OTU3IDEwLjkwNzEgOC44Mzk1MyAxMC40OTY4IDkuNTUzMTlMOC44OTg4IDEyLjMzMjdDOC43NzM5MiAxMi41NDk5IDguNTQyNDggMTIuNjgzOCA4LjI5MTk0IDEyLjY4MzhMNi43OTk3MyAxMi42ODQyQzYuNDEzMTMgMTIuNjg0MiA2LjA5OTczIDEyLjM3MDggNi4wOTk3MyAxMS45ODQyQzYuMDk5NzMgMTEuNTk3NiA2LjQxMzEzIDExLjI4NDIgNi43OTk3MyAxMS4yODQyTDcuODg2OTUgMTEuMjgzOEw5LjI4MzA5IDguODU1NEM5Ljk0MzE1IDcuNzA3MzMgMTEuMTY2NSA2Ljk5OTU3IDEyLjQ5MDcgNi45OTk1N0gxNi4yNTVDMTYuNjQxNiA2Ljk5OTU3IDE2Ljk1NSA3LjMxMjk3IDE2Ljk1NSA3LjY5OTU3QzE2Ljk1NSA4LjA4NjE3IDE2LjY0MTYgOC4zOTk1NyAxNi4yNTUgOC4zOTk1N0gxMi40OTA3WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTExLjk1MyAxMS45ODRDMTEuOTUzIDExLjU5NzQgMTIuMjY2NCAxMS4yODQgMTIuNjUzIDExLjI4NEgxNi4yNTNDMTYuNjM5NiAxMS4yODQgMTYuOTUzIDExLjU5NzQgMTYuOTUzIDExLjk4NEMxNi45NTMgMTIuMzcwNiAxNi42Mzk2IDEyLjY4NCAxNi4yNTMgMTIuNjg0SDEyLjY1M0MxMi4yNjY0IDEyLjY4NCAxMS45NTMgMTIuMzcwNiAxMS45NTMgMTEuOTg0WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="},fI[uI.BITABLE]={at:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQgMy4wMDAwNkgxNi41OTQ2QzE3LjUyNSAzLjAwMDA2IDE4LjQwMDggMy4zNTQ4MyAxOS4wMzM1IDMuOTYwNjlDMTkuNjYzMiA0LjU2MzcyIDIwIDUuMzYyNjkgMjAgNi4xNzY1M1YyMS4wMDAxSDcuNDA1NDFDNi40NzQ5OCAyMS4wMDAxIDUuNTk5MTUgMjAuNjQ1MyA0Ljk2NjUgMjAuMDM5NEM0LjMzNjc5IDE5LjQzNjQgNCAxOC42Mzc0IDQgMTcuODIzNlYzLjAwMDA2Wk0zIDEuMDAwMDZDMi40NDc3MiAxLjAwMDA2IDIgMS40NDc3OCAyIDIuMDAwMDZWMTcuODIzNkMyIDE5LjE5NjUgMi41Njk1IDIwLjUxMzEgMy41ODMyMSAyMS40ODM5QzQuNTk2OTIgMjIuNDU0NyA1Ljk3MTggMjMuMDAwMSA3LjQwNTQxIDIzLjAwMDFIMjFDMjEuNTUyMyAyMy4wMDAxIDIyIDIyLjU1MjMgMjIgMjIuMDAwMVY2LjE3NjUzQzIyIDQuODAzNjUgMjEuNDMwNSAzLjQ4Njk5IDIwLjQxNjggMi41MTYyMUMxOS40MDMxIDEuNTQ1NDQgMTguMDI4MiAxLjAwMDA2IDE2LjU5NDYgMS4wMDAwNkgzWiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNNi4yNSA4LjAwMDAxQzYuMjUgNy40NDc3MiA2LjY5NzcyIDcuMDAwMDEgNy4yNSA3LjAwMDAxSDguNzVDOS4zMDIyOCA3LjAwMDAxIDkuNzUgNy40NDc3MiA5Ljc1IDguMDAwMDFDOS43NSA4LjU1MjI5IDkuMzAyMjggOS4wMDAwMSA4Ljc1IDkuMDAwMDFINy4yNUM2LjY5NzcyIDkuMDAwMDEgNi4yNSA4LjU1MjI5IDYuMjUgOC4wMDAwMVoiIGZpbGw9IiMzMzcwRkYiLz4KPHBhdGggZD0iTTYuMjUgMTJDNi4yNSAxMS40NDc3IDYuNjk3NzIgMTEgNy4yNSAxMUg4Ljc1QzkuMzAyMjggMTEgOS43NSAxMS40NDc3IDkuNzUgMTJDOS43NSAxMi41NTIzIDkuMzAyMjggMTMgOC43NSAxM0g3LjI1QzYuNjk3NzIgMTMgNi4yNSAxMi41NTIzIDYuMjUgMTJaIiBmaWxsPSIjMzM3MEZGIi8+CjxwYXRoIGQ9Ik02LjI1IDE2QzYuMjUgMTUuNDQ3NyA2LjY5NzcyIDE1IDcuMjUgMTVIOC43NUM5LjMwMjI4IDE1IDkuNzUgMTUuNDQ3NyA5Ljc1IDE2QzkuNzUgMTYuNTUyMyA5LjMwMjI4IDE3IDguNzUgMTdINy4yNUM2LjY5NzcyIDE3IDYuMjUgMTYuNTUyMyA2LjI1IDE2WiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNMTEuMjUgOC4wMDAwMUMxMS4yNSA3LjQ0NzcyIDExLjY5NzcgNy4wMDAwMSAxMi4yNSA3LjAwMDAxSDE2Ljc1QzE3LjMwMjMgNy4wMDAwMSAxNy43NSA3LjQ0NzcyIDE3Ljc1IDguMDAwMDFDMTcuNzUgOC41NTIyOSAxNy4zMDIzIDkuMDAwMDEgMTYuNzUgOS4wMDAwMUgxMi4yNUMxMS42OTc3IDkuMDAwMDEgMTEuMjUgOC41NTIyOSAxMS4yNSA4LjAwMDAxWiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNMTEuMjUgMTJDMTEuMjUgMTEuNDQ3NyAxMS42OTc3IDExIDEyLjI1IDExSDE2Ljc1QzE3LjMwMjMgMTEgMTcuNzUgMTEuNDQ3NyAxNy43NSAxMkMxNy43NSAxMi41NTIzIDE3LjMwMjMgMTMgMTYuNzUgMTNIMTIuMjVDMTEuNjk3NyAxMyAxMS4yNSAxMi41NTIzIDExLjI1IDEyWiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNMTEuMjUgMTZDMTEuMjUgMTUuNDQ3NyAxMS42OTc3IDE1IDEyLjI1IDE1SDE2Ljc1QzE3LjMwMjMgMTUgMTcuNzUgMTUuNDQ3NyAxNy43NSAxNkMxNy43NSAxNi41NTIzIDE3LjMwMjMgMTcgMTYuNzUgMTdIMTIuMjVDMTEuNjk3NyAxNyAxMS4yNSAxNi41NTIzIDExLjI1IDE2WiIgZmlsbD0iIzMzNzBGRiIvPgo8L3N2Zz4K",suggest:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMgM0MzIDIuNDQ3NzIgMy40NDc3MiAyIDQgMkgxNkMxOC43NjE0IDIgMjEgNC4yMzg1OCAyMSA3VjIxQzIxIDIxLjU1MjMgMjAuNTUyMyAyMiAyMCAyMkg4QzUuMjM4NTggMjIgMyAxOS43NjE0IDMgMTdWM1oiIGZpbGw9IiNBNDVFRUIiLz4KPHBhdGggZD0iTTYuNzUgOC4wOTk0MUM2Ljc1IDcuNzEyODEgNy4wNjM0IDcuMzk5NDEgNy40NSA3LjM5OTQxSDkuMDVDOS40MzY2IDcuMzk5NDEgOS43NSA3LjcxMjgxIDkuNzUgOC4wOTk0MUM5Ljc1IDguNDg2MDEgOS40MzY2IDguNzk5NDEgOS4wNSA4Ljc5OTQxSDcuNDVDNy4wNjM0IDguNzk5NDEgNi43NSA4LjQ4NjAxIDYuNzUgOC4wOTk0MVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik02Ljc1IDExLjk5OTRDNi43NSAxMS42MTI4IDcuMDYzNCAxMS4yOTk0IDcuNDUgMTEuMjk5NEg5LjA1QzkuNDM2NiAxMS4yOTk0IDkuNzUgMTEuNjEyOCA5Ljc1IDExLjk5OTRDOS43NSAxMi4zODYgOS40MzY2IDEyLjY5OTQgOS4wNSAxMi42OTk0SDcuNDVDNy4wNjM0IDEyLjY5OTQgNi43NSAxMi4zODYgNi43NSAxMS45OTk0WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTYuNzUgMTUuODk5NEM2Ljc1IDE1LjUxMjggNy4wNjM0IDE1LjE5OTQgNy40NSAxNS4xOTk0SDkuMDVDOS40MzY2IDE1LjE5OTQgOS43NSAxNS41MTI4IDkuNzUgMTUuODk5NEM5Ljc1IDE2LjI4NiA5LjQzNjYgMTYuNTk5NCA5LjA1IDE2LjU5OTRINy40NUM3LjA2MzQgMTYuNTk5NCA2Ljc1IDE2LjI4NiA2Ljc1IDE1Ljg5OTRaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTYuNjE1NCA3LjM5OTQxSDEyLjM4NDZDMTIuMDM0MSA3LjM5OTQxIDExLjc1IDcuNzEyODEgMTEuNzUgOC4wOTk0MUMxMS43NSA4LjQ4NjAxIDEyLjAzNDEgOC43OTk0MSAxMi4zODQ2IDguNzk5NDFIMTYuNjE1NEMxNi45NjU5IDguNzk5NDEgMTcuMjUgOC40ODYwMSAxNy4yNSA4LjA5OTQxQzE3LjI1IDcuNzEyODEgMTYuOTY1OSA3LjM5OTQxIDE2LjYxNTQgNy4zOTk0MVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xNi42MTU0IDExLjI5OTRIMTIuMzg0NkMxMi4wMzQxIDExLjI5OTQgMTEuNzUgMTEuNjEyOCAxMS43NSAxMS45OTk0QzExLjc1IDEyLjM4NiAxMi4wMzQxIDEyLjY5OTQgMTIuMzg0NiAxMi42OTk0SDE2LjYxNTRDMTYuOTY1OSAxMi42OTk0IDE3LjI1IDEyLjM4NiAxNy4yNSAxMS45OTk0QzE3LjI1IDExLjYxMjggMTYuOTY1OSAxMS4yOTk0IDE2LjYxNTQgMTEuMjk5NFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xNi42MTU0IDE1LjE5OTRIMTIuMzg0NkMxMi4wMzQxIDE1LjE5OTQgMTEuNzUgMTUuNTEyOCAxMS43NSAxNS44OTk0QzExLjc1IDE2LjI4NiAxMi4wMzQxIDE2LjU5OTQgMTIuMzg0NiAxNi41OTk0SDE2LjYxNTRDMTYuOTY1OSAxNi41OTk0IDE3LjI1IDE2LjI4NiAxNy4yNSAxNS44OTk0QzE3LjI1IDE1LjUxMjggMTYuOTY1OSAxNS4xOTk0IDE2LjYxNTQgMTUuMTk5NFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="},fI[uI.WIKI]={at:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQgM0gxNi41OTQ2QzE3LjUyNSAzIDE4LjQwMDggMy4zNTQ3NyAxOS4wMzM1IDMuOTYwNjJDMTkuNjYzMiA0LjU2MzY2IDIwIDUuMzYyNjMgMjAgNi4xNzY0N1YyMUg3LjQwNTQxQzYuNDc0OTggMjEgNS41OTkxNSAyMC42NDUyIDQuOTY2NSAyMC4wMzk0QzQuMzM2NzkgMTkuNDM2MyA0IDE4LjYzNzQgNCAxNy44MjM1VjNaTTMgMUMyLjQ0NzcyIDEgMiAxLjQ0NzcyIDIgMlYxNy44MjM1QzIgMTkuMTk2NCAyLjU2OTUgMjAuNTEzMSAzLjU4MzIxIDIxLjQ4MzhDNC41OTY5MiAyMi40NTQ2IDUuOTcxOCAyMyA3LjQwNTQxIDIzSDIxQzIxLjU1MjMgMjMgMjIgMjIuNTUyMyAyMiAyMlY2LjE3NjQ3QzIyIDQuODAzNTkgMjEuNDMwNSAzLjQ4NjkzIDIwLjQxNjggMi41MTYxNUMxOS40MDMxIDEuNTQ1MzggMTguMDI4MiAxIDE2LjU5NDYgMUgzWiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNNi43NSA4QzYuNzUgNy40NDc3MiA3LjE5NzcyIDcgNy43NSA3SDE2LjI1QzE2LjgwMjMgNyAxNy4yNSA3LjQ0NzcyIDE3LjI1IDhDMTcuMjUgOC41NTIyOCAxNi44MDIzIDkgMTYuMjUgOUg3Ljc1QzcuMTk3NzIgOSA2Ljc1IDguNTUyMjggNi43NSA4WiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNNi43NSAxMkM2Ljc1IDExLjQ0NzcgNy4xOTc3MiAxMSA3Ljc1IDExSDE2LjI1QzE2LjgwMjMgMTEgMTcuMjUgMTEuNDQ3NyAxNy4yNSAxMkMxNy4yNSAxMi41NTIzIDE2LjgwMjMgMTMgMTYuMjUgMTNINy43NUM3LjE5NzcyIDEzIDYuNzUgMTIuNTUyMyA2Ljc1IDEyWiIgZmlsbD0iIzMzNzBGRiIvPgo8cGF0aCBkPSJNNi43NSAxNkM2Ljc1IDE1LjQ0NzcgNy4xOTc3MiAxNSA3Ljc1IDE1SDEyLjI1QzEyLjgwMjMgMTUgMTMuMjUgMTUuNDQ3NyAxMy4yNSAxNkMxMy4yNSAxNi41NTIzIDEyLjgwMjMgMTcgMTIuMjUgMTdINy43NUM3LjE5NzcyIDE3IDYuNzUgMTYuNTUyMyA2Ljc1IDE2WiIgZmlsbD0iIzMzNzBGRiIvPgo8L3N2Zz4K",suggest:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMgM0MzIDIuNDQ3NzIgMy40NDc3MiAyIDQgMkgxNkMxOC43NjE0IDIgMjEgNC4yMzg1OCAyMSA3VjIxQzIxIDIxLjU1MjMgMjAuNTUyMyAyMiAyMCAyMkg4QzUuMjM4NTggMjIgMyAxOS43NjE0IDMgMTdWM1oiIGZpbGw9IiNGMDFEOTQiLz4KPHBhdGggZD0iTTcgOC43QzcgOC4zMTM0IDcuMzEzNCA4IDcuNyA4SDE2LjNDMTYuNjg2NiA4IDE3IDguMzEzNCAxNyA4LjdDMTcgOS4wODY2IDE2LjY4NjYgOS40IDE2LjMgOS40SDcuN0M3LjMxMzQgOS40IDcgOS4wODY2IDcgOC43WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTcgMTIuMUM3IDExLjcxMzQgNy4zMTM0IDExLjQgNy43IDExLjRIMTYuM0MxNi42ODY2IDExLjQgMTcgMTEuNzEzNCAxNyAxMi4xQzE3IDEyLjQ4NjYgMTYuNjg2NiAxMi44IDE2LjMgMTIuOEg3LjdDNy4zMTM0IDEyLjggNyAxMi40ODY2IDcgMTIuMVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik03IDE1LjVDNyAxNS4xMTM0IDcuMzEzNCAxNC44IDcuNyAxNC44SDEyLjNDMTIuNjg2NiAxNC44IDEzIDE1LjExMzQgMTMgMTUuNUMxMyAxNS44ODY2IDEyLjY4NjYgMTYuMiAxMi4zIDE2LjJINy43QzcuMzEzNCAxNi4yIDcgMTUuODg2NiA3IDE1LjVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K"},fI[uI.BOX]={at:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMCAwaDE0djE0SDB6Ii8+PHBhdGggZD0iTTkuNzkzIDBhLjUuNSAwIDAgMSAuMzUzLjE0NmwxLjcwOCAxLjcwOGEuNS41IDAgMCAxIC4xNDYuMzUzVjEzLjVhLjUuNSAwIDAgMS0uNS41aC0xMGEuNS41IDAgMCAxLS41LS41Vi41YS41LjUgMCAwIDEgLjUtLjVoOC4yOTN6TTkgMS4xOTlMMi4yIDEuMnYxMS42aDguNlYzSDkuM2EuMy4zIDAgMCAxLS4zLS4zVjEuMTk5eiIgZmlsbD0iIzMzNzBGRiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTYuOCA5Yy4xMSAwIC4yLjA5LjIuMnYuOGEuMi4yIDAgMCAxLS4yLjJIMy43YS4yLjIgMCAwIDEtLjItLjJ2LS44YzAtLjExLjA5LS4yLjItLjJoMy4xem0yLjUtM2MuMTEgMCAuMi4wOS4yLjJWN2EuMi4yIDAgMCAxLS4yLjJIMy43YS4yLjIgMCAwIDEtLjItLjJ2LS44YzAtLjExLjA5LS4yLjItLjJoNS42eiIgZmlsbD0iIzMzNzBGRiIvPjwvZz48L3N2Zz4=",suggest:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgMzIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU3LjEgKDgzMDg4KSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5pY29uX2ZpbGVfdW5rbm93X25vcjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xLjUsMCBMMTUuNTg1Nzg2NCwwIEMxNS44NTEwMDI5LDIuODY0ODkwM2UtMTUgMTYuMTA1MzU2OCwwLjEwNTM1Njg0IDE2LjI5Mjg5MzIsMC4yOTI4OTMyMTkgTDIxLjcwNzEwNjgsNS43MDcxMDY3OCBDMjEuODk0NjQzMiw1Ljg5NDY0MzE2IDIyLDYuMTQ4OTk3MDcgMjIsNi40MTQyMTM1NiBMMjIsMjYuNSBDMjIsMjcuMzI4NDI3MSAyMS4zMjg0MjcxLDI4IDIwLjUsMjggTDEuNSwyOCBDMC42NzE1NzI4NzUsMjggMS4wMTQ1MzA2M2UtMTYsMjcuMzI4NDI3MSAwLDI2LjUgTDAsMS41IEMtMS4wMTQ1MzA2M2UtMTYsMC42NzE1NzI4NzUgMC42NzE1NzI4NzUsMS41MjE3OTU5NGUtMTYgMS41LDAgWiIgaWQ9InBhdGgtMSI+PC9wYXRoPgogICAgICAgIDxwYXRoIGQ9Ik0xNi4yOTI4OTMyLDAuMjkyODkzMjE5IEwyMS43MDcxMDY4LDUuNzA3MTA2NzggQzIxLjc5MjU5MzQsNS43OTI1OTM0NSAyMS44NjEwMDQsNS44OTE5NjQxNyAyMS45MTAxNDMxLDUuOTk5OTE4OTIgTDE3LjUsNiBDMTYuNjcxNTcyOSw2IDE2LDUuMzI4NDI3MTIgMTYsNC41IEwxNi4wMDAzNTE1LDAuMDg5OTgwMDkyNSBDMTYuMTA4MjAxOCwwLjEzOTExMDI4NyAxNi4yMDc0Nzc5LDAuMjA3NDc3OTQzIDE2LjI5Mjg5MzIsMC4yOTI4OTMyMTkgWiIgaWQ9InBhdGgtMyI+PC9wYXRoPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IkFydGJvYXJkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTQzLjAwMDAwMCwgLTMxMC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9Imljb25fZmlsZV91bmtub3dfbm9yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NDguMDAwMDAwLCAzMTIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iaWNvbl9ncmV5XzI4Ij4KICAgICAgICAgICAgICAgICAgICA8Zz4KICAgICAgICAgICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stMiIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9tYXNrPgogICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGlkPSJNYXNrIiBmaWxsPSIjOUNBM0FEIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stNCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcGF0aC0zIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9tYXNrPgogICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iIzY0NkE3MyIgeGxpbms6aHJlZj0iI3BhdGgtMyI+PC91c2U+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMi42NDg2NDksIDguNzAyNzAzKSI+CiAgICAgICAgICAgICAgICAgICAgPGc+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSLnn6nlvaIiIHBvaW50cz0iMCAwIDE2LjY0ODY0ODYgMCAxNi42NDg2NDg2IDE2LjY0ODY0ODYgMCAxNi42NDg2NDg2Ij48L3BvbHlnb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik04LjUxMTg0MDE0LDEuNTEzNTEzNTEgQzkuNzQ3NjIxMDQsMS41MTM1MTM1MSAxMC43NDEzMzk2LDEuODY5NDcyMzkgMTEuNDk4NDk4NiwyLjU4Njc4MTMgQzEyLjIxOTIzODEsMy4yNjc0Nzk3MSAxMi41Nzk0MDc3LDQuMTg3OTEzMDQgMTIuNTc5NDA3Nyw1LjMzNTEzNTE0IEMxMi41Nzk0MDc3LDYuMTY2NDQ0MDIgMTIuMzIyNzQ1Niw2LjkyNjM2NTI0IDExLjgyMDA2MjUsNy41ODk4NTgxMyBDMTEuNjEwNzkxLDcuODU2MjAzNjYgMTEuMTQzNTIyNiw4LjMxMDEyMTU0IDEwLjMwMTI4Nyw5LjA3MjEwOTEgQzkuODgxMjMwNzYsOS40Mzk2NTgyNyA5LjY0MDI2NzY1LDkuNjg5ODE5NTQgOS40NTI2MDY4MiwxMC4wMDg4NDA1IEM5LjIwMjA0MjAyLDEwLjQzODM4MDEgOS4wODEwODEwOCwxMC44NzkwMjM1IDkuMDgxMDgxMDgsMTEuMzcwMjcwMyBMOS4wODEwODEwOCwxMS45MTg5MTg5IEM5LjA4MTA4MTA4LDEyLjAyMzQwNTIgOC45OTYzNzgyLDEyLjEwODEwODEgOC44OTE4OTE4OSwxMi4xMDgxMDgxIEw3LjczNzgzNzg0LDEyLjEwODEwODEgQzcuNjMzMzUxNTMsMTIuMTA4MTA4MSA3LjU0ODY0ODY1LDEyLjAyMzQwNTIgNy41NDg2NDg2NSwxMS45MTg5MTg5IEw3LjU0ODY0ODY1LDExLjM3MDI3MDMgTDcuNTQ4NjQ4NjUsMTEuMzcwMjcwMyBDNy41NDg2NDg2NSwxMC43OTA1NzQgNy42Njk2MjM5OSwxMC4yNTEyMjU3IDcuOTA2OTM4MzIsOS43NzY3NTE0IEM4LjE5NTU5MTk3LDkuMTU4MjA3ODcgOC43NDIwMDQ1MSw4LjUyODk3NDM0IDkuNjI2NzExODMsNy43NTU0MTIyMyBDMTAuMTg2NzM0OCw3LjE5NTM4OTI3IDEwLjM2MDY2NCw3LjAxNTg0OTQ3IDEwLjQ4MTQyMjEsNi44NjQ5MzAxNSBDMTAuODYwNDkwNSw2LjM3NzU1NjU0IDExLjA0Njk3NTMsNS44ODc0OTE5NSAxMS4wNDY5NzUzLDUuMzcyOTcyOTcgQzExLjA0Njk3NTMsNC42MTkyODM4OSAxMC44MjYwNjQ5LDQuMDE4NDA3NzEgMTAuNDAyMzg3NSwzLjU3NzAyMDIgQzkuOTU3OTExNzUsMy4xMzI1NDQ0NSA5LjMxMzk2MDc5LDIuOTEzNTEzNTEgOC40NTUwODMzOCwyLjkxMzUxMzUxIEM3LjQ5MjYzOTc3LDIuOTEzNTEzNTEgNi43OTE1NjAzNSwzLjIyNzAzOTcyIDYuMzEzNjI2MTMsMy44NjQxMzE1IEM1LjkzNTA1Mjk4LDQuMzM3MzQ3OTMgNS43MjI5Nzk4Nyw0Ljc2Mjc0NTUxIDUuNjgyNjgzNTIsNS41NzU4NzYzMyBDNS42ODA0MTg5Niw1LjYyMTU3MjU1IDUuNjc4NTY1MjMsNS43MTg0MzYwMiA1LjY3NzEyMjM1LDUuODY2NDY2NzYgQzUuNjc2MzUxNzQsNS45NzAzNjM4NiA1LjU5MTg0MTgyLDYuMDU0MDU0MDUgNS40ODc5NDIxNCw2LjA1NDA1NDA1IEw0LjM1Mjc5NjU1LDYuMDU0MDU0MDUgQzQuMjQ4MjQxMTIsNi4wNTQxNzkyMyA0LjE2MzQ4MjE5LDUuOTY5NDIwMyA0LjE2MzQ4MjE5LDUuODY0ODY0ODYgQzQuMTYzNDgyMTksNS44NjQzMDk5MiA0LjE2MzQ4NDYzLDUuODYzNzU0OTcgNC4xNjM0ODk1MSw1Ljg2MzIwMDA1IEM0LjE2NDgwNTc4LDUuNzEzNTI3MTQgNC4xNjY0OTcxNiw1LjYxNTA0ODkyIDQuMTY4NTYzNjgsNS41Njc3NjU0IEM0LjIyMDAwNzM3LDQuMzkwNjkxNzQgNC41Nzk3MzQ4OCwzLjY0NDA0NzYzIDUuMjQ3NDU1MzEsMi44NjUwNDcyNyBDNi4wMzU2NzgxMywxLjk1ODU5MTAyIDcuMTIzNjQ1MzcsMS41MTM1MTM1MSA4LjUxMTg0MDE0LDEuNTEzNTEzNTEgWiBNNy43NTY3NTY3NiwxMy42MjE2MjE2IEw4Ljg5MTg5MTg5LDEzLjYyMTYyMTYgQzguOTk2Mzc4MiwxMy42MjE2MjE2IDkuMDgxMDgxMDgsMTMuNzA2MzI0NSA5LjA4MTA4MTA4LDEzLjgxMDgxMDggTDkuMDgxMDgxMDgsMTQuOTQ1OTQ1OSBDOS4wODEwODEwOCwxNS4wNTA0MzIyIDguOTk2Mzc4MiwxNS4xMzUxMzUxIDguODkxODkxODksMTUuMTM1MTM1MSBMNy43NTY3NTY3NiwxNS4xMzUxMzUxIEM3LjY1MjI3MDQ1LDE1LjEzNTEzNTEgNy41Njc1Njc1NywxNS4wNTA0MzIyIDcuNTY3NTY3NTcsMTQuOTQ1OTQ1OSBMNy41Njc1Njc1NywxMy44MTA4MTA4IEM3LjU2NzU2NzU3LDEzLjcwNjMyNDUgNy42NTIyNzA0NSwxMy42MjE2MjE2IDcuNzU2NzU2NzYsMTMuNjIxNjIxNiBaIiBpZD0i77yfIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},fI[uI.DOCX]={at:bI,suggest:mI},fI);function wI(e,t){var n=e.boxRect,r=e.relativeRect,i=e.anchorRect,o=e.scrollTop,a=r.left,l=r.top,s=r.height,u=r.width,c=i.top,d=i.left,f=i.right,h=i.bottom,p=i.width,g=i.height,v={top:c-l,left:d-a,right:f-a,bottom:h-l,width:p,height:g},m={top:Math.min(c,v.top),left:Math.min(d,v.left),right:u-v.left-p,bottom:s-v.top-g,width:p,height:g},b={top:0,left:0};return t===hI.BR&&(b=function(e){var t,n=e.absRect,r=e.boxRect,i=e.anchorRect,o=e.remainRect,a=n.left,l=n.top,s=r.width,u=r.height,c=i.width,d=i.height,f=o.right,h=o.left,p=o.bottom,g=o.top;t=f>=s||f>=h?{left:a+c,top:0}:{left:a-s,top:0};t.top=p>=u?l+d:g>=u?l-u:l-u*Math.abs(g)/(Math.abs(p)+Math.abs(g));return t}({absRect:v,boxRect:n,anchorRect:i,remainRect:m})),t===hI.RB&&(b=function(e){var t,n=e.absRect,r=e.boxRect,i=e.anchorRect,o=e.remainRect,a=n.left,l=n.top,s=r.width,u=r.height,c=i.width,d=i.height,f=o.right,h=o.left,p=o.bottom,g=o.top;t=p>=u||p>=g?{top:l+d,left:0}:{top:l-u,left:0};t.left=f>=s?a+c:h>=s?a-s:Math.max(a+f-s,0);return t}({absRect:v,boxRect:n,anchorRect:i,remainRect:m})),o&&(b.top+=o),b}!function(e){e.BR="BR",e.RB="RT"}(hI||(hI={}));var II=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return os(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style;return i.createElement("span",{className:"spiner "+t,style:n},i.createElement("span",{"aria-hidden":"true"}),i.createElement("span",{"aria-hidden":"true"}),i.createElement("span",{"aria-hidden":"true"}))},t}(i.PureComponent);var CI={container:{position:"absolute",zIndex:99},header:{height:40,fontSize:14,color:"#bbbfc4",padding:"0 16px",lineHeight:"34px"},box:{position:"relative",width:420,backgroundColor:"#fff",boxShadow:"0 6px 24px 0 rgb(31 35 41 / 10%)",border:"solid 1px #dee0e3",borderRadius:4,height:370,paddingTop:8,color:"#2b2f36",background:"#fff",boxSizing:"border-box",maxWidth:"100vw"},content:{overflowY:"auto",marginTop:14,marginBottom:14},item:{height:48,display:"flex",padding:"0 16px",userSelect:"none",cursor:"pointer",fontSize:14},desc:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},icon:{flex:"none",alignSelf:"flex-start",height:32,width:32,margin:"8px 10px 8px 0",borderRadius:"50%",backgroundPosition:"50% 50%"},avatar:{width:"100%",borderRadius:"50%"},activeItem:{background:"#dee0e3"},title:{display:"flex",alignItems:"center",fontSize:14},subTitle:{fontSize:12,maxWidth:204,color:"#8f959e",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},footer:{height:52,display:"flex",alignItems:"flex-end",flexDirection:"column",justifyContent:"center",borderTop:"1px solid #dee0e3",padding:"0 16px"},button:{minWidth:60,padding:"0 10px",cursor:"pointer",border:"none",height:32,borderRadius:4,fontSize:14,backgroundColor:"#3370ff",color:"#fff",transition:"opacity .3s cubic-bezier(.645,.045,.355,1)"},loading:{position:"absolute",top:"50%",left:"50%",marginLeft:-10,marginTop:-5,opacity:1},mask:{position:"absolute",left:0,right:0,bottom:0,top:0,opacity:.5},noResult:{display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",flexDirection:"column",left:0,right:0,bottom:0,top:0},noResultText:{textAlign:"center",padding:"10px 16px",fontSize:16,color:"#646a73"}},kI=13,EI=38,xI=40,MI=function(e){function t(n){var r=e.call(this,n)||this;return r.container=null,r.suggestContentElem=null,r.mounted=!1,r.init=!1,r.handleKeyDown=function(e){var t=r.state,n=t.data,i=t.activeIndex;switch(e.keyCode){case kI:e.preventEvent(),e.preventDefault(),e.stopEvent(),r.handleConfirm(i);break;case xI:e.preventEvent(),e.preventDefault(),e.stopEvent();var o=(a=i+1)>(l=n.length-1)?0:a;r.setState({activeIndex:o}),r.scrollIfNecessary(o);break;case EI:e.preventEvent(),e.preventDefault(),e.stopEvent();var a,l=n.length-1;o=(a=i-1)<0?l:a;r.setState({activeIndex:o}),r.scrollIfNecessary(o)}},r.handleConfirm=function(e){var t=r.state.data;r.props.onConfirm(t[e])},r.handleClickAside=function(e){r.setState({asideType:e})},r.renderSuggestItem=function(e,n){var o,a=r.state.activeIndex,l=e.type,s={};return a===n&&(s=t.Styles.activeItem),i.createElement("div",{key:n,className:"editor-kit-mention-item",onClick:function(){return r.handleConfirm(n)},style:as(as({},t.Styles.item),s)},i.createElement("div",{style:t.Styles.icon},uI.USER===l&&i.createElement("img",{style:t.Styles.avatar,src:e.avatar_url}),uI.USER!==l&&i.createElement("img",{style:{width:"100%"},src:null===(o=yI[l])||void 0===o?void 0:o.suggest})),i.createElement("div",{style:t.Styles.desc},i.createElement("div",{style:t.Styles.title},r.getTitle(e)),i.createElement("div",{style:t.Styles.subTitle},r.getSubTitle(e))))},r.state={asideType:"0",activeIndex:0,data:[],isLoading:!1,style:{left:-1e3,top:0}},r}os(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.mounted=!0,this.updatePosition(),this.fetchData().then((function(t){e.init=!0,e.setState({data:t})})),this.bind()},n.componentDidUpdate=function(e,t){var n=this;this.state.asideType===t.asideType&&e.query===this.props.query||this.fetchData().then((function(e){n.setState({data:e})}))},n.componentWillUnmount=function(){this.mounted=!1,this.unbind()},n.updatePosition=function(){this.setState({style:this.getPosition()})},n.fetchData=function(){var e=this;return this.setState({isLoading:!0}),this.props.getData().then((function(t){return e.mounted?(e.setState({isLoading:!1}),t):[]}),(function(){return[]}))},n.bind=function(){this.props.editor.on("keydown",this.handleKeyDown,100)},n.unbind=function(){this.props.editor.off("keydown",this.handleKeyDown)},n.scrollIfNecessary=function(e){var t=this.suggestContentElem;if(t){var n=t.children[e],r=t.getBoundingClientRect(),i=r.height,o=r.top,a=n.getBoundingClientRect(),l=a.bottom,s=a.top;l>o+i&&(t.scrollTop=t.scrollTop+l-(o+i)),s<o&&(t.scrollTop=t.scrollTop+s-o)}},n.getPosition=function(){var e,t,n,r,i,o;return wI({boxRect:this.container.getBoundingClientRect(),relativeRect:null===(n=null===(t=null===(e=this.container)||void 0===e?void 0:e.parentElement)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.getBoundingClientRect(),scrollTop:(null===(o=null===(i=null===(r=this.container)||void 0===r?void 0:r.parentElement)||void 0===i?void 0:i.parentElement)||void 0===o?void 0:o.scrollTop)||0,anchorRect:this.props.anchorRect},hI.RB)},n.getSize=function(){var e=t.Styles.box;return{width:e.width,height:e.height}},n.renderLoading=function(){return i.createElement(II,{style:t.Styles.loading})},n.getTitle=function(e){if(e.type===uI.USER){var t=e;return t[this.props.lang+"_name"]||t.cn_name}return e.title},n.getSubTitle=function(e){if(e.type===uI.USER)return e.department;var t=new Date(e.edit_time);return this.props.i18n["mention.last_update"]+t.toLocaleDateString()},n.renderAside=function(){var e=this.props.renderAside();return e?i.cloneElement(e,{onClick:this.handleClickAside}):null},n.renderSuggest=function(){return i.createElement("div",{style:t.Styles.box},this.init?this.renderContent():this.renderLoading())},n.renderMaskLoading=function(){return i.createElement("div",{style:t.Styles.mask},this.renderLoading())},n.renderEmptyResult=function(){return i.createElement("div",{style:t.Styles.noResult},i.createElement("img",{width:80,src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCI+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBpZD0iYSIgZD0iTTQgMGg1MzJhNCA0IDAgMCAxIDQgNHYyNThhNCA0IDAgMCAxLTQgNEg0YTQgNCAwIDAgMS00LTRWNGE0IDQgMCAwIDEgNC00eiIvPgogICAgICAgIDxmaWx0ZXIgaWQ9ImIiIHdpZHRoPSIxMTQuOCUiIGhlaWdodD0iMTMwLjElIiB4PSItNy40JSIgeT0iLTEyLjglIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPgogICAgICAgICAgICA8ZmVNb3JwaG9sb2d5IGluPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImRpbGF0ZSIgcmFkaXVzPSIxIiByZXN1bHQ9InNoYWRvd1NwcmVhZE91dGVyMSIvPgogICAgICAgICAgICA8ZmVPZmZzZXQgZHk9IjYiIGluPSJzaGFkb3dTcHJlYWRPdXRlcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIi8+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiIHN0ZERldmlhdGlvbj0iMTIiLz4KICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiBpbjI9IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0ib3V0IiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggaW49InNoYWRvd0JsdXJPdXRlcjEiIHZhbHVlcz0iMCAwIDAgMCAwLjA2NjY2NjY2NjcgMCAwIDAgMCAwLjEzMzMzMzMzMyAwIDAgMCAwIDAuMiAwIDAgMCAwLjEgMCIvPgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxwYXRoIGlkPSJjIiBkPSJNNCAwaDUzMmE0IDQgMCAwIDEgNCA0djI1OGE0IDQgMCAwIDEtNCA0SDRhNCA0IDAgMCAxLTQtNFY0YTQgNCAwIDAgMSA0LTR6Ii8+CiAgICAgICAgPGZpbHRlciBpZD0iZCIgd2lkdGg9IjExNC44JSIgaGVpZ2h0PSIxMzAuMSUiIHg9Ii03LjQlIiB5PSItMTIuOCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCI+CiAgICAgICAgICAgIDxmZU1vcnBob2xvZ3kgaW49IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0iZGlsYXRlIiByYWRpdXM9IjEiIHJlc3VsdD0ic2hhZG93U3ByZWFkT3V0ZXIxIi8+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeT0iNiIgaW49InNoYWRvd1NwcmVhZE91dGVyMSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiLz4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSIgc3RkRGV2aWF0aW9uPSIxMiIvPgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd0JsdXJPdXRlcjEiIGluMj0iU291cmNlQWxwaGEiIG9wZXJhdG9yPSJvdXQiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSIvPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCBpbj0ic2hhZG93Qmx1ck91dGVyMSIgdmFsdWVzPSIwIDAgMCAwIDAuMDY2NjY2NjY2NyAwIDAgMCAwIDAuMTMzMzMzMzMzIDAgMCAwIDAgMC4yIDAgMCAwIDAuMSAwIi8+CiAgICAgICAgPC9maWx0ZXI+CiAgICAgICAgPHBhdGggaWQ9ImYiIGQ9Ik0wIDBoODB2ODBIMHoiLz4KICAgICAgICA8cGF0aCBpZD0iaCIgZD0iTTMzLjU0NyA5LjE1NGMyLjAyNiA0LjY5NCA2LjkxOCA2LjQzNCA2LjkxOCA2LjQzNHM0LjItLjUxNSA0LjI4MiAyLjQ5NGMuMDgzIDMuMDEtMi44NTEgMi44OS0yLjg1MSAyLjg5cy4xNzYgOC4xNjYuMTc2IDE3LjA4OGMwIDcuMzg0LjA1NCAxMy41MzYuMTYyIDE4LjQ1NGwxMy4xMjYuMTI2di01LjAyYzAtOS43NTktNi42MjMtMTAuNTM1LTMuNjYyLTE1Ljg1OSAyLjAzNC0zLjY2IDEuNjI3LTcuMzItMS4yMjEtMTAuNTczLTQuMzg4LTUuMDEtMi4zOTYtNy44NzMtMi4wMzUtMTEuMzg1LjM2MS0zLjUxMi43OTUtMTIuMTQ3LTguOTUzLTEzLjQyIDAgMC0uNjE4LS4xODMtMS41ODQtLjE4My0xLjg2NiAwLTUuMDMuNjgzLTcuNTU4IDQuNjg4LS4yODUuNDUgMi42NzcgMy4wNTYgMy4yIDQuMjY2eiIvPgogICAgPC9kZWZzPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNLTU3My0zMjhIODY3djkwMEgtNTczeiIvPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTS0yMjktNDhoNzUyVjRoLTc1MnoiLz4KICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0tMjI5LTQ4aDc1MlY0aC03NTJ6Ii8+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTS0yMjkgNGg3NTJ2NTJoLTc1MnoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNLTIyOSA0aDc1MnY1MmgtNzUyeiIvPgogICAgICAgIDwvZz4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMwIC03MykiPgogICAgICAgICAgICA8dXNlIGZpbGw9IiMwMDAiIGZpbHRlcj0idXJsKCNiKSIgeGxpbms6aHJlZj0iI2EiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iI0ZGRiIgc3Ryb2tlPSIjRTNFNUVBIiBkPSJNNC0uNWg1MzJhNC41IDQuNSAwIDAgMSA0LjUgNC41djI1OGE0LjUgNC41IDAgMCAxLTQuNSA0LjVINEE0LjUgNC41IDAgMCAxLS41IDI2MlY0QTQuNSA0LjUgMCAwIDEgNC0uNXoiLz4KICAgICAgICAgICAgPG1hc2sgaWQ9ImUiIGZpbGw9IiNmZmYiPgogICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjYyIvPgogICAgICAgICAgICA8L21hc2s+CiAgICAgICAgICAgIDx1c2UgZmlsbD0iIzAwMCIgZmlsdGVyPSJ1cmwoI2QpIiB4bGluazpocmVmPSIjYyIvPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjRkZGIiBzdHJva2U9IiNFM0U1RUEiIGQ9Ik00LS41aDUzMmE0LjUgNC41IDAgMCAxIDQuNSA0LjV2MjU4YTQuNSA0LjUgMCAwIDEtNC41IDQuNUg0QTQuNSA0LjUgMCAwIDEtLjUgMjYyVjRBNC41IDQuNSAwIDAgMSA0LS41eiIvPgogICAgICAgICAgICA8ZyBtYXNrPSJ1cmwoI2UpIj4KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIzMCA3MykiPgogICAgICAgICAgICAgICAgICAgIDxtYXNrIGlkPSJnIiBmaWxsPSIjZmZmIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjZiIvPgogICAgICAgICAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgICAgICAgICA8ZyBtYXNrPSJ1cmwoI2cpIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbD0iI0Q2REFFMSIgZD0iTTQ3LjMyIDY4LjU4N0gyNC4yOGwtNi43My05LjUwNyAxNC41MTYtMTAuNTQ2eiIvPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2U9IiMxODI2M0MiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIuNjQiIGQ9Ik0zNy43NTkgNTYuMjUxTDI2LjE4MyAzOS41NWMtMi4xMjItMi44OTMtNS43OTMtOS41ODQtOC44NzItNy40NSAwIDAtNC4zMzggMi40MDguNjIyIDcuMTI4TTE0LjQxMyAzNC4zNDdzLTIuNTU5IDEuMjM4LS41MjYgNS44OTRjLjYwNiAxLjM4NiAzLjE2NiA1LjYyNiA0LjM2NiA0LjUwNk0xMi4xMiAzNi4yNjdzLTQuMTggMS45MDktMS4yOTUgNi4wOWMuNzcgMS4xMTYgMy4zNTggNS45OTIgNC45NTggNC4yMzIiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlPSIjMTgyNjNDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjY0IiBkPSJNOC45MiAzOC41MDdzLTQuMDQyIDEuNzkxLTEuMTU3IDUuOTczbDQuMDUyIDUuODUxYzIuMzE1IDMuMzQgMTIuMTk4IDE4LjA5NiAxMi4xOTggMTguMDk2Ii8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9IiNENkRBRTEiIGQ9Ik02MC40NSA0Mi45OTRsLS4xNyAyNS41OTNIMzUuNDU2YzAtMTMuNzkzIDExLjE5LTI1LjU5MyAyNC45OTQtMjUuNTkzeiIvPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNy43MiAxMi4wNzMpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZT0iIzE4MjYzQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9Ii42NCIgZD0iTTM1Ljg5NSAzMS42NzJTMTcuODcgMzYuODUgMTcuODcgNTUuNzk3TS4xNiA0Ni44MDhsMTYuNDI2LTEyLjE2TTYuOTg3IDUyLjM1NGwxMi4wNTMtOS4zODZNMTQuNzc4IDQyLjgxM2ExLjgwOCAxLjgwOCAwIDAgMS0yLjI0NS0yLjgzMiAxLjgwNiAxLjgwNiAwIDEgMSAyLjI0NSAyLjgzMnpNMzQuMjM3IDI1LjQ3NGMxLjkyLS4yMTMgMy4zMS0uMjcgMy4zMS0uMjciLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgZmlsbD0iIzE4MjYzQyIgeGxpbms6aHJlZj0iI2giLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgICAgICA8Zz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZT0iIzE4MjYzQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9Ii42NCIgZD0iTTI2LjY1MyA0Mi4xMDdzLTYuNTMzLTIuNzQ2LTgtMi41NmMtMy40OC40NDMgMi4zMTcgNi41MTQgNC4yNCA2LjQyN00yMC4xMiAzNC4xMzRzMy45NzMgNC42OTMgMy4zMzMgNi4zNzNNMjcuMjEzIDM2LjQyN2wtMy42MyAyLjc1NE00MS40IDE1Ljk0N2MtLjg0NyAyLjI2Ny0xLjA4NiA0LjY1NS0xLjAyNCA3Ljg1OS4wNiAzLjEyNS4wMzQgOC42MDMuMDM0IDguNjAzbDIuNDQ4LjE2NXMuMDY3IDIuNzU2LjgzNSA0LjgxMyIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbD0iIzE4MjYzQyIgZD0iTTQwLjUyIDIwLjE4N2w2LjI2Ni0yLjA1M3MtMi42Ni0yLjY5My01LjQ2Ni0yLjY5M2MtLjggMS4yOC0uOCA0Ljc0Ni0uOCA0Ljc0NnoiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9IiNGRkMyMDAiIGQ9Ik0zOS40NzUgMTQuNTQ1Yy02Ljc3NSAwLTEyLjI4OCA1LjUxMy0xMi4yODggMTIuMjg4IDAgNi43NzYgNS41MTMgMTIuMjg5IDEyLjI4OCAxMi4yODkgNi43NzYgMCAxMi4yODgtNS41MTMgMTIuMjg4LTEyLjI4OSAwLTYuNzc1LTUuNTEyLTEyLjI4OC0xMi4yODgtMTIuMjg4bTAgMjcuODcxYy04LjU5MiAwLTE1LjU4Mi02Ljk5LTE1LjU4Mi0xNS41ODMgMC04LjU5MiA2Ljk5LTE1LjU4MiAxNS41ODItMTUuNTgyIDguNTkzIDAgMTUuNTgzIDYuOTkgMTUuNTgzIDE1LjU4MiAwIDguNTkzLTYuOTkgMTUuNTgzLTE1LjU4MyAxNS41ODMiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2U9IiMxODI2M0MiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIuNjQiIGQ9Ik00My42MjYgMjYuMjJjMS41MDMgMS42MTIgMy4xMDcgMS42MTIgNC44MTQgMCIvPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg=="}),i.createElement("div",{style:t.Styles.noResultText},this.props.i18n["mention.no-result-and-try-another"]))},n.renderFooter=function(){var e=this,n=this.props.i18n,r=t.Styles,o=r.footer,a=r.button;return i.createElement("div",{style:o},i.createElement("button",{type:"button",onClick:function(){return e.handleConfirm(e.state.activeIndex)},style:a},n["mention.mentioned"]))},n.renderContent=function(){var e=this,n=this.state,r=n.data,o=n.isLoading;if(!r.length&&this.init)return this.renderEmptyResult();var a=this.props.i18n,l=t.Styles,s=l.content,u=l.footer,c=l.header,d=l.box;return i.createElement(i.Fragment,null,o&&this.renderMaskLoading(),i.createElement("div",{style:c},a["mention.recently"]),i.createElement("div",{ref:function(t){return e.suggestContentElem=t},style:as(as({},s),{height:this.getSize().height-c.height-d.paddingTop-u.height-s.marginTop-s.marginBottom})},r.map(this.renderSuggestItem)),this.renderFooter())},n.render=function(){var e=this,n=this.state.style;return i.createElement("div",{ref:function(t){return e.container=t},style:as(as(as({},t.Styles.container),n),this.getSize())},this.renderAside(),this.renderSuggest())},t.Styles=CI,t}(i.Component),SI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return os(t,e),t.prototype.render=function(){return null},t}(i.Component);function TI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var AI,NI,LI={};!function(e){e.INLINE="inline",e.CARD="card",e.PREVIEW="preview"}(AI||(AI={})),function(e){e.BLOCK="block",e.INLINE="inline"}(NI||(NI={}));var DI=function(e){var t=e.blockType,n=e.initData,r=e.props,i=e.depLoading;if(LI[t]&&r&&!r.viewType){var o=LI[t];r.viewType=o,o===AI.INLINE?r.displayMode=NI.INLINE:r.displayMode=NI.BLOCK}var a=n||{},l=i?{depLoading:i}:{};return as({blockId:TI(),blockType:t,props:r||{},initData:escape(JSON.stringify(a))},l)};function zI(e){var t=new J;return e.forEach((function(e){if("Z"===e.zoneType){var n=e.create({zoneId:e.zoneId});e.forEach((function(e){var t,r,i=e;if(i.attributes&&function(e){var t,n;try{for(var r=ds(Object.keys(e)),i=r.next();!i.done;i=r.next()){var o=i.value;if(/mention-link_(.+)/.test(o))return!0}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1}(i.attributes)){var o=null;try{for(var a=ds(Object.keys(i.attributes)),l=a.next();!l.done;l=a.next()){var s=l.value.match(/mention-(\w+)_(.+)/);if(s){var u=s[1],c=s[2];o||(o={content:i.insert}),o[u]=c}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}if(o){var d=function(e){var t,n=Number(e.type);if(n===uI.USER){var r=e.token,i=e.link,o=e.content;t={blockType:pI,props:{data:{user:{avatar_url:encodeURIComponent(i),type:n,id:r,cn_name:o.slice(1),en_name:o.slice(1)}}}}}else{i=e.link,o=e.content,r=e.token;t={blockType:gI,props:{link:encodeURIComponent(i),type:n,title:o,token:r}}}return DI(t)}(o);n.insert(" ",{dataMetaBlockProps:JSON.stringify(d)})}else n.insert(i.insert,i.attributes)}else n.insert(i.insert,i.attributes)})),t.add(n.zoneId,n)}else t.add(e.zoneId,e)})),t}function OI(e){e=e.substr(1).replace(/^#?([a-f\d]){3}$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=parseInt(e,16);return"rgb("+(t>>16&255)+", "+(t>>8&255)+", "+(255&t)+")"}function RI(e,t){return e.cloneNode(t)}function _I(e,t,n){var r=this;return void 0===n&&(n=!1),this.addEventListener(e,t,n),function(){r.removeEventListener(e,t,n)}}function jI(e,t){for(var n=[],r=e;r&&(n.push(r),r!==t);)r=r.parentElement;return n.reverse()}var PI=document.createElement("div");PI.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 11.75a1.75 1.75 0 11-3.5 0 1.75 1.75 0 013.5 0zm8.225 0a1.75 1.75 0 11-3.5 0 1.75 1.75 0 013.5 0zm8.275 0a1.75 1.75 0 11-3.5 0 1.75 1.75 0 013.5 0z"/></svg>';const BI=PI.firstChild;var FI="adit-group";function HI(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return up("div",{className:FI,"data-count":e.length},e)}var ZI=function(){function e(t,n){var r,i,o=this;this.options=t,this.elements=n,this.fold=HI(up("div",{className:"adit-format-button"},RI(BI,!0))).getHTMLElement(),this.toggleFold=!1,this.plateRef=ap(),this.wrapperRef=ap(),this.containerRef=ap(),this.iframeRef=ap(),this.candidates=[],this.handleClick=function(e){var t=o,n=t.plateRef,r=t.candidates,i=n.getSafeCurrent();if(o.cursor!==r.length-1){var a=jI(e.target);if(!a.includes(i))return a.includes(o.fold)?(o.setToggleFold(!o.toggleFold),void(i.style.display=o.toggleFold?"":"none")):void(o.toggleFold&&(o.setToggleFold(!1),i.style.display="none"))}},this.arrange=function(t,n){if(t.offsetParent)for(var r=o,i=r.wrapperRef,a=r.plateRef,l=r.candidates,s=r.fold,u=i.getSafeCurrent(),c=a.getSafeCurrent(),d=t.offsetWidth;o.cursor>=0;){var f=l[o.cursor];if(isNaN(f[1])&&(f[1]=u.offsetWidth),f[1]>d){if(!(o.cursor>0))break;var h=fs(f,1)[0];s.parentElement===u&&u.removeChild(s),e.moveElement(h,c),u.append(s),o.cursor-=1}else{if(!(o.cursor<l.length-1)){o.toggleFold&&(c.style.display="none",n(!1));break}var p=fs(l[o.cursor+1],2),g=p[0];if(!(p[1]<=d))break;u.removeChild(s),e.moveElement(g,u,!0),o.cursor+=1,o.cursor<l.length-1&&u.append(s)}}},this.subscribeArrange=function(e){var t=o.iframeRef.getSafeCurrent().contentWindow;if(!t)throw new Error("contentWindow not found.");var n=null,r=function(){null==n&&(n=window.setTimeout((function(){n=null,o.arrange(e,o.setToggleFold)}),60))};return t.addEventListener("resize",r),function(){t.removeEventListener("resize",r)}},this.updater=function(e,t){var n=o.containerRef.getSafeCurrent(),r=n.querySelectorAll("[adit-key]"),i=n.querySelectorAll("[adit-group]");r.forEach((function(n){var r=n.getAttribute("adit-key"),i=n.getAttribute("adit-value");r&&(!e[r]||i&&!new RegExp(i).test(e[r])?n.removeAttribute("adit-selected"):n.setAttribute("adit-selected",""),r&&t.includes(r)?n.setAttribute("adit-disabled",""):n.removeAttribute("adit-disabled"))})),i.forEach((function(e){var n=e.getAttribute("adit-group");n&&t.includes(n)?e.setAttribute("adit-disabled",""):(e.removeAttribute("adit-disabled"),e.querySelector("[adit-selected]")?e.removeAttribute("adit-enable-default"):e.setAttribute("adit-enable-default",""))}))},this.didMount=function(e,t){var n=t.subscribeRender,r=o,i=r.setToggleFold,a=r.arrange,l=r.updater,s=r.subscribeArrange;Promise.resolve().then((function(){return a(e,i)}));var u=s(e),c=n(l);return document.addEventListener("click",o.handleDocumentClick),function(){u(),c(),document.removeEventListener("click",o.handleDocumentClick)}},this.handleDocumentClick=function(e){var t=o.containerRef.getSafeCurrent();if(!jI(e.target).includes(t)){o.setToggleFold(!1);var n=o.plateRef.getCurrent();n&&(n.style.display="none")}},this.setToggleFold=function(e){o.toggleFold=e};var a=this.candidates;try{for(var l=ds(n),s=l.next();!s.done;s=l.next()){var u=s.value,c=u instanceof HTMLElement?u:u.getHTMLElement();if(c.className===FI){var d=Array.from(c.children).map((function(e){return[e,NaN]}));a.push.apply(a,hs(d))}else a.push([c,NaN])}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}this.cursor=a.length-1}var t=e.prototype;return e.moveElement=function(e,t,n){void 0===n&&(n=!1);var r=e.parentElement,i=t.firstElementChild,o=t.lastElementChild,a=n?o:i;function l(){if(r.className===FI){var i=RI(r);i.append(e),a&&!n?t.insertBefore(i,a):t.append(i)}else a&&!n?t.insertBefore(e,a):t.append(e)}if(a&&a.className===FI){var s=a.dataset.count;if(null==s)throw new Error("dataset.count cannot be undefined.");+s>a.childElementCount?a.firstElementChild&&!n?a.insertBefore(e,a.firstElementChild):a.append(e):l()}else l();r.className!==FI||r.childElementCount||r.parentElement.removeChild(r)},t.handleMouseDown=function(e,t){var n=t.setFormat;if(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),e.target instanceof Element){var r=function(e){for(var t=e;t;){var n=t.getAttribute("adit-key");if(null!=n)return[n,t.getAttribute("adit-value")];t=t.parentElement}return null}(e.target);if(!r)return;var i=fs(r,2);n(i[0],i[1]||void 0)}},t.render=function(){var e=this,t=e.didMount,n=e.handleMouseDown,r=e.handleClick,i=e.iframeRef,o=e.containerRef,a=e.wrapperRef,l=e.elements,s=e.plateRef,u=e.options;return up("div",{didMount:t,ref:o,$mousedown:n,$click:r,className:"editor-kit-wrapper-container adit-wrapper-container "+u.direction+" table-special-selection"},[up("div",{ref:a,className:"adit-wrapper"},l),up("div",{ref:s,className:"adit-plate "+u.direction+(u.vertical?" vertical":""),style:{display:"none"}}),up("iframe",{ref:i,className:"adit-toolbar-iframe"})])},e}();function WI(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ZI({direction:"bottom",vertical:!1},e).render()}WI.withOptions=function(e){var t=void 0===e?{direction:"bottom",vertical:!1}:e,n=t.direction,r=void 0===n?"bottom":n,i=t.vertical,o=void 0!==i&&i;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ZI({direction:r,vertical:o},e).render()}};var UI="adit-tooltip-fix-position";function KI(e){var t=e.i18nName,n=e.text,r=e.shortCut,i=e.markdown,o=ap();return up("div",{didMount:function(e,a){var l=a.i18n,s=""+(n=n||l["toolbar."+t])+(r?" ("+r+")":"")+(null==i||""===i?"":"\nMarkdown: "+i);o.getSafeCurrent().innerHTML=s},className:"adit-tooltip-container"},up("div",{className:"adit-tooltip-transition"},up("div",{className:"adit-tooltip-box"},up("div",{ref:o,className:"adit-tooltip-content"}))))}function YI(){var e="adit-fix-tooltip-style",t=document.querySelector("."+e);if(!t){var n=document.createElement("style");return n.setAttribute("class",e),document.head.appendChild(n),n}return t}function GI(e){var t=e.Anchor,n=e.Tooltip,r=e.delay,i=void 0===r?".5s":r,o=ap(),a=ap(),l=!1;function s(e){l=e;var t=o.getSafeCurrent();l?t.classList.add("adit-tooltip-hover"):t.classList.remove("adit-tooltip-hover")}var u=!1;function c(e){u=e;var t=o.getSafeCurrent();u?(t.classList.add("adit-tooltip-visible"),function(e,t){var n=e.querySelector(".adit-tooltip-container"),r=e.querySelector(".adit-anchor"),i=t.getBoundingClientRect(),o=i.left,a=i.right;if(n&&r){var l=n.getBoundingClientRect();if(l.left<o){var s=o+2,u=(f=(d=r.getBoundingClientRect()).left+d.width/2)-s,c="\n       .adit-tooltip-fix-position.adit-tooltip-container {\n         left: "+(s-l.left)+"px;\n       }\n       ."+UI+" .adit-tooltip-box::before {\n         left: "+u+"px;\n       }\n      ";return YI().innerHTML=c,void n.classList.add(UI)}if(l.right>a){var d,f=(d=r.getBoundingClientRect()).left+d.width/2,h=(s=l.right-a+2,l.left-s);c="\n      .adit-tooltip-fix-position.adit-tooltip-container {\n        left: -"+s+"px;\n      }\n      ."+UI+" .adit-tooltip-box::before {\n        left: "+(u=f-h)+"px;\n      }\n     ",YI().innerHTML=c,n.classList.add(UI)}}}(t,a.getCurrent()||document.documentElement)):(t.classList.remove("adit-tooltip-visible"),function(e){var t=e.querySelector(".adit-tooltip-container");t&&t.classList.remove(UI)}(t))}var d,f=!1;return up("div",{ref:o,didMount:function(e,t){var n=t.boundary;n&&a.setCurrent(n);var r=o.getSafeCurrent().querySelector(".adit-tooltip-transition");if(!r)throw new Error("div.adit-tooltip-transition not found.");var i=function(){!f&&l&&(f=!0)},s=function(){!l&&u&&c(!1)};return(d=r).addEventListener("transitionstart",i),d.addEventListener("transitionend",s),function(){d.removeEventListener("transitionstart",i),d.removeEventListener("transitionend",s)}},className:"adit-tooltip-pivot"},[up("div",{className:"adit-anchor",$mouseenter:function(){d.style.transitionDelay=i,s(!0),c(!0)},$mouseleave:function(){d.style.transitionDelay="",s(!1),f||c(!1),f=!1}},t),up("div",{className:"adit-tooltip"},n)])}var VI=document.createElement("div");VI.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M5 2.709C5 2.317 5.317 2 5.709 2h6.734a5.317 5.317 0 013.686 9.148 5.671 5.671 0 01-2.623 10.7H5.71a.709.709 0 01-.71-.707V2.71zm2 7.798h5.443a3.19 3.19 0 003.19-3.19c0-1.762-1.428-3.317-3.19-3.317H7v6.507zm0 2.126v7.09h6.507a3.544 3.544 0 000-7.09H7z"/></svg>';const QI=VI.firstChild;var XI=document.createElement("div");XI.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M14.825 5.077L11.19 18.923h4.052a1.038 1.038 0 110 2.077H4.954a1.038 1.038 0 110-2.077h4.053l3.636-13.846H8.591A1.038 1.038 0 118.59 3h10.287a1.038 1.038 0 010 2.077h-4.053z"/></svg>';const qI=XI.firstChild;var JI=document.createElement("div");JI.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M7.361 3.052a.99.99 0 00-.989-.994.998.998 0 00-.999.994v5.765c0 4.205 2.601 7.29 6.627 7.29s6.627-3.085 6.627-7.29V3.052a.996.996 0 00-.996-.994.992.992 0 00-.992.994v5.765c0 3.003-1.763 5.302-4.639 5.302-2.876 0-4.639-2.299-4.639-5.302V3.052zM3.054 19.42a.988.988 0 00-.994.988 1 1 0 00.994 1h17.892a1 1 0 00.994-1.002.987.987 0 00-.994-.986H3.054z"/></svg>';const $I=JI.firstChild;var eC=document.createElement("div");eC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.707 2.293a1 1 0 010 1.414L5.414 7H14.5a7.5 7.5 0 010 15H11a1 1 0 110-2h3.5a5.5 5.5 0 100-11H5.414l3.293 3.293a1 1 0 11-1.414 1.414l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 0z"/></svg>';const tC=eC.firstChild;var nC=document.createElement("div");nC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.293 2.293a1 1 0 000 1.414L18.586 7H9.5a7.5 7.5 0 000 15H13a1 1 0 100-2H9.5a5.5 5.5 0 110-11h9.086l-3.293 3.293a1 1 0 001.414 1.414l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.414 0z"/></svg>';const rC=nC.firstChild;var iC=document.createElement("div");iC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M5.491 7.226a5.102 5.102 0 011.41-3.395C8.017 2.636 9.717 2 11.818 2c2.142 0 3.78.57 4.867 1.689.705.69 1.096 1.394 1.423 2.598.075.276.036.468-.092.491l-1.86.345c-.141.026-.183-.026-.244-.31-.147-.682-.325-1.067-.695-1.497-.735-.93-1.908-1.419-3.386-1.419-2.403 0-4.154 1.395-4.2 3.393-.02.846.338 1.58.995 2.043h-2.75c-.27-.621-.403-1.332-.385-2.107zm8.905 6.024H3.866a.533.533 0 01-.533-.533v-.809c0-.294.24-.533.534-.533H20.3c.295 0 .534.239.534.533v.809a.533.533 0 01-.534.533h-2.59c.542.806.96 1.954.934 3.055C18.562 19.82 15.87 22 11.573 22c-2.876 0-5.029-.964-6.13-2.745-.382-.629-.58-1.148-.793-2.11-.108-.488-.078-.54.326-.618l1.41-.271c.44-.085.495-.04.576.376.187.966.454 1.533.992 2.094.805.858 2.104 1.305 3.766 1.305 2.845 0 4.696-1.39 4.747-3.61.025-1.072-.306-1.872-1-2.365a55.35 55.35 0 01-1.071-.806z"/></svg>';const oC=iC.firstChild;var aC=document.createElement("div");aC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M6.865 21C4.275 21 2 18.88 2 15.037c0-4.5 3.143-9.725 6.518-12.422a.888.888 0 011.203.107c.398.424.32 1.11-.112 1.5-2.412 2.17-5.32 6.855-5.153 9.055.215-.113 1.277-.516 2.801-.516 2.197 0 3.845 1.726 3.845 4.002A4.22 4.22 0 016.865 21zm10.898 0c-2.59 0-4.865-2.119-4.865-5.963 0-4.5 3.143-9.725 6.518-12.422a.888.888 0 011.203.107c.398.424.32 1.11-.112 1.5-2.412 2.17-5.32 6.855-5.153 9.055.215-.113 1.277-.516 2.801-.516 2.197 0 3.845 1.726 3.845 4.002A4.22 4.22 0 0117.763 21z"/></svg>';const lC=aC.firstChild;var sC=document.createElement("div");sC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 5.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM9 3a1 1 0 000 2h13a1 1 0 100-2H9zm0 8a1 1 0 100 2h13a1 1 0 100-2H9zm-1 9a1 1 0 011-1h13a1 1 0 110 2H9a1 1 0 01-1-1zm-3-8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm-1.5 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"/></svg>';const uC=sC.firstChild;var cC=document.createElement("div");cC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M4.577 1.809a.543.543 0 00-.819-.469l-.502.296-.004.003-.309.187c-.342.207-.858.519-1.142.701a.573.573 0 00-.261.485c0 .482.544.774.948.522.227-.141.465-.287.642-.395v3.478a.723.723 0 101.447 0V1.81zm-.899 7.128c-1.233 0-2.056.817-2.056 1.84a.25.25 0 00.25.251h.891a.259.259 0 00.26-.259c0-.32.227-.589.608-.589a.62.62 0 01.428.15.52.52 0 01.16.396c0 .315-.188.579-.538.949l-1.815 1.968a.672.672 0 00.494 1.127h3.003a.63.63 0 000-1.26H3.744l.933-1.047c.61-.652.99-1.127.99-1.834a1.57 1.57 0 00-.563-1.226c-.356-.3-.852-.466-1.426-.466zm.015 7.429c-1.006 0-1.692.478-1.946 1.178a.541.541 0 00.107.553c.122.137.307.22.503.22a.773.773 0 00.478-.18c.125-.098.23-.222.312-.33.096-.124.257-.224.511-.224.21 0 .37.063.472.152a.46.46 0 01.16.359v.002a.503.503 0 01-.165.391.71.71 0 01-.483.16h-.14a.606.606 0 100 1.213h.168c.275 0 .468.074.59.178a.538.538 0 01.186.42.554.554 0 01-.185.435c-.122.107-.314.184-.583.184-.32 0-.528-.114-.644-.264a1.776 1.776 0 00-.308-.323.766.766 0 00-.47-.174.678.678 0 00-.504.22.549.549 0 00-.114.55c.244.717.926 1.22 2.012 1.22.602 0 1.161-.168 1.575-.478.416-.311.683-.768.676-1.323-.01-.69-.376-1.122-.793-1.332.34-.231.63-.644.621-1.224-.019-.962-.92-1.583-2.036-1.583zM8 4a1 1 0 011-1h13a1 1 0 110 2H9a1 1 0 01-1-1zm0 8a1 1 0 011-1h13a1 1 0 110 2H9a1 1 0 01-1-1zm0 8a1 1 0 011-1h13a1 1 0 110 2H9a1 1 0 01-1-1z"/></svg>';const dC=cC.firstChild;var fC=document.createElement("div");fC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.207 10.207a1 1 0 00-1.414-1.414L11 13.586l-2.293-2.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l5.5-5.5z"/><path d="M2 4a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H4a2 2 0 01-2-2V4zm2 0v16h16V4H4z"/></svg>';const hC=fC.firstChild;var pC=document.createElement("div");pC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M21 3a1 1 0 112 0v18a1 1 0 11-2 0V3zm-1.911 9.651a.8.8 0 000-1.302l-4.824-3.445a.8.8 0 00-1.265.65V11H2a1 1 0 100 2h11v2.445a.8.8 0 001.265.651l4.824-3.445z"/></svg>';const gC=pC.firstChild;var vC=document.createElement("div");vC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M2 3a1 1 0 00-1 1v16a1 1 0 102 0v-7h9v7a1 1 0 102 0V4a1 1 0 10-2 0v7H3V4a1 1 0 00-1-1zm15.604 9.91a.4.4 0 01-.585-.355c0-.533 0-.774.004-1.582a.4.4 0 01.203-.347l2.769-1.568A.39.39 0 0120.197 9h1.404c.234 0 .423.21.423.468V19.95c0 .593-.483 1.073-1.075 1.073a1.07 1.07 0 01-1.07-1.073v-8.228l-2.275 1.19z"/></svg>';const mC=vC.firstChild;var bC=document.createElement("div");bC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M2 3a1 1 0 00-1 1v16a1 1 0 102 0v-7h9v7a1 1 0 102 0V4a1 1 0 10-2 0v7H3V4a1 1 0 00-1-1zm20.993 16.872c0-.561-.455-1.015-1.017-1.015h-3.121l3.407-4.272a3.35 3.35 0 00.731-2.126c-.01-.992-.347-1.816-1.005-2.464-.647-.651-1.492-.984-2.523-.995-.931.011-1.72.34-2.356.982-.37.386-.941 1.044-.941 1.602 0 .591.48 1.07 1.07 1.07.563 0 .769-.347.993-.726.06-.101.12-.204.19-.304a1.36 1.36 0 01.186-.214c.262-.252.584-.376.982-.376.447.01.784.15 1.02.423.234.28.35.606.35.987 0 .146-.019.303-.057.471-.05.152-.156.341-.315.548l-4.402 5.506a.4.4 0 00-.087.25v1.022c0 .221.267.65.606.65h5.272c.562 0 1.017-.457 1.017-1.019z"/></svg>';const yC=bC.firstChild;var wC=document.createElement("div");wC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M2 3a1 1 0 00-1 1v16a1 1 0 102 0v-7h9v7a1 1 0 102 0V4a1 1 0 10-2 0v7H3V4a1 1 0 00-1-1zm21 14.296c0-.51-.108-.998-.324-1.461a2.923 2.923 0 00-.877-1.044c.377-.297.65-.63.816-1.001.17-.44.252-.886.252-1.348a3.48 3.48 0 00-.943-2.385C21.274 9.363 20.398 9.01 19.31 9a3.179 3.179 0 00-2.251.932c-.349.336-.848.879-.848 1.384a1 1 0 001 1c.482 0 .767-.352 1.043-.692l.09-.11c.057-.07.121-.132.192-.185.256-.2.53-.296.834-.296.431.01.779.144 1.049.405.267.267.406.61.415 1.04 0 .417-.133.75-.4 1.008-.335.335-.766.387-1.212.387a.958.958 0 100 1.917h.088c.452-.002.824-.003 1.205.353.29.277.442.674.452 1.201-.01.51-.16.894-.451 1.162-.296.296-.65.44-1.076.44-.4 0-.712-.107-.944-.316l-.008-.008a8.055 8.055 0 01-.213-.207c-.1-.099-.178-.207-.254-.31-.193-.264-.366-.5-.81-.5a1 1 0 00-1 1c0 .574.543 1.19.954 1.533.635.53 1.35.84 2.174.84 1.057-.01 1.93-.35 2.609-1.018.69-.651 1.04-1.545 1.052-2.664z"/></svg>';const IC=wC.firstChild;var CC=document.createElement("div");CC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M2 4a1 1 0 011-1h18a1 1 0 110 2H3a1 1 0 01-1-1zm0 16a1 1 0 011-1h18a1 1 0 110 2H3a1 1 0 01-1-1zm1-9a1 1 0 100 2h9a1 1 0 100-2H3z"/></svg>';const kC=CC.firstChild;var EC=document.createElement("div");EC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M2 4a1 1 0 011-1h18a1 1 0 110 2H3a1 1 0 01-1-1zm0 16a1 1 0 011-1h18a1 1 0 110 2H3a1 1 0 01-1-1zm10-9a1 1 0 100 2h9a1 1 0 100-2h-9z"/></svg>';const xC=EC.firstChild;var MC=document.createElement("div");MC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M2 4a1 1 0 011-1h18a1 1 0 110 2H3a1 1 0 01-1-1zm0 16a1 1 0 011-1h18a1 1 0 110 2H3a1 1 0 01-1-1zm6-9a1 1 0 100 2h8a1 1 0 100-2H8z"/></svg>';const SC=MC.firstChild;var TC=document.createElement("div");TC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M9.77 11.833h4.476l1.354 3.425a.383.383 0 00.356.242h.714a.383.383 0 00.356-.523L12.98 4.742a.383.383 0 00-.356-.242h-1.21a.383.383 0 00-.355.24L6.977 14.977a.382.382 0 00.356.524h.714a.383.383 0 00.356-.24l1.366-3.427zm2.248-5.638L13.72 10.5h-3.418l1.717-4.305z"/><rect x="5" y="17" width="14" height="3" rx=".4"/></svg>';const AC=TC.firstChild;var NC=document.createElement("div");NC.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M11.253 4.14a.381.381 0 01.54 0l.434.434 1.333 1.333 3.139 3.14c.3.299.297.786-.006 1.083l-5.204 5.1a.762.762 0 01-1.073-.006l-3.938-3.938a.762.762 0 01.006-1.083l4.82-4.723-.426-.426a.381.381 0 010-.539l.375-.376zm-3.427 6.49L12.2 6.376l.444.445 2.796 2.795-1.042 1.012H7.826zm9.608 4.264c.49-.523.49-1.37 0-1.894l-.888-.947-.889.947a1.403 1.403 0 000 1.894 1.2 1.2 0 001.777 0z"/><rect x="5" y="17" width="14" height="3" rx=".4"/></svg>';const LC=NC.firstChild;var DC=Tc.isWindows?"Ctrl":"⌘",zC=Tc.isWindows?"Alt":"Option",OC=[[QI,"bold",DC+"+B","**Text** Space","bold"],[qI,"italic",DC+"+I","*Text* Space","italic"],[$I,"underline",DC+"+U","~Text~ Space","underline"],[tC,"undo",DC+"+Z",void 0,"undo"],[rC,"redo",Tc.isWindows?DC+"+Y":DC+"+Shift+Z",void 0,"redo"],[oC,"strikethrough",DC+"+Shift+X","~~Text~~ Space","strikethrough"],[lC,"blockquote",DC+"+Shift+>","> Space","blockquote","true"],[uC,"unorderlist",DC+"+Shift+8","- Space","list","bullet"],[dC,"orderlist",DC+"+Shift+7","1. Space","list","number"],[hC,"checkbox",DC+"+"+zC+"+T","[] Space","list","check"],[gC,"text-indent",DC+"+]",void 0,"indentRight","true"],[mC,"h1",DC+"+"+zC+"+1","# Space","heading","h1"],[yC,"h2",DC+"+"+zC+"+2","## Space","heading","h2"],[IC,"h3",DC+"+"+zC+"+3","### Space","heading","h3"],[SC,"align-center",DC+"+Shift+E",void 0,"align","center"],[kC,"align-left",DC+"+Shift+L",void 0,"align","left"],[xC,"align-right",DC+"+Shift+R",void 0,"align","right"]],RC=[{aditKey:"fontcolor",icon:AC,defaultColor:"rgb(0, 0, 0)"},{aditKey:"backgroundcolor",icon:LC,defaultColor:"rgb(255, 255, 255)"}],_C=[{size:"12px",text:"小"},{size:"14px",text:"正常",isDefault:!0},{size:"16px",text:"大"},{size:"20px",text:"最大"}],jC=["monospace","Aril black, sans-serif","Arial narrow, sans-serif","arial, helvetica, sans-serif","comic sans ms, sans-serif","Garamond, serif","Georgia, serif","Tahoma, sans-serif","Trebuchet MS, sans-serif","Verdana, sans-serif","Times new Roman, serif"],PC=["Fixed width","Wide font","Narrow font","Sans-Serif","comic sans ms","Garamond","Georgia","Tahoma","Trebuchet MS","Verdana","Serif"],BC=Array.from({length:jC.length}).map((function(e,t){return{font:jC[t],text:PC[t],style:{fontFamily:jC[t]}}}));BC[3].isDefault=!0;var FC=["固定宽度","宽字体","窄字体","Sans-Serif","comic sans ms","Garamond","Georgia","Tahoma","Trebuchet MS","Verdana","Serif"],HC=Array.from({length:jC.length}).map((function(e,t){return{font:jC[t],text:FC[t],style:{fontFamily:jC[t]}}}));HC[3].isDefault=!0;var ZC=[{font:"simsun, STSong, serif",text:"宋体",style:{fontFamily:"simsun, STSong, serif"},isDefault:!0},{font:"simhei, STHeiti, sans-serif",text:"黑体",style:{fontFamily:"simhei, STHeiti, sans-serif"}},{font:"nsimsun, monospace",text:"新宋",style:{fontFamily:"nsimsun, monospace"}}],WC=[{font:"ms pgothic, sans-serif",text:"Ｐゴシック",style:{fontfamily:"ms pgothic, sans-serif"},isDefault:!0},{font:"ms pmincho, serif",text:"Ｐ明朝",style:{fontfamily:"ms pmincho, serif"}},{font:"ms gothic, monospace",text:"ゴシック",style:{fontfamily:"ms gothic, monospace"}}];function UC(e){var t=e.icon,n=ls(e,["icon"]);return up("div",as({className:"adit-format-button"},n),RI(t,!0))}var KC=fs(OC.map((function(e){var t=fs(e,6),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],l=t[5];return function(e){var t=void 0===e?{}:e,s=t.icon,u=void 0===s?n:s,c=t.text,d=t.markdown,f=t.delay,h=void 0===f?"0":f;return GI({Anchor:UC({icon:u,"adit-key":a,"adit-value":l}),Tooltip:KI({i18nName:r,text:c,shortCut:i,markdown:null==d?o:d}),delay:h})}})),17),YC=KC[0],GC=KC[1],VC=KC[2],QC=KC[3],XC=KC[4],qC=KC[5],JC=KC[6],$C=KC[7],ek=KC[8],tk=KC[9],nk=KC[10],rk=KC[11],ik=KC[12],ok=KC[13],ak=KC[14],lk=KC[15],sk=KC[16],uk=document.createElement("div");uk.innerHTML='<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M6 6.3l2.65-2.65a.5.5 0 11.7.7L6 7.71 2.65 4.35a.5.5 0 11.7-.7L6 6.29z"/></svg>';const ck=uk.firstChild;var dk=document.createElement("div");dk.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M14.066 20.357L12.018 15H4.983l-2.049 5.357a1 1 0 11-1.868-.714L7.1 3.864c.492-1.285 2.31-1.285 2.802 0l6.033 15.779a1 1 0 11-1.868.714zM8.5 5.8L5.747 13h5.506L8.5 5.8zm11.436 7.302c-.587 0-1.156.205-1.608.58l-.291.24a.9.9 0 11-1.148-1.386l.291-.241a4.323 4.323 0 012.757-.992h.327a3.235 3.235 0 013.146 2.482c.064.266.096.54.096.813l-.003 5.502a.9.9 0 01-1.8 0v-.13a3.927 3.927 0 01-2.148.634h-.533a2.522 2.522 0 01-2.522-2.521 2.978 2.978 0 012.979-2.979h2.226v-.507c0-.132-.015-.264-.046-.393a1.435 1.435 0 00-1.395-1.102h-.328zm1.75 3.802H19.48c-.651 0-1.179.528-1.179 1.178 0 .4.323.722.722.722h.533c1.102 0 2.01-.83 2.131-1.9z"/></svg>';const fk=dk.firstChild;function hk(e){var t=e.arrowIcon,n=e.direction,r=void 0===n?"bottom":n,i=e.aditKey,o=e.isDynamic,a=void 0===o||o,l=e.Menu;(t=RI(t,!0)).style.marginLeft="4px";var s,u=ap(),c=ap(),d=ap();return up("div",{ref:u,didMount:function(e){var t=!0;return _I.call(document.body,"click",(function(n){var r=u.getSafeCurrent(),i=c.getSafeCurrent();if(n.target instanceof Element){if(jI(n.target).includes(e))return t=!t,r.style.zIndex=t?"":"999",void(i.style.display=t?"none":"");t||(t=!0,r.style.zIndex="",i.style.display="none")}}))},className:"adit-dropdown","adit-group":i},[up("div",{className:"adit-dropdown-pivot"},[up("button",{className:"adit-format-button",type:"button"},[up("span",{ref:d,className:"adit-format-icon"}),t]),up("div",{ref:c,className:"adit-dropdown-locate "+r,style:{display:"none"}},up("div",{didMount:function(e,t){return(0,t.subscribeRender)((function(e,t){return s(e,t)}))},className:"adit-dropdown-box"},l({setUpdater:function(e){s=e},updateIcon:function(e){if(a){var t=d.getSafeCurrent();t.innerHTML="",t.append("string"==typeof e?e:RI(e,!0))}}})))])])}function pk(e,t,n,r,i){var o=r.findIndex((function(e){return null!=fs(e,2)[1]["adit-default"]}));return-1===o&&(o=0),e((function(e){var i=e[n];if(i){var a=r.findIndex((function(e){return fs(e,1)[0]===i}));t(r[-1===a?o:a][2])}else t(r[o][2])})),r.map((function(e){var t=fs(e,3),r=t[0],o=t[1],a=t[2];a="string"==typeof a?a:RI(a,!0);var l=up("div",as({"adit-key":n,"adit-value":r},o),a);return i?i(l,r):l}))}var gk=Tc.isWindows?"Ctrl":"⌘",vk={center:{i18nName:"align-center",shortCut:gk+"+Shift+E"},left:{i18nName:"align-left",shortCut:gk+"+Shift+L"},right:{i18nName:"align-right",shortCut:gk+"+Shift+R"}};function mk(e,t){return GI({Anchor:e,Tooltip:KI(vk[t]),delay:"0"})}function bk(e){var t=e.text,n=e.style;return up("span",{className:"icon-fontfamily",style:n},up("span",null,t)).getHTMLElement()}var yk=document.createElement("div");yk.innerHTML='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg" class="swatches-color__icon"><path d="M2.7 4.95a1 1 0 10-1.4 1.42l3.37 3.37 6.04-6.03a1 1 0 10-1.42-1.42L4.67 6.92 2.71 4.95z"/></svg>';const wk=yk.firstChild;function Ik(e){var t=e.aditKey,n=e.icon,r=e.direction,i=void 0===r?"bottom":r,o=e.colors,a=e.defaultColor;if(o.length>10)throw new Error("Too much colors' columns. Must be less than or equal to 10.");o=function(e){return e.map((function(e){return e.map((function(e){return e.startsWith("#")?OI(e):e}))}))}(o),a.startsWith("#")&&(a=OI(a));var l=null==a?o[0][0]:a,s=ap(),u=ap(),c=ap(),d=!0,f=ap(),h=[];return up("div",{className:"adit-dropdown","adit-group":t},function(){n=RI(n,!0);var e=RI(ck,!0);c.setCurrent(n.getElementsByTagName("rect")[0]).style.fill=l;var r=ap();return up("span",{didMount:function(e,n){var i=n.subscribeRender,o=_I.call(document.body,"click",(function(e){var t=s.getSafeCurrent(),n=r.getSafeCurrent(),i=t.children[0],o=i.children[0];if(e.target instanceof Element){var a=jI(e.target);if(a.includes(t))return;if(a.includes(n)){d=!d,t.style.display=d?"none":"";var l=t.getBoundingClientRect(),u=l.left+l.width-window.innerWidth;return void(l&&u>0&&(u+=10,t.style.marginLeft="-"+u+"px",i.style.marginLeft=2*u+"px",o.style.marginLeft="-"+2*u+"px"))}d||(d=!0,t.style.display="none",t.style.marginLeft="",i.style.marginLeft="",o.style.marginLeft="")}})),p=i((function(e){!function(e){e.startsWith("#")&&(e=OI(e));var t=f.getSafeCurrent(),n=s.getSafeCurrent(),r=u.getSafeCurrent(),i=c.getSafeCurrent();d=!0,n.style.display="none",e!==l&&(l=e,h.forEach((function(e){return e.removeAttribute("adit-swatch-selected")})),h.length=0,t.querySelectorAll('[adit-value="'+e+'"]').forEach((function(e){e.setAttribute("adit-swatch-selected",""),h.push(e)})),r.setAttribute("adit-value",e),i.style.fill=e)}(e[t]||a)}));return function(){o(),p()}},className:"adit-format-button adit-color-picker-btn"},[up("button",{ref:u,"adit-key":t,"adit-value":l,"adit-disable-selected":"",type:"button"},n),up("div",{className:"adit-dropdown-pivot"},[up("button",{ref:r,type:"button"},e),up("div",{ref:s,className:"adit-dropdown-locate "+i,style:{display:"none"}},up("div",{className:"adit-dropdown-box"},up("div",{ref:f,didMount:function(e){e.querySelectorAll('[adit-value="'+l+'"]').forEach((function(e){e.setAttribute("adit-swatch-selected",""),h.push(e)}))},className:"adit-color-picker"},o.map((function(e){return up("div",{className:"adit-color-picker-col"},e.map((function(e){var n=e,r=RI(wk,!0);return new RegExp("^\\s*(#(fff)\\2?|rgba?\\s*\\(\\s*255\\s*,\\s*255\\s*,\\s*255\\s*\\)|rgba\\s*\\(\\s*255\\s*,\\s*255\\s*,\\s*255\\s*,\\s*(\\d*\\.\\d+|\\d+)\\s*\\))\\s*;?$","i").test(e)&&(n="rgb(241, 242, 243)",r.style.fill="#000"),up("div",{"adit-key":t,"adit-value":e,className:"color-swatch",style:{backgroundColor:e,borderColor:n}},r)})))})))))])])}())}var Ck=fs(RC.map((function(e){return function(t){return Ik(Object.assign({},e,t))}})),2),kk=Ck[0],Ek=Ck[1],xk=document.createElement("div");xk.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M10.141 17.988l-4.275-.01a.3.3 0 01-.212-.512l4.133-4.133a.4.4 0 01.566 0l1.907 1.907 5.057-5.057a.4.4 0 01.683.283V17.7a.3.3 0 01-.3.3h-7.476a.301.301 0 01-.083-.012zM4 22c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2v16c0 1.1-.9 2-2 2H4zm0-2h16V4H4v16zM6 6h3v3H6V6z"/></svg>';const Mk=xk.firstChild;function Sk(e){var t=e.icon;return t=RI(t,!0),up("div",{className:"adit-format-button","adit-group":"image","adit-key":ng.KEY},[t])}var Tk=document.createElement("div");Tk.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M16.211 12.894l-5.764 2.882A1 1 0 019 14.882V9.118a1 1 0 011.447-.894l5.764 2.882a1 1 0 010 1.788z"/><path d="M1 5c0-1.1.9-2 2-2h18c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V5zm20 0H3v14h18V5z"/></svg>';const Ak=Tk.firstChild;var Nk;!function(e){e.successView="SUCCESS_VIEW",e.loadingView="LOADING_VIEW",e.failView="FAIL_VIEW",e.notShowView="NOT_SHOW_VIEW"}(Nk||(Nk={}));var Lk,Dk=function(e){function t(t){var n=e.call(this)||this;n.maps=new Map,n.onSuccess=function(e,t){return!!n.maps.get(e)&&(n.maps.set(e,{status:Nk.successView,src:t}),n._updateAttributes(e,{src:t}))},n.onError=function(e){return!!n.maps.get(e)&&(n.maps.set(e,{status:Nk.failView,src:"none"}),n._deleteOnError(e))},n.onProgress=function(){return!0},n.updateAttributes=function(e,t){n._updateAttributes(e,t)},n.updateFileObjectID=function(e,t,r){e.forEach((function(e){e instanceof ae&&e.forEach((function(e){var i;(null===(i=e.attributes)||void 0===i?void 0:i[r])&&(e.attributes[t]=n.createObjectID())}))}))},n._deleteOnError=function(e){var t=n.editor.getContentState(),r=t.getEntities([["sourceID",e]]);if(r.length<1)return!0;var i={},o=he(r,(function(e){return e.start.zoneId})),a=function(e){if(o.hasOwnProperty(e)){var n=new ae({zoneId:e}),r=o[e],a=0;r.forEach((function(e){var r=e.start,i=e.end,o=t.getZoneState(r.zoneId);if(o){var l=o.getLine(r.line),s=o.pointToOffset(r),u=o.pointToOffset(i);if(null!==s&&null!==u){var c=s-a,d=u-s;a=u-1,(null==l?void 0:l.hasLineMarker())&&(c--,d++),n.retain(c).delete(d)}}})),i[e]=n}};for(var l in o)a(l);var s=new J(i);return t.apply(s),!0},n._updateAttributes=function(e,t,r){void 0===r&&(r={});var i=n.editor.getContentState(),o=i.getEntities([["sourceID",e]]);return!(o.length<1)&&(o.forEach((function(e){i.setAttributes(e,t,r)})),!0)},n.createObjectID=function(){return zt(8)};var r=t.editor;return n.editor=r,n}return os(t,e),t.prototype.destroy=function(){this.maps.clear()},t}(Er);!function(e){e.successView="SUCCESS_VIEW",e.loadingView="LOADING_VIEW",e.failView="FAIL_VIEW",e.notShowView="NOT_SHOW_VIEW"}(Lk||(Lk={}));var zk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const Ok=e=>{let t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return i.createElement("svg",zk({viewBox:"0 0 100 100"},t),i.createElement("circle",{cx:"50",cy:"50",r:"35",stroke:"currentColor",strokeWidth:"11",strokeLinecap:"round",strokeMiterlimit:"10",fill:"none"}))};var Rk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const _k=e=>{let t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return i.createElement("svg",Rk({width:"140",height:"140",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i.createElement("path",{d:"M11.824 40.824l-8.549-8.939C17.504 17.094 37.147 7.91 58.961 7.91s41.457 9.184 55.685 23.975l-8.548 8.939C94.011 28.1 77.3 20.266 58.961 20.266c-18.34 0-35.05 7.834-47.137 20.558zm17.828 18.64l-8.544-8.933c9.767-9.822 23.074-15.9 37.853-15.9 14.78 0 28.086 6.078 37.853 15.9l-8.544 8.934c-7.626-7.748-17.997-12.478-29.309-12.478-11.312 0-21.683 4.73-29.309 12.478zm18.402 19.242l-8.549-8.939c4.96-5.083 11.82-8.285 19.456-8.285 7.664 0 14.5 3.187 19.456 8.284l-8.549 8.94c-2.815-3.032-6.72-4.869-10.907-4.869-4.217 0-8.093 1.82-10.907 4.868z",fill:"#A6A6A6"}),i.createElement("path",{d:"M111.042 68.673c0-5.824-5.609-7.755-12.501-8.509v6.792c5.329.685 9.617 3.55 11.159 6.205l1.342-4.488zM5.421 67.8c0-4.067 1.52-10.456 11.23-12.085v7.771C8.14 65.117 5.998 77.796 5.998 77.796S5.42 74.123 5.42 67.8z",fill:"#fff",fillOpacity:".4"}),i.createElement("path",{d:"M10.72 91.348c.322.143.656.288 1 .433 7.003 2.953 18.49 6.128 27.799 6.128v8.785c-.332 0-.666-.003-1-.009-10.76-.185-22.272-3.305-27.799-6.269v-9.068zm1 1.517v6.944c5.554 2.795 16.516 5.696 26.799 5.876v-6.788c-9.11-.209-19.93-3.195-26.799-6.032z",fill:"#E0E0E0"}),i.createElement("path",{d:"M5.407 76.116v-8.28c0 8.28 20.038 13.727 36.344 13.727v8.123c-14.53 0-36.344-5.044-36.344-13.57z",fill:"#41CCB9"}),i.createElement("path",{d:"M112.511 93.973v9.583c-10.752 5.328-25.394 8.55-50.924 7.158v-8.305c28.226.941 39.644-1.83 50.924-8.436z",fill:"#4C88FF"}),i.createElement("path",{d:"M111.039 68.403a14.576 14.576 0 0 1-1.001 3.16c-4.757 10.583-21.397 12.34-34.755 12.34v7.355c.332 0 .666-.001 1.001-.005 16.235-.17 34.755-4.494 34.755-14.108v-8.742zm-1.001 5.316v3.4c0 2.089-1.015 3.95-2.937 5.609-1.933 1.669-4.728 3.076-8.106 4.206-6.467 2.163-14.84 3.235-22.71 3.32V84.9c7.083-.047 15.052-.62 21.681-2.769 5.094-1.652 9.516-4.28 12.072-8.411z",fill:"#E0E0E0"}),i.createElement("path",{d:"M98 43.309c9.941 0 18-8.06 18-18 0-9.942-8.059-18-18-18s-18 8.058-18 18c0 9.94 8.059 18 18 18z",fill:"#F2962C"}),i.createElement("path",{d:"M97.182 17.125a.818.818 0 0 0-.818.818v9.818c0 .452.366.819.818.819h1.636a.818.818 0 0 0 .819-.819v-9.818a.818.818 0 0 0-.819-.818h-1.636zm0 13.091a.818.818 0 0 0-.818.818v1.636c0 .452.366.819.818.819h1.636a.818.818 0 0 0 .819-.819v-1.636a.818.818 0 0 0-.819-.818h-1.636z",fill:"#fff"}))};const jk=function(e){var t=e.src,n=e.status,r=e.objectID,o=e.customProps,a=e.context,l=e.renderVideoView,s=e.getXgPlayer,u=e.setPlayerInstance,c=fs((0,i.useState)(!1),2),d=c[0],f=c[1],h=fs((0,i.useState)("video-upload-loading"),2),p=h[0],g=h[1],v=fs((0,i.useState)(i.createElement(Ok,null)),2),m=v[0],b=v[1],y=function(){return l?l(t,a):(function(){if(s){var e=Object.assign({height:450,autoplay:!1,volume:.3,closeFocusVideoFocus:!0},o);s().then((function(n){if(n){var i=new n(as({id:r,url:t},e));u&&u(i)}}))}}(),i.createElement(i.Fragment,null))};(0,i.useEffect)((function(){var e=function(){switch(n){case Lk.loadingView:return g("video-upload-loading"),i.createElement(Ok,null);case Lk.successView:return g("video-upload-successful"),y();case Lk.failView:return g("video-upload-failed"),i.createElement("div",{className:"fail-wrapper"},i.createElement(_k,null),i.createElement("span",null,"视频加载失败！"));default:return g("video-upload-loading"),i.createElement(Ok,null)}}();b(e)}),[n,t]);return i.createElement(ml,{key:r,className:"video-container",onSelect:function(){f(!0)},onDeselect:function(){f(!1)},disableDefaultSelected:!0},i.createElement("span",{className:"video-wrapper "+(d?"selected":"")},i.createElement("div",{id:r,className:p},m)))};var Pk="video/mpeg, video/mp4, video/3gpp, video/3gpp2 ,video/ogg, video/webm, video/quicktime, video/x-msvideo, video/mpeg2, video/x-m4v,video/x-ms-wmv",Bk=zt(6);var Fk=function(e){function t(n){var r=e.call(this,n)||this;r.name="Video",r.uploadInput=function(){var e,t,n=document.createElement("input"),r={type:"file",id:Bk,multiple:"true",style:"display: none;",accept:Pk};try{for(var i=ds(Object.entries(r)),o=i.next();!o.done;o=i.next()){var a=fs(o.value,2),l=a[0],s=a[1];n.setAttribute(l,s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return document.body.appendChild(n),n}(),r.supportSerializeKeys=["viewType","fileId","type","driveKey","useDriveStorage","token","uploadOwner"],r.serialize=function(e){var n=e.op;if(!(null==n?void 0:n.attributes))return e;if(n.attributes[t.KEY]){var i=n.attributes,o=document.createElement("span"),a=r.maps.get(i.sourceID);return o.setAttribute("data-object-id",i.objectID),o.setAttribute("data-source-id",i.sourceID),(null==a?void 0:a.status)===Lk.successView&&(o.innerText="暂时无法在文档外展示此内容"),Object.assign(e,{node:o})}return e},r.handleSerializeToLark=function(e,t){var n,r,i={};try{for(var o=ds(Object.entries(t)),a=o.next();!a.done;a=o.next()){var l=fs(a.value,2),s=l[0],u=l[1];"src"!==s&&(i[s]=String(u))}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.setAttribute("data-props",JSON.stringify(i))},r.isVideoLine=function(e){return e.getOps().some((function(e){var n;return null===(n=e.attributes)||void 0===n?void 0:n[t.KEY]}))},r.handleKeyDown=function(e){if(bn.mobile&&"Backspace"===e.key){var t=r.editor,n=t.selection.getSelection();if(n.isCollapsed()){var i=t.getContentState().getActiveZone(),o=i.getLine(n.start.line),a=n.start.line-1,l=i.getLine(a),s=(null==o?void 0:o.getLineMarker())||0;if(l&&r.isVideoLine(l)&&n.start.offset===s){var u=l.getOffset(),c=u.start,d=u.end,f=new ae({zoneId:l.getZoneId()}).retain(c).delete(d-c);t.getContentState().apply(f),e.preventDefault(),e.preventEvent(),e.stopEvent()}}}},r.insertVideo=function(e,n){var i,o,a,l,s=r.editor.getContentState(),u=e.zoneId,c=e.len,d=e.start,f=e.toRange().start.line,h=new ae({zoneId:u}).retain(d).delete(c);(null===(l=null===(a=s.getZoneState(u))||void 0===a?void 0:a.getLine(f))||void 0===l?void 0:l.isEmpty())||h.insertEnterAndLineMarker();var p=[],g=function(e){var n,i=zt(8),o={objectID:zt(8),sourceID:i,src:"none",name:e.name,mimeType:e.type,size:e.size};r.maps.set(i,{status:Lk.loadingView,src:"none"});var a=Object.keys(o).reduce((function(e,t){return e[t]=o[t].toString(),e}),{});h.insert(" ",as((n={},n[t.KEY]="true",n),a)).insertEnterAndLineMarker(),p.push({file:e,sourceID:i})};try{for(var v=ds(Array.from(n)),m=v.next();!m.done;m=v.next()){g(m.value)}}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}s.apply(h),r.options.onUpload&&r.options.onUpload(p,{onSuccess:r.onSuccess,onError:r.onError})},r.handleUploadInput=function(){r.uploadInput.click()},r.handleInputChange=function(e){if(e.target){var t=e.target,n=t.files;if(n){var i=r.editor.selection.getSelection().toPosition();r.insertVideo(i,n)}t.value=""}},r.normalizeStatus=function(e,t){var n;"none"!==t?r.maps.get(e)||r.maps.set(e,{status:Lk.successView,src:t}):(null===(n=r.maps.get(e))||void 0===n?void 0:n.status)===Lk.successView&&r.maps.set(e,{status:Lk.loadingView,src:t})},r.options=n;var i=n.getXgPlayer;if(!n.renderVideoView&&!i)throw new TypeError("Expected renderVideoView value or getXgPlayer value, but got nothing.");r.accept=n.accept||Pk;var o=r.editor;return r.uploadInput.setAttribute("accept",r.accept),r.uploadInput.addEventListener("change",r.handleInputChange),o.registerCommand(t.KEY,r.handleUploadInput),o.on(Lt.KEYDOWN,r.handleKeyDown),r}os(t,e);var n=t.prototype;return n.match=function(e){return e.includes(t.KEY)},n.editorWillCopy=function(e){this.updateFileObjectID(e.deltaSet,"objectID",t.KEY)},n.editorWillPaste=function(e){this.updateFileObjectID(e.deltaSet,"objectID",t.KEY)},n.render=function(e){var t=e.attributes,n=t.src,r=t.objectID,o=t.sourceID;this.normalizeStatus(o,n);var a=this.maps.get(o),l=as({},t);return this.options.renderVideoView?l.renderVideoView=this.options.renderVideoView:(l.getXgPlayer=this.options.getXgPlayer,l.customProps=this.options.customProps,this.options.onXgInstanceFinish&&(l.setPlayerInstance=this.options.onXgInstanceFinish)),i.createElement(jk,as({objectID:r,sourceID:o,status:a.status,src:n,context:e},l))},n.destroy=function(){this.editor.off(Lt.KEYDOWN,this.handleKeyDown),this.maps.clear(),this.uploadInput.removeEventListener("change",this.handleInputChange),document.body.removeChild(this.uploadInput)},t.KEY="video",t}(Dk);function Hk(e){var t=e.icon;return t=RI(t,!0),up("div",{className:"adit-format-button","adit-group":"video","adit-key":Fk.KEY},[t])}var Zk=document.createElement("div");Zk.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M2 4a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H4a2 2 0 01-2-2V4zm11 0v7h7V4h-7zm-2 0H4v7h7V4zm-7 9v7h7v-7H4zm9 7h7v-7h-7v7z"/></svg>';const Wk=Zk.firstChild;function Uk(e){var t=e.icon;return up("div",{className:"adit-format-button",$click:function(e,t){t.editor.execCommand(Hy.KEY)}},RI(t,!0))}var Kk=Tc.isWindows?"Ctrl":"⌘",Yk=Tc.isWindows?"Alt":"Option";var Gk=document.createElement("div");Gk.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12.97 8.502a5.273 5.273 0 012.062 8.184l-2.986 3.688a5.273 5.273 0 11-8.196-6.636l2.857-3.528.09.866a3.68 3.68 0 00.59 1.646L5.49 15.066a3.164 3.164 0 004.917 3.982l2.986-3.688a3.164 3.164 0 00-1.848-5.096l1.425-1.76zm-1.59 6.65a5.273 5.273 0 01-2.062-8.184l2.987-3.689A5.273 5.273 0 0120.5 9.916l-2.856 3.527-.091-.866a3.675 3.675 0 00-.589-1.646l1.897-2.342a3.164 3.164 0 10-4.917-3.982l-2.987 3.688a3.164 3.164 0 001.849 5.096l-1.426 1.76z"/></svg>';const Vk=Gk.firstChild;function Qk(e){var t=e.icon;return up("div",{className:"adit-format-button","adit-key":Ap.KEY},RI(t,!0))}var Xk=Tc.isWindows?"Ctrl":"⌘";var qk=document.createElement("div");qk.innerHTML='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 4a1 1 0 011-1h3a1 1 0 110 2h-3a1 1 0 01-1-1zm0 16a1 1 0 011-1h3a1 1 0 110 2h-3a1 1 0 01-1-1zM3 11a1 1 0 100 2h18a1 1 0 100-2H3zm14-7a1 1 0 011-1h3a1 1 0 110 2h-3a1 1 0 01-1-1zm1 15a1 1 0 100 2h3a1 1 0 100-2h-3zM2 4a1 1 0 011-1h3a1 1 0 010 2H3a1 1 0 01-1-1zm1 15a1 1 0 100 2h3a1 1 0 100-2H3z"/></svg>';const Jk=qk.firstChild;function $k(e){var t=e.icon;return up("div",{className:"adit-format-button","adit-key":Kh.KEY},RI(t,!0))}var eE=Tc.isWindows?"Ctrl":"⌘",tE=Tc.isWindows?"Alt":"Option";var nE=Object.freeze({__proto__:null,wrapper:WI,group:HI,bold:YC,italic:GC,underline:VC,undo:QC,redo:XC,strikethrough:qC,blockquote:JC,unorderedList:$C,orderedList:ek,checkbox:tk,indent:nk,h1:rk,h2:ik,h3:ok,alignCenter:ak,alignLeft:lk,alignRight:sk,horizontalLine:function(e){var t=void 0===e?{}:e,n=t.icon,r=void 0===n?Jk:n,i=t.text,o=t.delay,a=void 0===o?"0":o;return GI({Anchor:$k({icon:r}),Tooltip:KI({i18nName:"horizontal-line",text:i,shortCut:eE+"+"+tE+"+S"}),delay:a})},hyperlink:function(e){var t=void 0===e?{}:e,n=t.icon,r=void 0===n?Vk:n,i=t.text,o=t.delay,a=void 0===o?"0":o;return GI({Anchor:Qk({icon:r}),Tooltip:KI({i18nName:"hyperlink",text:i,shortCut:Xk+"+K"}),delay:a})},table:function(e){var t=void 0===e?{}:e,n=t.icon,r=void 0===n?Wk:n,i=t.text,o=t.delay,a=void 0===o?"0":o;return GI({Anchor:Uk({icon:r}),Tooltip:KI({i18nName:"table",text:i,shortCut:Kk+"+"+Yk+"+A"}),delay:a})},align:function(e){var t=void 0===e?{}:e,n=t.arrowIcon,r=void 0===n?ck:n,i=t.direction,o=void 0===i?"bottom":i,a=t.tooltip,l=void 0!==a&&a,s="align";return hk({aditKey:s,arrowIcon:r,direction:o,Menu:function(e){var t=e.setUpdater,n=e.updateIcon;return up("div",{className:"adit-dropdown-content adit-format-align"},pk(t,n,s,[["left",{className:"menu-icon"},kC],["center",{className:"menu-icon"},SC],["right",{className:"menu-icon"},xC]],l?mk:void 0))}})},heading:function(e){var t=void 0===e?{}:e,n=t.arrowIcon,r=void 0===n?ck:n,i=t.direction,o="heading";return hk({aditKey:o,arrowIcon:r,direction:void 0===i?"bottom":i,Menu:function(e){var t=e.setUpdater,n=e.updateIcon;return up("div",{className:"adit-dropdown-content adit-format-align"},pk(t,n,o,[[" ",{className:"menu-icon","adit-default":"true"},fk],["h1",{className:"menu-icon"},mC],["h2",{className:"menu-icon"},yC],["h3",{className:"menu-icon"},IC]]))}})},fontSize:function(e){var t=void 0===e?{}:e,n=t.arrowIcon,r=void 0===n?ck:n,i=t.direction,o=void 0===i?"bottom":i,a=t.fontSizes,l="fontsize",s=(void 0===a?_C:a).map((function(e){var t=e.size,n=e.text;return[t,{className:"menu-text",style:{fontSize:t},"adit-default":e.isDefault},up("span",null,n).getHTMLElement()]}));return hk({aditKey:l,arrowIcon:r,direction:o,Menu:function(e){var t=e.setUpdater,n=e.updateIcon;return up("div",{className:"adit-dropdown-content adit-dropdown-fontsize"},pk(t,n,l,s))}})},fontFamily:function(e){var t,n=void 0===e?{}:e,r=n.arrowIcon,i=void 0===r?ck:r,o=n.direction,a=void 0===o?"bottom":o,l=n.language,s=void 0===l?"ZH":l,u=n.env,c=void 0===u?"CN":u,d=n.fontFamilies,f=n.maxHeight;if(d)t=d;else switch(s){case"ZH":t=ZC;break;case"EN":t="CN"===c?HC:BC;break;default:t=WC}if(!t.length)throw new Error("No font family founded.");var h="fontfamily",p=document.createElement("span"),g=t.map((function(e){var t=e.font,n=e.text,r=e.style,i=e.isDefault;return p.style.fontFamily=t,[p.style.fontFamily,{className:"menu-text","adit-default":i},bk({text:n,style:r})]})),v={};return f&&(v.maxHeight=f),hk({aditKey:h,arrowIcon:i,direction:a,Menu:function(e){var t=e.setUpdater,n=e.updateIcon;return up("div",{className:"adit-dropdown-content adit-dropdown-fontfamily",style:v},pk(t,n,h,g))}})},color:kk,backgroundColor:Ek,image:function(e){var t=void 0===e?{}:e,n=t.icon,r=void 0===n?Mk:n,i=t.text,o=t.delay,a=void 0===o?"0":o;return GI({Anchor:Sk({icon:r}),Tooltip:KI({i18nName:"image",text:i}),delay:a})},video:function(e){var t=void 0===e?{}:e,n=t.icon,r=void 0===n?Ak:n,i=t.text,o=t.delay,a=void 0===o?"0":o;return GI({Anchor:Hk({icon:r}),Tooltip:KI({i18nName:"video",text:i}),delay:a})}}),rE=[["#FFFFFF","#F5F5F5","#E6E6E6","#9E9E9E","#424242","#000000"],["#4FA2F8","#C9DAF8","#A4C2F4","#3B78D8","#1355CD","#1D4586"],["#21D11F","#D8EAD3","#B6D7A7","#6AA74F","#38761E","#284D13"],["#9837FF","#D8D1E8","#B4A6D6","#664EA8","#341C74","#20124D"],["#FFFD00","#FFF3CC","#F4CE5B","#F2C131","#BF8F02","#7F6001"],["#FF2601","#F4CCCC","#E06666","#CB1B00","#991200","#650800"]];function iE(e,t,n){var r=n||{},i=r.hideToolbarWhenEditable,o=r.supportAttribution,a=void 0===o||o,l=r.supportInsertImage,s=void 0===l||l,u=r.container,c=r.mountPoint,d={attribution:a,insertImage:s,insertVideo:!0,table:!0,undoRedo:!0,undo:!0,redo:!0},f=[],h=function(e){return{attribution:[nE.group(nE.heading(),nE.color({defaultColor:"dark"===document.documentElement.dataset.ttTheme?"#ffffff":"#000000",colors:rE}),nE.backgroundColor({defaultColor:"dark"===document.documentElement.dataset.ttTheme?"#000000":"#ffffff",colors:rE}),nE.fontSize({fontSizes:[{text:e.i18n["toolbar.font-size-small"],size:"14px"},{text:e.i18n["toolbar.font-size-normal"],size:"16px",isDefault:!0},{text:e.i18n["toolbar.font-size-large"],size:"18px"},{text:e.i18n["toolbar.font-size-max"],size:"20px"}]})),nE.group(nE.bold(),nE.strikethrough(),nE.underline(),nE.italic()),nE.group(nE.alignLeft(),nE.alignCenter(),nE.alignRight(),nE.unorderedList(),nE.orderedList()),nE.group(nE.checkbox(),nE.blockquote(),nE.indent(),nE.horizontalLine(),nE.hyperlink())],insertVideo:[nE.group(nE.video())],insertImage:[nE.group(nE.image())],undoRedo:[nE.group(nE.undo(),nE.redo())],table:[nE.group(nE.table())],undo:[nE.group(nE.undo())],redo:[nE.group(nE.redo())]}}(e);if(t.forEach((function(e){h[e]&&d[e]&&f.push.apply(f,h[e])})),!f.length&&c)return c.classList.add("no-toolbar"),null;var p=nE.wrapper.apply(nE,f),g="adit-toolbar",v=u.querySelector("."+g);return v||((v=document.createElement("div")).classList.add(g),null==u||u.appendChild(v)),i&&(null==c||c.classList.add("no-toolbar"),v.style.display="none"),lp.render(p,v,e)}var oE=new ft({bold:{mark:!0},fontcolor:{mark:!0},fontweight:{mark:!0},italic:{mark:!0},fontfamily:{mark:!0},fontsize:{mark:!0},underline:{mark:!0},strikethrough:{mark:!0},"comment-.*":{mark:!0},backcolor:{mark:!0},backgroundcolor:{mark:!0},"at-holder":{mark:!0},"at-uuid_.*":{mark:!0},"clientside-mention-placeholder":{mark:!0},"inline-code":{mark:!0,tailInherit:!1},"url-.*":{mark:!0,tailInherit:!1,refresh:!0},hyperlink:{mark:!0,tailInherit:!1,refresh:!0},"horizontal-line":{displayEnter:!1,display:Ze.block},textcolor:{mark:!0},aceTable:{display:Ze.block,displayEnter:!1},image:{display:Ze.block,displayEnter:!1}}),aE={language:"en","hyperlink.add-link":"Paste or enter a hyperlink","hyperlink.determine":"confirm","hyperlink.enter-text":"Please enter text","hyperlink.link":"Link","hyperlink.text":"Text","mention.mentioned":"mention","mention.no-result-and-try-another":"No results, try another keyword","mention.notification":"Notification","mention.recently":"Recents","mention.last_update":"Last updated: ","toolbar.align-center":"Center align","toolbar.align-left":"Left align","toolbar.align-right":"Right align","toolbar.blockquote":"Reference","toolbar.bold":"Bold","toolbar.checkbox":"To-do list","toolbar.h1":"Heading 1","toolbar.h2":"Heading 2","toolbar.h3":"Heading 3","toolbar.horizontal-line":"Divider","toolbar.hyperlink":"Hyperlink","toolbar.image":"Image","toolbar.italic":"Italic","toolbar.orderlist":"Numbered list","toolbar.redo":"Redo","toolbar.strikethrough":"Strikethrough","toolbar.table":"Table","toolbar.text-indent":"Indent","toolbar.underline":"Underline","toolbar.undo":"Undo","toolbar.unorderlist":"Bulleted list","toolbar.add":"Add","toolbar.font-size-small":"Small","toolbar.font-size-normal":"Normal","toolbar.font-size-large":"Large","toolbar.font-size-max":"Maximum","toolbar.video":"Video","toolbar.codeblock":"Code Block","toolbar.color.font":"Text color","toolbar.color.background":"Background color","codeblock.search":"search","codeblock.change_language":"Change langugage","codeblock.search_placeholder":"No results found","codeblock.copy":"Copy","codeblock.cancel_auto_wrap":"Cancel auto wrap","codeblock.auto_wrap":"Auto wrap","common.copied":"Copied"},lE={language:"jp","hyperlink.add-link":"ハイパーリンクを貼り付けるか入力してください","hyperlink.determine":"決定","hyperlink.enter-text":"テキストを入力してください","hyperlink.link":"リンク","hyperlink.text":"テキスト","mention.mentioned":"参照","mention.no-result-and-try-another":"結果なし、別のキーワードを試してください","mention.notification":"お知らせ","mention.recently":"最近の","mention.last_update":"最後の更新：","toolbar.align-center":"中央揃え","toolbar.align-left":"左揃え","toolbar.align-right":"右揃え","toolbar.blockquote":"引用","toolbar.bold":"太字","toolbar.checkbox":"タスクリスト","toolbar.h1":"見出し 1","toolbar.h2":"見出し 2","toolbar.h3":"見出し 3","toolbar.horizontal-line":"分割線","toolbar.hyperlink":"リンクを挿入","toolbar.image":"画像","toolbar.italic":"斜体","toolbar.orderlist":"番号付リスト","toolbar.redo":"やり直し","toolbar.strikethrough":"取り消し線","toolbar.table":"テーブル","toolbar.text-indent":"インデント増","toolbar.underline":"下線","toolbar.undo":"取り消し","toolbar.unorderlist":"箇条書き","toolbar.add":"下に追加","toolbar.font-size-small":"小さい","toolbar.font-size-normal":"正常","toolbar.font-size-large":"大きい","toolbar.font-size-max":"最大","toolbar.video":"ビデオ","toolbar.color.font":"フォントの色","toolbar.color.background":"背景色","codeblock.search":"search","codeblock.change_language":"Change langugage","codeblock.search_placeholder":"No results found","toolbar.codeblock":"Code Block","codeblock.copy":"Copy","codeblock.cancel_auto_wrap":"Cancel auto wrap","codeblock.auto_wrap":"Auto wrap","common.copied":"Copied"},sE={language:"zh","hyperlink.add-link":"粘贴或输入一个超链接","hyperlink.determine":"确定","hyperlink.enter-text":"请输入文本","hyperlink.link":"链接","hyperlink.text":"文本","mention.mentioned":"提及","mention.no-result-and-try-another":"没有结果，换个关键词试试","mention.notification":"通知","mention.recently":"最近","mention.last_update":"最后更新：","toolbar.align-center":"居中对齐","toolbar.align-left":"左对齐","toolbar.align-right":"右对齐","toolbar.blockquote":"引用","toolbar.bold":"粗体","toolbar.checkbox":"任务列表","toolbar.h1":"1级标题","toolbar.h2":"2级标题","toolbar.h3":"3级标题","toolbar.horizontal-line":"分割线","toolbar.hyperlink":"超链接","toolbar.image":"图片","toolbar.italic":"斜体","toolbar.orderlist":"有序列表","toolbar.redo":"重做","toolbar.strikethrough":"中划线","toolbar.table":"表格","toolbar.text-indent":"缩进","toolbar.underline":"下划线","toolbar.undo":"撤销","toolbar.unorderlist":"无序列表","toolbar.add":"添加","toolbar.font-size-small":"小","toolbar.font-size-normal":"正常","toolbar.font-size-large":"大","toolbar.font-size-max":"最大","toolbar.codeblock":"代码块","toolbar.video":"视频","toolbar.color.font":"字体颜色","toolbar.color.background":"背景颜色","codeblock.search":"搜索","codeblock.change_language":"切换代码语言","codeblock.search_placeholder":"无匹配结果","codeblock.copy":"复制","codeblock.cancel_auto_wrap":"取消自动换行","codeblock.auto_wrap":"自动换行","common.copied":"复制成功"},uE=[{key:Mh.KEY,value:"h1",shortcut:{windows:{altKey:!0,ctrlKey:!0,keyCode:49},mac:{altKey:!0,metaKey:!0,keyCode:49}}},{key:Mh.KEY,value:"h2",shortcut:{windows:{altKey:!0,ctrlKey:!0,keyCode:50},mac:{altKey:!0,metaKey:!0,keyCode:50}}},{key:Mh.KEY,value:"h3",shortcut:{windows:{altKey:!0,ctrlKey:!0,keyCode:51},mac:{altKey:!0,metaKey:!0,keyCode:51}}},{key:uh.KEY,shortcut:{windows:{keyCode:66,ctrlKey:!0},mac:{metaKey:!0,keyCode:66}}},{key:ph.KEY,shortcut:{windows:{keyCode:73,ctrlKey:!0},mac:{keyCode:73,metaKey:!0}}},{key:gh.KEY,shortcut:{windows:{keyCode:85,ctrlKey:!0},mac:{keyCode:85,metaKey:!0}}},{key:vh.KEY,shortcut:{windows:{keyCode:88,ctrlKey:!0,shiftKey:!0},mac:{keyCode:88,metaKey:!0,shiftKey:!0}}},{key:Ot,shortcut:{windows:{ctrlKey:!0,keyCode:90},mac:{metaKey:!0,keyCode:90}}},{key:Rt,shortcut:[{windows:{ctrlKey:!0,keyCode:90,shiftKey:!0},mac:{metaKey:!0,keyCode:90,shiftKey:!0}},{windows:{ctrlKey:!0,keyCode:89}}]},{key:gf.INDENT_LEFT,shortcut:{windows:{ctrlKey:!1,keyCode:9,shiftKey:!0},mac:{metaKey:!1,keyCode:9,shiftKey:!0}}},{key:gf.INDENT_RIGHT,shortcut:{windows:{ctrlKey:!1,keyCode:9,shiftKey:!1},mac:{metaKey:!1,keyCode:9,shiftKey:!1}}},{key:Ap.KEY,shortcut:{windows:{ctrlKey:!0,keyCode:75},mac:{metaKey:!0,keyCode:75}}},{key:Hy.KEY,shortcut:{windows:{altKey:!0,ctrlKey:!0,keyCode:65},mac:{metaKey:!0,altKey:!0,keyCode:65}}},{key:Ch.KEY,value:"true",shortcut:{windows:{shiftKey:!0,ctrlKey:!0,keyCode:190},mac:{metaKey:!0,shiftKey:!0,keyCode:190}}},{key:dh.KEY,value:"left",shortcut:{windows:{shiftKey:!0,ctrlKey:!0,keyCode:76},mac:{metaKey:!0,shiftKey:!0,keyCode:76}}},{key:dh.KEY,value:"center",shortcut:{windows:{shiftKey:!0,ctrlKey:!0,keyCode:69},mac:{metaKey:!0,shiftKey:!0,keyCode:69}}},{key:dh.KEY,value:"right",shortcut:{windows:{shiftKey:!0,ctrlKey:!0,keyCode:82},mac:{metaKey:!0,shiftKey:!0,keyCode:82}}},{key:Qh.KEY,value:"check",shortcut:{windows:{altKey:!0,ctrlKey:!0,keyCode:84},mac:{metaKey:!0,altKey:!0,keyCode:84}}},{key:gf.INDENT_RIGHT,shortcut:{windows:{ctrlKey:!0,keyCode:221},mac:{metaKey:!0,keyCode:221}}},{key:Kh.KEY,shortcut:{windows:{altKey:!0,ctrlKey:!0,keyCode:83},mac:{metaKey:!0,altKey:!0,keyCode:83}}},{key:Of.KEY,value:"bullet",shortcut:{windows:{shiftKey:!0,ctrlKey:!0,keyCode:56},mac:{metaKey:!0,shiftKey:!0,keyCode:56}}},{key:Of.KEY,value:"number",shortcut:{windows:{shiftKey:!0,ctrlKey:!0,keyCode:55},mac:{metaKey:!0,shiftKey:!0,keyCode:55}}}],cE=function(e){function t(t){var n,r=t.editor,i=t.uploadPasteImg;return(n=e.call(this)||this).editor=void 0,n.uploadPasteImg=void 0,n.editorWillPaste=function(e){return e.deltaSet.reduce((function(e,t){if(t instanceof ae){var r=t.reduce((function(e,r){var i;if("true"===(null==r||null==(i=r.attributes)?void 0:i.image)){var o,a,l=(null==r||null==(o=r.attributes)?void 0:o.src)||"",s=(null==r||null==(a=r.attributes)?void 0:a.uuid)||"";n.uploadImg(l,s,t.zoneId),r.attributes.src="http://sf6-ttcdn-tos.pstatp.com/obj/lark-minp-img/test/cli_9e4713bcd2f9d00e/8ca99b802cd1622ae3ff3f7a7ae36069.png"}return e.insert(r.insert,r.attributes)}),new ae({zoneId:t.zoneId}));return e.concat(r)}return e.concat(t)}),new J)},n.uploadImg=function(e,t,r){n.uploadPasteImg(e,t).then((function(e){var i,o,a=n.editor.getContentState(),l=a.getZoneState(r);if(l){var s=l.getEntities([["uuid",t]])[0],u=s.start,c=s.end,d=s.attributes,f=null!=(i=l.pointToOffset(u))?i:0,h=null!=(o=l.pointToOffset(c))?o:0,p=new ae({zoneId:r}).retain(f).retain(h-f,Object.assign({},d,{src:e}));a.apply(p)}})).catch((function(){}))},n.editor=r,n.uploadPasteImg=i,n}return d(t,e),u(t)}(Er),dE={a:{color:"#3370ff",textDecoration:"none",wordBreak:"break-all",marginRight:2,cursor:"pointer"},icon:{verticalAlign:"middle",width:"1em",marginTop:"-0.2em"},avatarIcon:{position:"absolute",width:"1.2em",left:"1px",top:"50%",marginTop:"-0.6em",borderRadius:"50%"},userWrap:{position:"relative",display:"inline-flex",padding:"1px calc((1em - 4px)/2) 1px 1.45em",margin:"0 5px",background:"#E1EAFF",borderRadius:100,color:"#1F2329",whiteSpace:"nowrap",lineHeight:"calc(1em + 4px)",textIndent:0},userName:{whiteSpace:"nowrap"}},fE=function(e){function t(t){var n=e.call(this,t)||this;return n.umounted=!1,n.state={data:t.data},t.updateData&&t.updateData(t.data).then((function(e){n.umounted||n.setState({data:e})})),n}os(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.umounted=!0},n.renderMentionBlock=function(e){return this.props.showUserAvatar&&0===e.type&&e.avatarUrl?i.createElement(i.Fragment,null,i.createElement("img",{style:t.Styles.avatarIcon,src:e.avatarUrl}),i.createElement("span",{style:t.Styles.userName},e.title)):i.createElement(i.Fragment,null,yI[e.type]&&i.createElement("img",{style:t.Styles.icon,src:yI[e.type].at}),i.createElement("span",null,0===e.type?"@"+e.title:e.title))},n.render=function(){var e=this.state.data,n=this.props,r=n.onMouseEnter,o=n.onMouseLeave,a=n.onClick,l=n.showUserAvatar&&0===e.type&&e.avatarUrl;return i.createElement(ml,{onMouseEnter:r,onMouseLeave:o,onClick:a},i.createElement("a",{suppressContentEditableWarning:!0,style:as(as({},t.Styles.a),l?t.Styles.userWrap:{}),className:"editor-kit-mention mention-type_"+e.type+" mention-token_"+e.token+(e.isReply?" mention-reply":""),contentEditable:!1,"data-name":e.title,"data-en_name":e.enName,"data-type":e.type,"data-url":e.url||e.link,"data-token":e.token},this.renderMentionBlock(e)))},t.Styles=dE,t}(i.Component),hE=/^(http|https|data):/;function pE(e,t){if(void 0===t&&(t=10),t<=0)return e;if(hE.test(e))return e;var n=e;try{n=decodeURIComponent(e)}catch(t){return e}return pE(n,t-1)}function gE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vE(e){return(vE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bE(e,t){if(t&&("object"===vE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mE(e)}function yE(e){return(yE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IE="data-lark-parser-standards",CE="data-lark-atuser",kE="data-lark-doclink";function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EE(Object(n),!0).forEach((function(t){wE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ME,SE,TE=function(){function e(t){gE(this,e),wE(this,"dom",null),t.dom&&(this.dom=t.dom)}return u(e,[{key:"dispose",value:function(){this.dom=null}},{key:"isMatchStandardFormat",value:function(e){var t,n;if(!this.dom)return!1;var r=null===(t=(n=this.dom).getAttribute)||void 0===t?void 0:t.call(n,IE);if(r)try{var i=r&&JSON.parse(r);return Boolean(i[e])}catch(e){return!1}return!1}},{key:"markStandardFormat",value:function(e,t){var n,r;if(!this.dom)return!1;var i=null===(n=(r=this.dom).getAttribute)||void 0===n?void 0:n.call(r,IE);try{var o=xE(xE({},i?JSON.parse(i):{}),{},wE({},e,t)),a=JSON.stringify(o);return this.dom.setAttribute(IE,a),!0}catch(e){return!1}}}]),e}();function AE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yE(e);if(t){var i=yE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bE(this,n)}}!function(e){e[e.bold=0]="bold",e[e.italic=1]="italic",e[e.fontFamily=2]="fontFamily",e[e.fontSize=3]="fontSize",e[e.fontColor=4]="fontColor",e[e.lineHeight=5]="lineHeight",e[e.lineThrough=6]="lineThrough",e[e.underline=7]="underline",e[e.backgroundColor=8]="backgroundColor",e[e.hyperLink=9]="hyperLink",e[e.imageInline=10]="imageInline",e[e.codeInline=11]="codeInline",e[e.heading=12]="heading",e[e.quote=13]="quote",e[e.codeBlock=14]="codeBlock",e[e.orderedList=15]="orderedList",e[e.unorderedList=16]="unorderedList",e[e.horizontalAlign=17]="horizontalAlign",e[e.verticalAlign=18]="verticalAlign",e[e.imageBlock=19]="imageBlock",e[e.newLine=20]="newLine",e[e.Table=21]="Table",e[e.atUser=22]="atUser",e[e.docsLink=23]="docsLink"}(ME||(ME={})),function(e){e[e.atUserEmail=0]="atUserEmail"}(SE||(SE={}));var NE=function(e){d(n,e);var t=AE(n);function n(){return gE(this,n),t.apply(this,arguments)}return u(n,[{key:"isDocLink",value:function(){return!!this.dom&&!!this.dom.getAttribute(kE)}},{key:"getDocLinkData",value:function(){try{var e,t=(null===(e=this.dom)||void 0===e?void 0:e.getAttribute(kE))||"";return JSON.parse(t)||{}}catch(e){return{title:"",url:"",token:""}}}},{key:"parse",value:function(e){if(!this.isDocLink())return null;if(e){this.markStandardFormat(n.standardFormat,!0)}var t=this.getDocLinkData(),r=t.title,i=t.url,o=t.token;return{title:r,url:decodeURIComponent(i||""),token:o}}}]),n}(TE);function LE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yE(e);if(t){var i=yE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bE(this,n)}}wE(NE,"standardFormat",ME.atUser);var DE=function(e){d(n,e);var t=LE(n);function n(){return gE(this,n),t.apply(this,arguments)}return u(n,[{key:"isAtUser",value:function(){return!!this.dom&&!!this.dom.getAttribute(CE)}},{key:"getAtUserData",value:function(){try{var e,t=(null===(e=this.dom)||void 0===e?void 0:e.getAttribute(CE))||"";return JSON.parse(t)||{}}catch(e){return{userid:"",username:""}}}},{key:"parse",value:function(e){if(!this.isAtUser())return null;if(e){this.markStandardFormat(n.standardFormat,!0)}var t=this.getAtUserData();return{userid:t.userid,username:t.username}}}]),n}(TE);wE(DE,"standardFormat",ME.atUser);var zE=function(){function e(t){gE(this,e),wE(this,"dom",null),t.dom?this.dom=t.dom:t.html&&(this.dom=(new DOMParser).parseFromString(t.html,"text/html").body.firstElementChild)}return u(e,[{key:"dispose",value:function(){this.dom=null}},{key:"isMatchStandardFormat",value:function(e){if(!this.dom)return!1;var t=this.dom.getAttribute(IE),n=t&&JSON.parse(t);return Boolean(n[e])}}]),e}();function OE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yE(e);if(t){var i=yE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bE(this,n)}}var RE=function(e){d(n,e);var t=OE(n);function n(e,r){var i;return gE(this,n),wE(mE(i=t.call(this,e)),"title",""),wE(mE(i),"url",""),wE(mE(i),"token",""),wE(mE(i),"type",0),i.title=r.title||"",i.url=r.url||"",i.token=r.token||"",i.type=r.type||0,i}return u(n,[{key:"process",value:function(e){if(!this.dom)return null;var t=e?document.createElement("span"):this.dom,n={title:this.title,url:decodeURIComponent(this.url),token:this.token,type:this.type},r=JSON.stringify(n);return t.setAttribute(kE,r),e&&t.appendChild(this.dom),t}},{key:"getDom",value:function(e){return this.dom?this.process(e):null}},{key:"getHtml",value:function(e){if(!this.dom)return null;var t=this.process(e);return t?t.outerHTML:""}}]),n}(zE);function _E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yE(e);if(t){var i=yE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bE(this,n)}}var jE,PE,BE=function(e){d(n,e);var t=_E(n);function n(e,r){var i;return gE(this,n),wE(mE(i=t.call(this,e)),"userid",""),wE(mE(i),"username",""),i.userid=r.userid||"",i.username=r.username||"",i}return u(n,[{key:"process",value:function(e){if(!this.dom)return null;var t=e?document.createElement("span"):this.dom,n={userid:this.userid,username:this.username},r=JSON.stringify(n);return t.setAttribute(CE,r),e&&t.appendChild(this.dom),t}},{key:"getDom",value:function(e){return this.dom?this.process(e):null}},{key:"getHtml",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.dom)return null;var t=this.process(e);return t?t.outerHTML:""}}]),n}(zE),FE="AT_USER_BLOCK",HE="mentionBlock",ZE="editor-kit-mention",WE=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.name="Mention",n.hoverData=null,n.handlePopUpMouseEnter=function(){n.closePopupTimer&&clearTimeout(n.closePopupTimer)},n.handleMouseLeave=function(){n.hoverData&&(n.closePopupTimer&&clearTimeout(n.closePopupTimer),n.closePopupTimer=setTimeout((function(){n.leaveNow(),n.hoverData=null}),t.leaveDuration))},n.handleMouseEnter=function(e,r,i){var o=n.props,a=o.editor,l=o.onMouseEnter;if(l){n.hoverData&&(n.closePopupTimer&&clearTimeout(n.closePopupTimer),i!==n.hoverData&&n.leaveNow());var s=a.getContentState().getZoneState(e);if(s){var u=s.getEntities([[t.KEY,r[t.KEY]]])[0],c=u.start,d=u.end,f=a.rectModule;if(f){var h=f.getRangeRect({start:{zoneId:e,line:c.line,offset:c.offset},end:{zoneId:e,line:c.line,offset:d.offset}}),p=n.relativeRectToScreen(h);n.hoverData=i,l({anchorRect:p,data:i,mountNode:n.popupMountNode})}}}},n.destroy=function(){var e,t,r=n.popupMountNode;null==r||r.removeEventListener("mouseenter",n.handlePopUpMouseEnter),null==r||r.removeEventListener("mouseleave",n.handleMouseLeave),n.closeSuggest(),null===(t=null===(e=n.popupMountNode)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(n.popupMountNode),n.popupMountNode=null},n}os(t,e);var n=t.prototype;return n.editorDidMount=function(){var e;this.popupMountNode=document.createElement("div"),this.popupMountNode.setAttribute("id","@editor-kit-mention-container"),this.popupMountNode.style.position="relative",this.popupMountNode.style.top="0px",this.popupMountNode.style.left="0px",(null==(e=this.props.getPopupContainer?this.props.getPopupContainer():document.body)?void 0:e.firstChild)?e.insertBefore(this.popupMountNode,e.firstChild):e.append(this.popupMountNode),this.popupMountNode.addEventListener("mouseenter",this.handlePopUpMouseEnter),this.popupMountNode.addEventListener("mouseleave",this.handleMouseLeave)},n.leaveNow=function(){var e=this.props.onMouseLeave;e&&e({mountNode:this.popupMountNode})},n.renderAt=function(e,t,n,r){var o=this;return i.createElement(fE,{data:n,onMouseEnter:function(){return o.handleMouseEnter(e,t,r)},onMouseLeave:this.handleMouseLeave,onClick:function(){return o.handleClick(r)},showUserAvatar:this.props.showUserAvatar})},n.handleConfirm=function(e){var t,n,r,i=this.props.editor;i.flushInput();var o=i.selection.getSelection(),a=o.start,l=a.zoneId,s=i.getContentState(),u=null===(r=s.getZoneState(l))||void 0===r?void 0:r.getLine(a.line);if(u){var c=u.getModelText().slice(0,a.offset),d=u.getOffset().start,f=-1;try{for(var h=ds(vI),p=h.next();!p.done;p=h.next()){var g=p.value;f=Math.max(f,c.lastIndexOf(g))}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}if(f>-1){var v=d+f,m=this.generateData(e),b=new ae({zoneId:l}).retain(v).delete(o.toPosition().start-v).insert(" ",{dataMetaBlockProps:JSON.stringify(m)});s.apply(b)}this.closeSuggest()}},t.KEY="dataMetaBlockProps",t.leaveDuration=600,ss([Ep],t.prototype,"handleConfirm",null),t}(function(){function e(e){var t=this;this.props=e,this.name="Mention",this.suggest=null,this.current=null,this.offset=-1,this.popupMountNode=null,this.atKeyPressed=!1,this.maybeIsAt=!1,this.handleKeyDown=function(e){var n=t.props.editor;t.isAtKey(e)?n.once("paint",(function(){t.openSuggest()})):t.isInIME(e)&&(t.maybeIsAt=!0),"Escape"===e.key&&t.suggest&&t.closeSuggest()},this.handleInput=function(e){var n=e.data||"";"insertFromComposition"===e.inputType&&vI.includes(n)?t.maybeIsAt=!0:t.updateSuggest()},this.updateSuggest=Jp((function(){var e,n;if(t.suggest){var r=t.props.editor;r.flushInput();var i=r.selection.getSelection().start;if(t.atKeyPressed){t.atKeyPressed=!1;var o=null===(e=t.current)||void 0===e?void 0:e.getModelText(),a=null!==(n=null==o?void 0:o.lastIndexOf("@",i.offset))&&void 0!==n?n:-1;t.offset=-1===a?i.offset:a+1}if(i.offset<t.offset||-1===t.offset)return t.closeSuggest();t.suggest=t.props.onSuggest({query:t.getQuery(),onConfirm:t.handleConfirm,anchorRect:r.rectModule.getCaretRect(i),mountNode:t.popupMountNode})}}),100,{leading:!1,trailing:!0}),this.handleSelectionChange=function(){if(t.suggest){var e=t.props.editor,n=e.selection.getSelection().start;if(n.offset<t.offset)return t.closeSuggest();var r=e.getContentState().getActiveZone().getLine(n.line);t.current.compare(r)===Ct.UNEQUAL&&t.closeSuggest()}},this.handleContentChange=function(e){var n,r,i,o;if(t.maybeIsAt&&!t.suggest){t.maybeIsAt=!1;var a=e.deltaSet;if(!(Object.keys(a.deltas).length>1)){var l=!1;try{for(var s=ds(Object.values(a.deltas)),u=s.next();!u.done;u=s.next()){var c=u.value;try{for(var d=(i=void 0,ds(c.ops)),f=d.next();!f.done;f=d.next()){var h=f.value;if(!h.retain&&!h.delete){if("string"!=typeof h.insert)return;1===h.insert.length&&vI.includes(h.insert)&&(l=!0)}}}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}l&&t.openSuggest()}}},this.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},this.destroy=function(){var e=t.props.editor;t.closeSuggest(),t.popupMountNode=null,e.off("keydown",t.handleKeyDown),e.off("selectionchange",t.handleSelectionChange),e.off("contentchange",t.handleContentChange),e.off("keyup",t.updateSuggest),e.off(Lt.INPUT,t.handleInput)};var n=e.editor;n.on("keydown",this.handleKeyDown),n.on("selectionchange",this.handleSelectionChange),n.on("contentchange",this.handleContentChange),n.on("keyup",this.updateSuggest),n.on(Lt.INPUT,this.handleInput),n.registerCommand("mention",this.handleOpenSuggest)}var t=e.prototype;return t.handleOpenSuggest=function(){var e=this,t=this.props.editor,n=t.selection.getSelection(),r=n.toPosition(),i=r.start,o=r.len,a=new ae({zoneId:n.start.zoneId}).retain(i).delete(o).insert("@");t.getContentState().apply(a),t.once("paint",(function(){e.openSuggest()})),this.atKeyPressed=!1,this.offset=n.start.offset+1},t.isAtKey=function(e){return vI.includes(e.key)||"Digit2"===e.nativeEvent.code&&e.shiftKey},t.isInIME=function(e){return 229===e.keyCode},t.relativeRectToScreen=function(e){var t=this.props.editor.getRect("0"),n=e.left,r=e.top,i=e.bottom,o=e.right,a=e.width,l=e.height;return{left:t.left+n,top:t.top+r,right:t.left+o,bottom:t.top+i,width:a,height:l}},t.openSuggest=function(){this.atKeyPressed=!0;var e=this.props.editor;e.flushInput();var t=e.selection.getSelection().start,n=e.rectModule.getCaretRect(t);this.suggest=this.props.onSuggest({query:"",onConfirm:this.handleConfirm,anchorRect:this.relativeRectToScreen(n),mountNode:this.popupMountNode}),this.current=e.getContentState().getActiveZone().getLine(t.line)},t.closeSuggest=function(){var e;null===(e=this.suggest)||void 0===e||e.close(this.popupMountNode),this.suggest=null,this.offset=-1},t.getQuery=function(){var e,t=this.props.editor,n=t.selection.getSelection(),r=n.start,i=n.end;return((null===(e=t.getContentState().getActiveZone().getLine(r.line))||void 0===e?void 0:e.getModelText())||"").slice(this.offset,i.offset)},t.handleConfirm=function(e){},t.generateData=function(e){var t;if(e.type===uI.USER){var n=e,r=n.type,i=n.id,o=n.cn_name,a=n.en_name,l=n.avatar_url,s=n.email,u=n.isReply;t={blockType:FE,props:{data:{user:{avatar_url:encodeURIComponent(decodeURIComponent(l)),type:r,id:i,cn_name:o,en_name:a,email:s}},displayMode:NI.INLINE}},u&&(t.props.data.user.isReply=u)}else{var c=e,d=c.link,f=void 0===d?"":d,h=c.type,p=c.title,g=c.token,v=c.url,m=void 0===v?"":v,b=encodeURIComponent(decodeURIComponent(f))||encodeURIComponent(decodeURIComponent(m));t={blockType:HE,props:{link:b,type:h,title:p,token:g,displayMode:NI.INLINE}}}return DI(t)},t.match=function(t,n){if(t===e.KEY)try{var r=JSON.parse(n);return r.blockType===FE||r.blockType===HE}catch(e){console.error("mention parse dataMetaBlockProps error.",e)}return!1},t.render=function(t){var n=t.lineState,r=t.children,i=t.attributes,o=i[e.KEY];if(o){var a=this.props.lang,l=JSON.parse(o);switch(l.blockId&&(t.key=l.blockId),l.blockType){case FE:var s=l.props.data.user;return this.renderAt(n.getZoneId(),i,{title:s[a+"_name"]||s.cn_name||s.name,enName:s.en_name,type:uI.USER,token:s.id,url:"",isReply:s.isReply,avatarUrl:pE(s.avatar_url)},s);case HE:var u=l.props,c=u.title,d=u.token,f=u.link,h=u.type;return this.renderAt(n.getZoneId(),i,{title:c,token:d,url:pE(f),type:h},l.props)}}return r},t.renderAt=function(e,t,n,r){var o=this;return i.createElement(fE,{data:n,onClick:function(){return o.handleClick(r)},showUserAvatar:this.props.showUserAvatar})},t.deserialize=function(e){var t,n,r,i=e.deltaSet,o=e.node,a=e.zoneId;if(!(o&&o instanceof HTMLElement))return i;var l=!1;if(o.classList.forEach((function(e){/^mention-reply/.test(e)&&(l=!0)})),o.classList.contains(ZE)){var s=o.dataset,u=s.url,c=void 0===u?"":u,d=s.type,f=s.name,h=s.token,p=s.en_name,g=Number(d);r=0===g?this.generateData({avatar_url:c,cn_name:f,en_name:p,id:h,type:g,isReply:l}):this.generateData({link:decodeURIComponent(c),token:h,title:f,type:g})}else if(o.classList.contains("block-type-AT_USER_BLOCK")||o.classList.contains("block-type-mentionBlock"))try{var v=JSON.parse(o.getAttribute("data-meta-block-props")||"");r=(null===(t=v.props.data)||void 0===t?void 0:t.user)?this.generateData(as(as({},v.props.data.user),{isReply:l})):this.generateData(v.props)}catch(e){console.log(e)}else if(o.classList.contains("mention-type_0")){var m="",b="",y=(null===(n=null==o?void 0:o.textContent)||void 0===n?void 0:n.slice(1))||"";o.classList.forEach((function(e){/^mention-token/.test(e)&&(b=e.split("_").slice(1).join("_")),/^mention-link/.test(e)&&(m=e.split("_").slice(1).join("_"))})),r=this.generateData({avatar_url:m,cn_name:y,en_name:y,id:b,type:0,isReply:l})}if(!r&&this.props.useLarkCpStandard){var w=new NE({dom:o}).parse(),I=new DE({dom:o}).parse();w?r=this.generateData({link:w.url||"",token:w.token||"",title:w.title||"",type:w.type||1}):I&&(r=this.generateData({cn_name:I.username,en_name:I.username,id:I.userid,type:uI.USER,isReply:!1}))}if(r){var C=new ae({zoneId:a}).insert(" ",{dataMetaBlockProps:JSON.stringify(r)});return i.replace(a,C)}return i},t.serialize=function(e){var t,n,r;if(e.type===Tr.LEAF&&" "===(null===(t=e.op)||void 0===t?void 0:t.insert)&&(null===(r=null===(n=e.op)||void 0===n?void 0:n.attributes)||void 0===r?void 0:r.dataMetaBlockProps)){var i=JSON.parse(e.op.attributes.dataMetaBlockProps),o=i.props,a=i.blockType;if(a===HE){var l=o.title,s=o.type,u=o.link,c=o.token,d=this.createMentionNode({name:l,type:s,url:decodeURIComponent(u),token:c,props:e.op.attributes.dataMetaBlockProps});this.props.useLarkCpStandard&&(d=new RE({dom:d},{title:l,url:u,token:c}).process()),e.node=d}else if(a===FE){var f=o.data.user,h=f.cn_name,p=f.name,g=f.en_name,v=f.id,m=f.type,b=f.avatar_url,y=f.isReply,w=p||h||g;d=this.createMentionNode({name:w,type:m,url:decodeURIComponent(b),token:v,isReply:y,props:e.op.attributes.dataMetaBlockProps});this.props.useLarkCpStandard&&(d=new BE({dom:d},{username:w,userid:v}).process()),e.node=d}}return e},t.createMentionNode=function(e){var t=e.name,n=e.type,r=e.url,i=e.token,o=e.isReply,a=e.props,l=document.createElement("a");l.dataset.name=t,l.dataset.type=n+"",l.dataset.url=r,l.dataset.token=i,l.setAttribute("data-meta-block-props",a);var s=o?"mention-reply":"";return l.className="editor-kit-mention\n      mention mention-token_"+i+"\n      mention-type_"+n+" mention-link_"+r+" "+s,l.textContent=t,l},t.updateUUID=function(e){e.forEach((function(e){e.forEach((function(e){var t;if(" "===e.insert&&(null===(t=e.attributes)||void 0===t?void 0:t.dataMetaBlockProps)){var n=JSON.parse(e.attributes.dataMetaBlockProps);n.blockType!==FE&&n.blockType!==HE||(n.blockId=TI(),e.attributes.dataMetaBlockProps=JSON.stringify(n))}}))}))},t.editorWillPaste=function(e){this.updateUUID(e.deltaSet)},t.editorCollectText=function(e){var t=e.attributes;if(t&&t.dataMetaBlockProps){var n=JSON.parse(t.dataMetaBlockProps);if(n.blockType===FE){var r=n.props.data.user,i=r.name,o=r.cn_name,a=r.en_name;e.text="@"+(i||o||a)}else n.blockType===HE&&(e.text=n.props.title||" ")}},e.KEY="dataMetaBlockProps",e.leaveDuration=600,ss([Ep],e.prototype,"handleOpenSuggest",null),ss([lh],e.prototype,"render",null),e}());!function(e){e.DOCS="docs",e.DOCX="docx",e.SHEETS="sheets",e.MINDNOTES="mindnotes",e.BITABLE="bitable",e.BASE="base",e.WIKI="wiki",e.FILE="file"}(PE||(PE={}));var UE=((jE={})[PE.DOCS]=uI.DOC,jE[PE.SHEETS]=uI.SHEET,jE[PE.BITABLE]=uI.BITABLE,jE[PE.MINDNOTES]=uI.MINDNOTE,jE[PE.WIKI]=uI.WIKI,jE[PE.FILE]=uI.BOX,jE[PE.BASE]=uI.BITABLE,jE[PE.DOCX]=uI.DOCX,jE),KE=function(e){function t(t){var n=e.call(this)||this;return n.destroyed=!1,n.destroy=function(){n.destroyed=!0},n.props=t,n}os(t,e);var n=t.prototype;return n.uuid=function(){return Math.random()+""},n.editorWillPaste=function(e){var n=this,r=e.deltaSet;return this.props.editor.pluginManager.getPlugin("Mention")?(r.forEach((function(e){if("Z"===e.zoneType){var i=e,o=n.getText(e),a=n.matchLink(o);if(a.length){var l=e.create({}),s=e.zoneId,u=0;a.forEach((function(e){var r,i=e.url,o=e.start,a=e.end,c=n.uuid();l.retain(o-u).retain(a-o,((r={})[t.KEY]=c,r)),u=a,n.props.getLinkInfo({url:i}).then((function(t){n.handleLinkInfoResponse(s,c,e,t)}))})),i=i.compose(l)}i!==e&&r.add(i.zoneId,i)}})),r):console.log("LinkToMention依赖Mention插件，请注册Mention插件")},n.handleLinkInfoResponse=function(e,n,r,i){if(!this.destroyed&&i.title){var o=this.props.editor,a=r.url,l=r.token,s=r.business,u=o.pluginManager.getPlugin("Mention"),c=o.getContentState().getZoneState(e);if(c){var d=c.getEntities([[t.KEY,n]]);if(d.length){var f=d[0],h=f.start,p=f.end,g=i.title,v=i.is_cross_tenant,m=c.pointToOffset(h),b=c.pointToOffset(p),y={type:UE[s],url:a,token:l,title:g,is_cross_tenant:Boolean(v)},w=u.generateData(y),I=new ae({zoneId:e}).retain(m).delete(b-m).insert(" ",{dataMetaBlockProps:JSON.stringify(w)});o.getContentState().apply(I)}}}},n.getText=function(e){var t="";return e.forEach((function(e){t+=e.insert})),t},n.matchLink=function(e){for(var t=/https?:\/\/.+\.feishu\.(\w+)\/(\w+)\/(\w+)(?:\?([\w\-_/=&.%]*))?(?:#(\w{0,27}))?$/g,n=[],r=t.exec(e);r;){var i=fs(r,6),o=i[0],a=i[1],l=i[2],s=i[3],u=i[4],c=i[5],d=t.lastIndex;n.push({url:o,token:s,start:d-o.length,end:d,topLevelDomain:a,business:l,query:u,hash:c}),r=t.exec(e)}return n},t.KEY="linkToMentionId",ss([Ep],t.prototype,"editorWillPaste",null),t}(Er),YE=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.handleConfirm=function(e){var t,n=this,r=this.props.editor;r.flushInput();var i=r.selection.getSelection(),o=i.start,a=o.zoneId,l=r.getContentState(),s=null==l||null==(t=l.getZoneState(a))?void 0:t.getLine(o.line);if(s){var u=s.getModelText(),c=s.getOffset().start+u.slice(0,o.offset).lastIndexOf("@"),d=new ae({zoneId:a}).retain(c).delete(i.toPosition().start-c);Array.isArray(e)||(e=[e]),e.forEach((function(e){var t=n.generateData(e);d.insert(" ",{dataMetaBlockProps:JSON.stringify(t)})})),l.apply(d),this.closeSuggest()}},u(t)}(WE),GE=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.matchLink=function(e){for(var t=/https?:\/\/.+\.(feishu|larksuite|larkoffice)\.(\w+)\/(\w+)\/(\w+)(?:\?([\w\-_/=&.%]*))?(?:#(\w{0,27}))?$/g,n=[],r=t.exec(e);r;){var i=r,o=i[0],a=i[1],l=i[2],s=i[3],u=i[4],c=i[5],d=i[6],f=t.lastIndex;n.push({url:o,token:u,start:f-o.length,end:f,topLevelDomain:l,business:s,hash:d,query:c,domain:a}),r=t.exec(e)}return n},u(t)}(KE),VE=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).serialize=function(e){var n=e.op;if(null==n||!n.attributes)return e;if(n.attributes[Fk.KEY]){var r=n.attributes,i=document.createElement("span"),o=t.maps.get(r.sourceID);if(i.setAttribute("data-object-id",r.objectID),i.setAttribute("data-source-id",r.sourceID),i.className="op-editor-kit-video",(null==o?void 0:o.status)===Lk.successView)for(var a=0,l=Object.entries(r);a<l.length;a++){var s=l[a],u=s[0],c=s[1];"objectID"!==u&&"sourceID"!==u&&i.setAttribute("data-"+u,String(c))}return i.appendChild(document.createElement("span")),Object.assign(e,{node:i})}return e},t.deserialize=function(e){var t,n,r,i,o,a,l=e.deltaSet,s=e.node,u=e.zoneId;return s&&s instanceof HTMLElement&&null!=s&&s.classList.contains("op-editor-kit-video")?l.concat(new ae({zoneId:u}).insert(" ",((a={})[Fk.KEY]="true",a.src=null!=(t=s.dataset.src)?t:"",a.objectID=Xe(8),a.sourceID=Xe(8),a.name=null!=(n=s.dataset.name)?n:"",a.mimeType=null!=(r=s.dataset.mimeType)?r:"",a.size=null!=(i=s.dataset.size)?i:"",a.poster=null!=(o=s.dataset.poster)?o:"",a))):l},t}return d(t,e),u(t)}(Fk),QE=n(379),XE=n.n(QE),qE=n(795),JE=n.n(qE),$E=n(569),ex=n.n($E),tx=n(565),nx=n.n(tx),rx=n(216),ix=n.n(rx),ox=n(589),ax=n.n(ox),lx=n(130),sx={};sx.styleTagTransform=ax(),sx.setAttributes=nx(),sx.insert=ex().bind(null,"head"),sx.domAPI=JE(),sx.insertStyleElement=ix();XE()(lx.Z,sx);lx.Z&&lx.Z.locals&&lx.Z.locals;var ux=n(300),cx={};cx.styleTagTransform=ax(),cx.setAttributes=nx(),cx.insert=ex().bind(null,"head"),cx.domAPI=JE(),cx.insertStyleElement=ix();XE()(ux.Z,cx);ux.Z&&ux.Z.locals&&ux.Z.locals;var dx=n(926),fx={};fx.styleTagTransform=ax(),fx.setAttributes=nx(),fx.insert=ex().bind(null,"head"),fx.domAPI=JE(),fx.insertStyleElement=ix();XE()(dx.Z,fx);dx.Z&&dx.Z.locals&&dx.Z.locals;var hx=n(825),px={};px.styleTagTransform=ax(),px.setAttributes=nx(),px.insert=ex().bind(null,"head"),px.domAPI=JE(),px.insertStyleElement=ix();XE()(hx.Z,px);hx.Z&&hx.Z.locals&&hx.Z.locals;var gx=n(792),vx={};vx.styleTagTransform=ax(),vx.setAttributes=nx(),vx.insert=ex().bind(null,"head"),vx.domAPI=JE(),vx.insertStyleElement=ix();XE()(gx.Z,vx);gx.Z&&gx.Z.locals&&gx.Z.locals;var mx=n(27),bx={};bx.styleTagTransform=ax(),bx.setAttributes=nx(),bx.insert=ex().bind(null,"head"),bx.domAPI=JE(),bx.insertStyleElement=ix();XE()(mx.Z,bx);mx.Z&&mx.Z.locals&&mx.Z.locals;var yx=n(823),wx={};wx.styleTagTransform=ax(),wx.setAttributes=nx(),wx.insert=ex().bind(null,"head"),wx.domAPI=JE(),wx.insertStyleElement=ix();XE()(yx.Z,wx);yx.Z&&yx.Z.locals&&yx.Z.locals;var Ix=n(772),Cx={};Cx.styleTagTransform=ax(),Cx.setAttributes=nx(),Cx.insert=ex().bind(null,"head"),Cx.domAPI=JE(),Cx.insertStyleElement=ix();XE()(Ix.Z,Cx);Ix.Z&&Ix.Z.locals&&Ix.Z.locals;var kx=n(771),Ex={};Ex.styleTagTransform=ax(),Ex.setAttributes=nx(),Ex.insert=ex().bind(null,"head"),Ex.domAPI=JE(),Ex.insertStyleElement=ix();XE()(kx.Z,Ex);kx.Z&&kx.Z.locals&&kx.Z.locals;var xx=n(5),Mx={};Mx.styleTagTransform=ax(),Mx.setAttributes=nx(),Mx.insert=ex().bind(null,"head"),Mx.domAPI=JE(),Mx.insertStyleElement=ix();XE()(xx.Z,Mx);xx.Z&&xx.Z.locals&&xx.Z.locals;var Sx=n(314),Tx={};Tx.styleTagTransform=ax(),Tx.setAttributes=nx(),Tx.insert=ex().bind(null,"head"),Tx.domAPI=JE(),Tx.insertStyleElement=ix();XE()(Sx.Z,Tx);Sx.Z&&Sx.Z.locals&&Sx.Z.locals;var Ax=n(869),Nx={};Nx.styleTagTransform=ax(),Nx.setAttributes=nx(),Nx.insert=ex().bind(null,"head"),Nx.domAPI=JE(),Nx.insertStyleElement=ix();XE()(Ax.Z,Nx);Ax.Z&&Ax.Z.locals&&Ax.Z.locals;var Lx=n(769),Dx={};Dx.styleTagTransform=ax(),Dx.setAttributes=nx(),Dx.insert=ex().bind(null,"head"),Dx.domAPI=JE(),Dx.insertStyleElement=ix();XE()(Lx.Z,Dx);Lx.Z&&Lx.Z.locals&&Lx.Z.locals;var zx,Ox=["readOnly","mountPoint","autoHeight"],Rx={types:[th.heading,th.ul,th.ol,th.checkbox,th.bold,th.italic,th.underline,th.blockQuote,th.strikethrough,th.horizontal]},_x=["image"],jx=((zx={})[t.ContentState]=vt,zx[t.Range]=wt,zx[t.ZoneState]=Nt,zx[t.UndoModule]=Pt,zx[t.InputModel]=kr,zx),Px=function(t){function n(e){var n;(n=t.call(this,e)||this).editor=void 0,n.realChange=!1,n.videoMap=new Map,n._video=void 0,n.register=function(e){var t=n.getTextsByLanguage(),r=n.props,a=r.readOnly,l=r.plugins,s=void 0===l?[]:l,u=r.supportAttribution,c=void 0===u||u,d=r.supportHyperlink,f=void 0===d||d,h=r.supportInsertImage,p=void 0===h||h,g=r.supportMarkdown,v=void 0===g||g,m=r.emitUploadPasteImage,b=r.getMentionData,y=r.emitMentionSelect,w=r.emitAtFinder,I=r.emitGetFileInfo,C=r.showUserAvatar,k=void 0!==C&&C,E=r.locale,x=r.mountPoint,M=r.autoHeight,S=r.container,T=[new Of({editor:e}),new uh({editor:e}),new dh({editor:e}),new hh({editor:e}),new ph({editor:e}),new gh({editor:e}),new vh({editor:e}),new Ch({editor:e}),new Eh({editor:e}),new Mh({editor:e}),new Fh({editor:e}),new Hh({editor:e}),new Kh({editor:e}),new Qh({editor:e}),new Xh({editor:e})],A=[new Ar,new Mi,new Jh({editor:e,shortcutsMap:uE}),new $h,new tp({editor:e,blackAttrKeyList:_x}),new ip({editor:e,i18n:t.text,Manager:cp((function(e){if(!s.length||a)return x.classList.add("no-toolbar"),null;var t=s.indexOf("undo"),r=s.indexOf("redo");return t>-1&&r>-1&&1===Math.abs(t-r)&&s.splice(Math.min(t,r),2,"undoRedo"),iE(e,a?[]:s,n.props)}))})];return c&&A.push.apply(A,T),f&&A.push(new Ap({editor:e,i18n:t.text,customProtocols:["lark"],getPopupContainer:function(){return M?x:S}})),p&&A.push(new ng({editor:e,onInsertImage:n.onInsertImage}),new cE({editor:e,uploadPasteImg:m})),v&&A.push(new ah({editor:e,markdownOptions:Rx})),null!=s&&s.includes("table")&&A.push(new Hy({editor:e,cellMinWidth:30,render:function(e){return dI(e)}})),null!=s&&s.includes("mention")&&A.push(new YE({editor:e,lang:E,showUserAvatar:k,getPopupContainer:function(){return x},onSuggest:function(n){var r=n.onConfirm,a=n.anchorRect,l=n.mountNode,s=n.query;if(w)return w({atfinderCallback:r}),{close:function(){}};if(x&&M){var u=x.getBoundingClientRect(),c=u.height,d=u.top,f=a.top-d,h=c-f-a.height,p=Math.min(a.top,f);h<p&&(x.style.minHeight=Math.abs(h-p)+c+"px")}return o.render(i.createElement(MI,{lang:E,i18n:t.text,anchorRect:a,editor:e,onConfirm:function(e){r(e),null==y||y(e)},query:s,renderAside:function(){return i.createElement(SI,null)},getData:function(){return new Promise((function(e){null==b||b({content:s},e)}))}}),l),{close:function(){o.unmountComponentAtNode(l),x&&M&&(x.style.minHeight="")}}}})),I&&A.push(new GE({editor:e,getLinkInfo:I})),n._video=new VE({editor:e,onUpload:n.uploadVideo,renderVideoView:n.renderVideoView}),A.push(n._video),A},n.uploadVideo=function(e,t){for(var r,i=n.props.emitInsertVideo,o=function(){var e=r.value,o=e.file,a=e.sourceID;i(o,a).then((function(e){var r,i=e.src,o=e.poster,l=void 0===o?"":o;n.videoMap.set(i,l),t.onSuccess(a,i),null==(r=n._video)||r.updateAttributes(a,{poster:l})})).catch((function(){t.onError(a)}))},a=l(e);!(r=a()).done;)o()},n.renderVideoView=function(e,t){var r,o,a=t.attributes,l=a.mimeType,s=null!=(r=null!=(o=a.poster)?o:n.videoMap.get(e))?r:"";return i.createElement("div",null,i.createElement("video",{controls:!0,style:{width:"100%"},playsInline:!0,controlsList:"nodownload",preload:"metadata",poster:s},i.createElement("source",{src:e,type:l}),i.createElement("source",{src:e})))},n.onInsertImage=function(e,t){var r=n.props.emitImage,i=[];try{i=t?Array.from(t):[]}catch(e){i=[]}var o=i.map((function(e){return{filePath:e.path,file:e}})),a=e.zoneId,l=e.len,s=e.start;r({images:o,insertImagesCallback:function(e){return n.insertImagesCallback({zoneId:a,len:l,start:s},e)}})},n.insertImagesCallback=function(e,t){var r,i;if(n.editor){var o=n.editor.getContentState(),a=e.zoneId,l=e.len,s=e.start,u=new ae({zoneId:a}).retain(s).delete(l),c=n.editor.selection.getSelection().start.line;n.editor.isEmpty()||null!=o&&null!=(r=o.getZoneState(a))&&null!=(i=r.getLine(c))&&i.isEmpty()||u.insertEnter();for(var d=function(){var e,t=h[f],n={uuid:zt(8),src:t},r=Object.keys(n).reduce((function(e,t){return e[t]=n[t].toString(),e}),{});u.insert(" ",Object.assign((e={},e[ng.KEY]="true",e),r)).insertEnter()},f=0,h=Array.from(t);f<h.length;f++)d();o.apply(u)}},n.handleInit=function(e){window.editor=n.editor=e,e.clipboard.setCanInternalPasteWhitelist(["lark_docs","lark_sheet"]),e.on("paint",(function(){return n.triggerContentChange("paint")})),e.on("contentchange",(function(){return n.triggerContentChange("contentchange")})),e.on("focus",(function(){return n.props.emitFocus(!0)})),e.on("blur",(function(){return n.props.emitFocus(!1)}))},n.setContents=function(e){if(n.editor)if(e.html)n.editor.setHTML(e.html);else if(e.text)n.editor.setText(e.text);else if(e.deltaSet)n.editor.setContent(e.deltaSet);else if(e.json){var t=e.json,r=t,i=r.initialAttributedTexts,o=r.apool;i&&o&&(t=zI(function(e,t){for(var n=e.attribs,r=e.cols,i=e.rows,o=e.text,a=ts(t),l=new J({}),s=Object.keys(n),u=0;u<s.length;u++){var c=s[u],d=es(c,n[c],(null==r?void 0:r[c])||(null==i?void 0:i[c])||o[c],a);l.add(c,d)}return l}(i,o))),n.editor.setContent(t)}},n.triggerContentChange=function(e){var t,r;if(n.editor){var i=n.props.emitInput;if("contentchange"!==e){if("paint"!==e||n.realChange){var o=null==(t=n.editor)?void 0:t.isEmpty(),a=null==(r=n.editor)?void 0:r.getContent(),l=a;try{l=rs(function(e){var t=new J;return e.forEach((function(e){if("Z"===e.zoneType){var n=e.create({zoneId:e.zoneId});e.forEach((function(e){var t,r,i=e;if((null===(t=i.attributes)||void 0===t?void 0:t.image)&&(null===(r=i.attributes)||void 0===r?void 0:r.src)){var o=i.attributes,a=o.src,l=o.uuid;n.insert(i.insert,{image:JSON.stringify({src:a,uuid:l})})}else n.insert(i.insert,i.attributes)})),t.add(n.zoneId,n)}else t.add(e.zoneId,e)})),t}(n.editor.getContent()))}catch(e){l=a}var s={html:n.editor.getHTML(),text:n.editor.getText(),json:l,deltaSet:{t:a.deltas},deltas:a.deltas,isEmpty:o};null==i||i(s),n.realChange=!1}}else n.realChange=!0}},n.triggerReady=function(){if(n.editor){var e=n.props,t=e.contents,r=e.emitReady,i=e.container,o=e.mountPoint,a=e.autoHeight,l=i.getElementsByClassName("adit-toolbar").length,s=window.getComputedStyle(i),u=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),c=a?i.offsetHeight-(l?40:0)-u:o.offsetHeight;n.setState({defaultStyle:Object.assign({},n.state.defaultStyle,{minHeight:c})}),n.setContents(t||{}),n.editor.selection.setSelection({zoneId:"0",start:0,len:0}),null==r||r(n.editor)}},n.getTextsByLanguage=function(){var e=n.props.locale;return"cn"===e?{text:sE,locale:"cn"}:"jp"===e?{text:lE,locale:"jp"}:{text:aE,locale:"en"}},n.setPlaceholder=function(e){n.setState({placeholder:e})},n.setStyle=function(e){n.editor&&n.setState({defaultStyle:Object.assign({},n.state.defaultStyle,e)})};var r=e.aditStyle,a=e.placeholder;return n.state={placeholder:a,defaultStyle:Object.assign({fontSize:16,color:"var(--N900)",background:"var(--editor-bg-body)",borderTop:"0",overflow:"hidden"},r)},n}d(n,t);var r=n.prototype;return r.componentDidMount=function(){this.triggerReady()},r.render=function(){var t=this.props,n=t.readOnly,r=t.mountPoint,o=(t.autoHeight,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,Ox)),a=this.state,l=a.placeholder,s=a.defaultStyle,u=this.getTextsByLanguage();return i.createElement(hl,e({},o,{businessKey:"lark_mini_app",editable:!n,copyable:!0,placeholder:l,register:this.register,schema:oE,onInit:this.handleInit,style:s,modules:jx,debounceFlush:100,scroller:r,i18n:u.text}))},u(n)}(i.Component);window.renderEditor=function(t){var n=t.mountPoint,r=t.getEditorRef;o.render(i.createElement(Px,e({},t,{ref:r})),n)},window.removeEditor=function(e){o.unmountComponentAtNode(e)}})()})();